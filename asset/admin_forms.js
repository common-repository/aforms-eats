(()=>{"use strict";function e(e,t){for(var n=[],r=[],o=arguments.length;o-- >2;)n.push(arguments[o]);for(;n.length;){var i=n.pop();if(i&&i.pop)for(o=i.length;o--;)n.push(i[o]);else null!=i&&!0!==i&&!1!==i&&r.push(i)}return"function"==typeof e?e(t||{},r):{nodeName:e,attributes:t||{},children:r,key:t&&t.key}}var t={};function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.focusErrorInput=t.findIndexByProp=t.findByProp=t.deepCopy=t.createMessages=t.branchNo=t.Message=void 0,t.hremove=function(e,t){var n=a({},e);return delete n[t],n},t.scrollToTop=t.reduceHash=t.mapHash=t.lreplace=t.lremove=t.lmove=t.linsert=t.joinSet=void 0,t.sprintf=function(e){var t=arguments,n=1;return e.replace(/%([0-9]\$)?([^0-9])/g,(function(e,r,o){return"%"==o?"%":"s"==o?r?t[r.slice(0,1)]:t[n++]:void 0}))},t.updateMessages=t.translate=t.tnOnRemove=t.tnOnCreate=t.strToVdom=void 0;t.tnOnCreate=function(e){var t=null;e.classList.add("wq-is-created"),window.setTimeout((function(){e.classList.add("wq-is-run"),e.classList.remove("wq-is-created"),e.addEventListener("transitionend",(function(){e.classList.remove("wq-is-run"),window.clearTimeout(t)}),{once:!0}),t=window.setTimeout((function(){e.classList.remove("wq-is-run")}),3e3)}),50)};t.tnOnRemove=function(e,t){var n=null;e.classList.add("wq-is-run"),window.setTimeout((function(){e.classList.add("wq-is-removed"),e.addEventListener("transitionend",(function(){try{e.classList.remove("wq-is-run"),window.clearTimeout(n),t()}catch(e){}}))}),50),n=window.setTimeout((function(){try{t()}catch(e){}}),3e3)};var l=function(e){return 0===e.message.indexOf("should match pattern")?"should match pattern":"should match some schema in anyOf"===e.message||"should match exactly one schema in oneOf"===e.message?null:e.message};t.createMessages=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.reduce((function(e,n){if(-1!=t.indexOf(n.dataPath))return e;var r=l(n);return null===r?e:a(a({},e),{},u({},n.dataPath,r))}),{})};t.updateMessages=function(e,t,n){if(0==(null===n?[]:n.filter((function(e){return e.dataPath==t}))).length){var r=a({},e);return delete r[t],r}return n.reduce((function(e,n){var r=l(n);return null===r?e:a(a({},e),{},u({},t,r))}),e)};var c={nodeName:"br",attributes:{},children:[]};t.strToVdom=function(e){var t=e.split("\n");return 1==t.length?t[0]:t.reduce((function(e,t){return 0==e.length?[t]:[].concat(r(e),[c,t])}),[])};t.translate=function(e){return function(t){return void 0===t?null:e.hasOwnProperty(t)?e[t]:(console.log("TO TRANSLATE: ",t),t)}};t.deepCopy=function(e){return JSON.parse(JSON.stringify(e))};t.Message=function(t,r){return 0==r.length?null:(t.hasOwnProperty("id")&&(t.key=t.id),e("div",n({class:"wq-Message"},t),r))};t.focusErrorInput=function(e){var t=null;if(Array.isArray(e)){if(0==e.length)return;t=e[0].dataPath.slice(1)}else{var n=Object.keys(e);if(0==n.length)return;t=n[0].slice(1)}var r=document.getElementsByName(t);0!=r.length&&r[0].focus()};t.mapHash=function(e,t){var n={};for(var r in t)n[r]=e(r,t[r]);return n};t.reduceHash=function(e,t,n){for(var r in n)t=e(t,r,n[r]);return t};t.branchNo=function(e,t){var n=e.lastIndexOf(t),r=e.slice(n+1);return parseInt(r)};t.findByProp=function(e,t,n){for(var r=n.length,o=0;o<r;o++)if(n[o][e]==t)return n[o]};t.findIndexByProp=function(e,t,n){for(var r=n.length,o=0;o<r;o++)if(n[o][e]==t)return o;return-1};t.lmove=function(e,t,n){var r=e[t],o=e.filter((function(e,n){return n!=t}));return o.splice(n,0,r),o};t.linsert=function(e,t,n){var o=e.reduce((function(e,o,i){return[].concat(r(e),i==t?[n,o]:[o])}),[]);return o.length==t&&o.push(n),o};t.lremove=function(e,t){return e=e.filter((function(e,n){return n!=t}))};t.lreplace=function(e,t,n){return e.map((function(e,r){return r==t?n:e}))};t.joinSet=function(e,t){var n="",r=!1;for(var o in e)r&&(n+=t),n+=o,r=!0;return n};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.scrollToTop=function e(){var t=document.documentElement.scrollTop||document.body.scrollTop;if(t>0){var n=Math.max(t/8,4);window.requestAnimationFrame(e),window.scrollTo(0,t-n)}};var p={onDelete:function(e){return function(t,n){var r=e.currentTarget.id.split("-")[1];if(window.confirm(m("Do You Want To Remove This Form?")))return function(e,t,n){jQuery.ajax({type:"post",url:t,success:function(t){n(e)},dataType:"json"})}(r,h.replace("placeholder",r),n.onDeleteK),f(f({},t),{},{loading:!0})}},onDeleteK:function(e){return function(n,r){var o=(0,t.findIndexByProp)("id",e,n.forms),i=(0,t.lremove)(n.forms,o);return f(f({},n),{},{notice:"Form deleted.",loading:!1,forms:i})}},onDuplicate:function(e){return function(t,n){var r,o,i=e.currentTarget.id.split("-")[1];return r=y.replace("placeholder",i),o=n.onDuplicateK,jQuery.ajax({type:"post",url:r,success:function(e){o(e)},dataType:"json"}),f(f({},t),{},{loading:!0})}},onDuplicateK:function(e){var n=e.form;return function(e,r){var o=(0,t.linsert)(e.forms,0,n);o.sort((function(e,t){return t.id-e.id}));var i=o;return f(f({},e),{},{notice:"Form duplicated.",loading:!1,forms:i})}},hideNotice:function(){return function(e,t){return f(f({},e),{},{notice:null})}}},m=(0,t.translate)(wqData.catalog),v=wqData.editUrl,h=wqData.delUrl,y=wqData.dupUrl,g=wqData.pvUrl,b=(wqData.newUrl,wqData.user),w=wqData.caps;!function(e,t,n,r){var o,i=[].map,a=r&&r.children[0]||null,u=a&&function e(t){return{nodeName:t.nodeName.toLowerCase(),attributes:{},children:i.call(t.childNodes,(function(t){return 3===t.nodeType?t.nodeValue:e(t)}))}}(a),l=[],c=!0,s=v(e),f=function e(t,n,r){for(var o in r)"function"==typeof r[o]?function(e,o){r[e]=function(e){var i=o(e);return"function"==typeof i&&(i=i(y(t,s),r)),i&&i!==(n=y(t,s))&&!i.then&&m(s=h(t,v(n,i),s)),i}}(o,r[o]):e(t.concat(o),n[o]=v(n[o]),r[o]=v(r[o]));return r}([],s,v(t));function d(e){return"function"==typeof e?d(e(s,f)):null!=e?e:""}function p(){o=!o;var e=d(n);for(r&&!o&&(a=T(r,a,u,u=e)),c=!1;l.length;)l.pop()()}function m(){o||(o=!0,setTimeout(p))}function v(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function h(e,t,n){var r={};return e.length?(r[e[0]]=e.length>1?h(e.slice(1),t,n[e[0]]):t,v(n,r)):t}function y(e,t){for(var n=0;n<e.length;)t=t[e[n++]];return t}function g(e){return e?e.key:null}function b(e){return e.currentTarget.events[e.type](e)}function w(e,t,n,r,o){if("key"===t);else if("style"===t)if("string"==typeof n)e.style.cssText=n;else for(var i in"string"==typeof r&&(r=e.style.cssText=""),v(r,n)){var a=null==n||null==n[i]?"":n[i];"-"===i[0]?e.style.setProperty(i,a):e.style[i]=a}else"o"===t[0]&&"n"===t[1]?(t=t.slice(2),e.events?r||(r=e.events[t]):e.events={},e.events[t]=n,n?r||e.addEventListener(t,b):e.removeEventListener(t,b)):t in e&&"list"!==t&&"type"!==t&&"draggable"!==t&&"spellcheck"!==t&&"translate"!==t&&!o?e[t]=null==n?"":n:null!=n&&!1!==n&&e.setAttribute(t,n),null!=n&&!1!==n||e.removeAttribute(t)}function O(e,t){var n="string"==typeof e||"number"==typeof e?document.createTextNode(e):(t=t||"svg"===e.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",e.nodeName):document.createElement(e.nodeName),r=e.attributes;if(r){r.oncreate&&l.push((function(){r.oncreate(n)}));for(var o=0;o<e.children.length;o++)n.appendChild(O(e.children[o]=d(e.children[o]),t));for(var i in r)w(n,i,r[i],null,t)}return n}function j(e,t){var n=t.attributes;if(n){for(var r=0;r<t.children.length;r++)j(e.childNodes[r],t.children[r]);n.ondestroy&&n.ondestroy(e)}return e}function P(e,t,n){function r(){e.removeChild(j(t,n))}var o=n.attributes&&n.attributes.onremove;o?o(t,r):r()}function T(e,t,n,r,o){if(r===n);else if(null==n||n.nodeName!==r.nodeName){var i=O(r,o);e.insertBefore(i,t),null!=n&&P(e,t,n),t=i}else if(null==n.nodeName)t.nodeValue=r;else{!function(e,t,n,r){for(var o in v(t,n))n[o]!==("value"===o||"checked"===o?e[o]:t[o])&&w(e,o,n[o],t[o],r);var i=c?n.oncreate:n.onupdate;i&&l.push((function(){i(e,t)}))}(t,n.attributes,r.attributes,o=o||"svg"===r.nodeName);for(var a={},u={},s=[],f=n.children,p=r.children,m=0;m<f.length;m++){s[m]=t.childNodes[m],null!=(y=g(f[m]))&&(a[y]=[s[m],f[m]])}m=0;for(var h=0;h<p.length;){var y=g(f[m]),b=g(p[h]=d(p[h]));if(u[y])m++;else if(null==b||b!==g(f[m+1]))if(null==b||c)null==y&&(T(t,s[m],f[m],p[h],o),h++),m++;else{var j=a[b]||[];y===b?(T(t,j[0],j[1],p[h],o),m++):j[0]?T(t,t.insertBefore(j[0],s[m]),j[1],p[h],o):T(t,s[m],null,p[h],o),u[b]=p[h],h++}else null==y&&P(t,s[m],f[m]),m++}for(;m<f.length;)null==g(f[m])&&P(t,s[m],f[m]),m++;for(var m in a)u[m]||P(t,a[m][0],a[m][1])}return t}m()}({forms:wqData.forms,loading:!1,notice:null},p,(function(t,n){return e("form",null,t.notice?e("div",{class:"updated settings-error notice is-dismissible"},e("p",null,e("strong",null,m(t.notice))),e("button",{type:"button",class:"notice-dismiss",onclick:n.hideNotice},e("span",{class:"screen-reader-text"},m("Dismiss this notice.")))):null,e("table",{class:"wp-list-table widefat fixed striped"},e("thead",null,e("tr",null,e("th",{scope:"col",id:"title",class:"manage-column column-title column-primary"},m("Title")),e("th",{scope:"col",id:"author",class:"manage-column column-author"},m("Author")),e("th",{scope:"col",id:"date",class:"manage-column column-date"},m("Date")))),e("tbody",{id:"the-list"},t.forms.map((function(t){var r,o=v.replace("placeholder",t.id),i=g.replace("placeholder",t.id),a=w.writeOthers||w.write&&t.author.id==b.id;return e("tr",{id:"form-".concat(t.id)},e("td",{class:"title column-title column-primary"},e("strong",null,e("a",{class:"row-title",href:o},"[",t.id,"] ",t.title)),e("div",{class:"row-actions"},e("span",{class:"edit"},e("a",{href:o},m(a?"Edit":"View"))," | "),w.write?e("span",{class:"duplicate"},e("a",{href:"javascript:void(0);",onclick:n.onDuplicate,id:"duplicate-".concat(t.id)},m("Duplicate"))," | "):null,a?e("span",{class:"trash"},e("a",{href:"javascript:void(0);",onclick:n.onDelete,id:"trash-".concat(t.id)},m("Trash"))," | "):null,e("span",{class:"my-preview"},e("a",{href:i,target:"_blank"},m("Preview"))))),e("td",{class:"author column-author"},t.author?t.author.name:""),e("td",{class:"date column-date"},e("abbr",null,(r=t.modified,new Date(1e3*r).toLocaleDateString(void 0)))))})))))}),document.getElementById("root"))})();
//# sourceMappingURL=admin_forms.js.map
