{"mappings":"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","sources":["node_modules/hyperapp/src/index.js","node_modules/ajv/lib/ajv.js","node_modules/ajv/lib/compile/index.js","node_modules/ajv/lib/compile/resolve.js","node_modules/uri-js/src/util.ts","node_modules/uri-js/src/regexps-uri.ts","node_modules/uri-js/src/regexps-iri.ts","node_modules/uri-js/node_modules/punycode/punycode.es6.js","node_modules/uri-js/src/uri.ts","node_modules/uri-js/src/schemes/http.ts","node_modules/uri-js/src/schemes/https.ts","node_modules/uri-js/src/schemes/ws.ts","node_modules/uri-js/src/schemes/wss.ts","node_modules/uri-js/src/schemes/mailto.ts","node_modules/uri-js/src/schemes/urn.ts","node_modules/uri-js/src/schemes/urn-uuid.ts","node_modules/uri-js/src/index.ts","node_modules/fast-deep-equal/index.js","node_modules/ajv/lib/compile/util.js","node_modules/ajv/lib/compile/ucs2length.js","node_modules/ajv/lib/compile/schema_obj.js","node_modules/json-schema-traverse/index.js","node_modules/ajv/lib/compile/error_classes.js","node_modules/fast-json-stable-stringify/index.js","node_modules/ajv/lib/dotjs/validate.js","node_modules/ajv/lib/cache.js","node_modules/ajv/lib/compile/formats.js","node_modules/ajv/lib/compile/rules.js","node_modules/ajv/lib/dotjs/index.js","node_modules/ajv/lib/dotjs/ref.js","node_modules/ajv/lib/dotjs/allOf.js","node_modules/ajv/lib/dotjs/anyOf.js","node_modules/ajv/lib/dotjs/comment.js","node_modules/ajv/lib/dotjs/const.js","node_modules/ajv/lib/dotjs/contains.js","node_modules/ajv/lib/dotjs/dependencies.js","node_modules/ajv/lib/dotjs/enum.js","node_modules/ajv/lib/dotjs/format.js","node_modules/ajv/lib/dotjs/if.js","node_modules/ajv/lib/dotjs/items.js","node_modules/ajv/lib/dotjs/_limit.js","node_modules/ajv/lib/dotjs/_limitItems.js","node_modules/ajv/lib/dotjs/_limitLength.js","node_modules/ajv/lib/dotjs/_limitProperties.js","node_modules/ajv/lib/dotjs/multipleOf.js","node_modules/ajv/lib/dotjs/not.js","node_modules/ajv/lib/dotjs/oneOf.js","node_modules/ajv/lib/dotjs/pattern.js","node_modules/ajv/lib/dotjs/properties.js","node_modules/ajv/lib/dotjs/propertyNames.js","node_modules/ajv/lib/dotjs/required.js","node_modules/ajv/lib/dotjs/uniqueItems.js","node_modules/ajv/lib/data.js","node_modules/ajv/lib/compile/async.js","node_modules/ajv/lib/keyword.js","node_modules/ajv/lib/dotjs/custom.js","node_modules/ajv/lib/definition_schema.js","node_modules/ajv/lib/refs/json-schema-draft-07.json","node_modules/ajv/lib/refs/data.json","node_modules/sortablejs/modular/sortable.esm.js","src/asset/admin_form.js","src/asset/admin_common.js"],"sourcesContent":["export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","'use strict';\n\nvar compileSchema = require('./compile')\n  , resolve = require('./compile/resolve')\n  , Cache = require('./cache')\n  , SchemaObject = require('./compile/schema_obj')\n  , stableStringify = require('fast-json-stable-stringify')\n  , formats = require('./compile/formats')\n  , rules = require('./compile/rules')\n  , $dataMetaSchema = require('./data')\n  , util = require('./compile/util');\n\nmodule.exports = Ajv;\n\nAjv.prototype.validate = validate;\nAjv.prototype.compile = compile;\nAjv.prototype.addSchema = addSchema;\nAjv.prototype.addMetaSchema = addMetaSchema;\nAjv.prototype.validateSchema = validateSchema;\nAjv.prototype.getSchema = getSchema;\nAjv.prototype.removeSchema = removeSchema;\nAjv.prototype.addFormat = addFormat;\nAjv.prototype.errorsText = errorsText;\n\nAjv.prototype._addSchema = _addSchema;\nAjv.prototype._compile = _compile;\n\nAjv.prototype.compileAsync = require('./compile/async');\nvar customKeyword = require('./keyword');\nAjv.prototype.addKeyword = customKeyword.add;\nAjv.prototype.getKeyword = customKeyword.get;\nAjv.prototype.removeKeyword = customKeyword.remove;\nAjv.prototype.validateKeyword = customKeyword.validate;\n\nvar errorClasses = require('./compile/error_classes');\nAjv.ValidationError = errorClasses.Validation;\nAjv.MissingRefError = errorClasses.MissingRef;\nAjv.$dataMetaSchema = $dataMetaSchema;\n\nvar META_SCHEMA_ID = 'http://json-schema.org/draft-07/schema';\n\nvar META_IGNORE_OPTIONS = [ 'removeAdditional', 'useDefaults', 'coerceTypes', 'strictDefaults' ];\nvar META_SUPPORT_DATA = ['/properties'];\n\n/**\n * Creates validator instance.\n * Usage: `Ajv(opts)`\n * @param {Object} opts optional options\n * @return {Object} ajv instance\n */\nfunction Ajv(opts) {\n  if (!(this instanceof Ajv)) return new Ajv(opts);\n  opts = this._opts = util.copy(opts) || {};\n  setLogger(this);\n  this._schemas = {};\n  this._refs = {};\n  this._fragments = {};\n  this._formats = formats(opts.format);\n\n  this._cache = opts.cache || new Cache;\n  this._loadingSchemas = {};\n  this._compilations = [];\n  this.RULES = rules();\n  this._getId = chooseGetId(opts);\n\n  opts.loopRequired = opts.loopRequired || Infinity;\n  if (opts.errorDataPath == 'property') opts._errorDataPathProperty = true;\n  if (opts.serialize === undefined) opts.serialize = stableStringify;\n  this._metaOpts = getMetaSchemaOptions(this);\n\n  if (opts.formats) addInitialFormats(this);\n  if (opts.keywords) addInitialKeywords(this);\n  addDefaultMetaSchema(this);\n  if (typeof opts.meta == 'object') this.addMetaSchema(opts.meta);\n  if (opts.nullable) this.addKeyword('nullable', {metaSchema: {type: 'boolean'}});\n  addInitialSchemas(this);\n}\n\n\n\n/**\n * Validate data using schema\n * Schema will be compiled and cached (using serialized JSON as key. [fast-json-stable-stringify](https://github.com/epoberezkin/fast-json-stable-stringify) is used to serialize.\n * @this   Ajv\n * @param  {String|Object} schemaKeyRef key, ref or schema object\n * @param  {Any} data to be validated\n * @return {Boolean} validation result. Errors from the last validation will be available in `ajv.errors` (and also in compiled schema: `schema.errors`).\n */\nfunction validate(schemaKeyRef, data) {\n  var v;\n  if (typeof schemaKeyRef == 'string') {\n    v = this.getSchema(schemaKeyRef);\n    if (!v) throw new Error('no schema with key or ref \"' + schemaKeyRef + '\"');\n  } else {\n    var schemaObj = this._addSchema(schemaKeyRef);\n    v = schemaObj.validate || this._compile(schemaObj);\n  }\n\n  var valid = v(data);\n  if (v.$async !== true) this.errors = v.errors;\n  return valid;\n}\n\n\n/**\n * Create validating function for passed schema.\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Boolean} _meta true if schema is a meta-schema. Used internally to compile meta schemas of custom keywords.\n * @return {Function} validating function\n */\nfunction compile(schema, _meta) {\n  var schemaObj = this._addSchema(schema, undefined, _meta);\n  return schemaObj.validate || this._compile(schemaObj);\n}\n\n\n/**\n * Adds schema to the instance.\n * @this   Ajv\n * @param {Object|Array} schema schema or array of schemas. If array is passed, `key` and other parameters will be ignored.\n * @param {String} key Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n * @param {Boolean} _skipValidation true to skip schema validation. Used internally, option validateSchema should be used instead.\n * @param {Boolean} _meta true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n * @return {Ajv} this for method chaining\n */\nfunction addSchema(schema, key, _skipValidation, _meta) {\n  if (Array.isArray(schema)){\n    for (var i=0; i<schema.length; i++) this.addSchema(schema[i], undefined, _skipValidation, _meta);\n    return this;\n  }\n  var id = this._getId(schema);\n  if (id !== undefined && typeof id != 'string')\n    throw new Error('schema id must be string');\n  key = resolve.normalizeId(key || id);\n  checkUnique(this, key);\n  this._schemas[key] = this._addSchema(schema, _skipValidation, _meta, true);\n  return this;\n}\n\n\n/**\n * Add schema that will be used to validate other schemas\n * options in META_IGNORE_OPTIONS are alway set to false\n * @this   Ajv\n * @param {Object} schema schema object\n * @param {String} key optional schema key\n * @param {Boolean} skipValidation true to skip schema validation, can be used to override validateSchema option for meta-schema\n * @return {Ajv} this for method chaining\n */\nfunction addMetaSchema(schema, key, skipValidation) {\n  this.addSchema(schema, key, skipValidation, true);\n  return this;\n}\n\n\n/**\n * Validate schema\n * @this   Ajv\n * @param {Object} schema schema to validate\n * @param {Boolean} throwOrLogError pass true to throw (or log) an error if invalid\n * @return {Boolean} true if schema is valid\n */\nfunction validateSchema(schema, throwOrLogError) {\n  var $schema = schema.$schema;\n  if ($schema !== undefined && typeof $schema != 'string')\n    throw new Error('$schema must be a string');\n  $schema = $schema || this._opts.defaultMeta || defaultMeta(this);\n  if (!$schema) {\n    this.logger.warn('meta-schema not available');\n    this.errors = null;\n    return true;\n  }\n  var valid = this.validate($schema, schema);\n  if (!valid && throwOrLogError) {\n    var message = 'schema is invalid: ' + this.errorsText();\n    if (this._opts.validateSchema == 'log') this.logger.error(message);\n    else throw new Error(message);\n  }\n  return valid;\n}\n\n\nfunction defaultMeta(self) {\n  var meta = self._opts.meta;\n  self._opts.defaultMeta = typeof meta == 'object'\n                            ? self._getId(meta) || meta\n                            : self.getSchema(META_SCHEMA_ID)\n                              ? META_SCHEMA_ID\n                              : undefined;\n  return self._opts.defaultMeta;\n}\n\n\n/**\n * Get compiled schema from the instance by `key` or `ref`.\n * @this   Ajv\n * @param  {String} keyRef `key` that was passed to `addSchema` or full schema reference (`schema.id` or resolved id).\n * @return {Function} schema validating function (with property `schema`).\n */\nfunction getSchema(keyRef) {\n  var schemaObj = _getSchemaObj(this, keyRef);\n  switch (typeof schemaObj) {\n    case 'object': return schemaObj.validate || this._compile(schemaObj);\n    case 'string': return this.getSchema(schemaObj);\n    case 'undefined': return _getSchemaFragment(this, keyRef);\n  }\n}\n\n\nfunction _getSchemaFragment(self, ref) {\n  var res = resolve.schema.call(self, { schema: {} }, ref);\n  if (res) {\n    var schema = res.schema\n      , root = res.root\n      , baseId = res.baseId;\n    var v = compileSchema.call(self, schema, root, undefined, baseId);\n    self._fragments[ref] = new SchemaObject({\n      ref: ref,\n      fragment: true,\n      schema: schema,\n      root: root,\n      baseId: baseId,\n      validate: v\n    });\n    return v;\n  }\n}\n\n\nfunction _getSchemaObj(self, keyRef) {\n  keyRef = resolve.normalizeId(keyRef);\n  return self._schemas[keyRef] || self._refs[keyRef] || self._fragments[keyRef];\n}\n\n\n/**\n * Remove cached schema(s).\n * If no parameter is passed all schemas but meta-schemas are removed.\n * If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n * Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n * @this   Ajv\n * @param  {String|Object|RegExp} schemaKeyRef key, ref, pattern to match key/ref or schema object\n * @return {Ajv} this for method chaining\n */\nfunction removeSchema(schemaKeyRef) {\n  if (schemaKeyRef instanceof RegExp) {\n    _removeAllSchemas(this, this._schemas, schemaKeyRef);\n    _removeAllSchemas(this, this._refs, schemaKeyRef);\n    return this;\n  }\n  switch (typeof schemaKeyRef) {\n    case 'undefined':\n      _removeAllSchemas(this, this._schemas);\n      _removeAllSchemas(this, this._refs);\n      this._cache.clear();\n      return this;\n    case 'string':\n      var schemaObj = _getSchemaObj(this, schemaKeyRef);\n      if (schemaObj) this._cache.del(schemaObj.cacheKey);\n      delete this._schemas[schemaKeyRef];\n      delete this._refs[schemaKeyRef];\n      return this;\n    case 'object':\n      var serialize = this._opts.serialize;\n      var cacheKey = serialize ? serialize(schemaKeyRef) : schemaKeyRef;\n      this._cache.del(cacheKey);\n      var id = this._getId(schemaKeyRef);\n      if (id) {\n        id = resolve.normalizeId(id);\n        delete this._schemas[id];\n        delete this._refs[id];\n      }\n  }\n  return this;\n}\n\n\nfunction _removeAllSchemas(self, schemas, regex) {\n  for (var keyRef in schemas) {\n    var schemaObj = schemas[keyRef];\n    if (!schemaObj.meta && (!regex || regex.test(keyRef))) {\n      self._cache.del(schemaObj.cacheKey);\n      delete schemas[keyRef];\n    }\n  }\n}\n\n\n/* @this   Ajv */\nfunction _addSchema(schema, skipValidation, meta, shouldAddSchema) {\n  if (typeof schema != 'object' && typeof schema != 'boolean')\n    throw new Error('schema should be object or boolean');\n  var serialize = this._opts.serialize;\n  var cacheKey = serialize ? serialize(schema) : schema;\n  var cached = this._cache.get(cacheKey);\n  if (cached) return cached;\n\n  shouldAddSchema = shouldAddSchema || this._opts.addUsedSchema !== false;\n\n  var id = resolve.normalizeId(this._getId(schema));\n  if (id && shouldAddSchema) checkUnique(this, id);\n\n  var willValidate = this._opts.validateSchema !== false && !skipValidation;\n  var recursiveMeta;\n  if (willValidate && !(recursiveMeta = id && id == resolve.normalizeId(schema.$schema)))\n    this.validateSchema(schema, true);\n\n  var localRefs = resolve.ids.call(this, schema);\n\n  var schemaObj = new SchemaObject({\n    id: id,\n    schema: schema,\n    localRefs: localRefs,\n    cacheKey: cacheKey,\n    meta: meta\n  });\n\n  if (id[0] != '#' && shouldAddSchema) this._refs[id] = schemaObj;\n  this._cache.put(cacheKey, schemaObj);\n\n  if (willValidate && recursiveMeta) this.validateSchema(schema, true);\n\n  return schemaObj;\n}\n\n\n/* @this   Ajv */\nfunction _compile(schemaObj, root) {\n  if (schemaObj.compiling) {\n    schemaObj.validate = callValidate;\n    callValidate.schema = schemaObj.schema;\n    callValidate.errors = null;\n    callValidate.root = root ? root : callValidate;\n    if (schemaObj.schema.$async === true)\n      callValidate.$async = true;\n    return callValidate;\n  }\n  schemaObj.compiling = true;\n\n  var currentOpts;\n  if (schemaObj.meta) {\n    currentOpts = this._opts;\n    this._opts = this._metaOpts;\n  }\n\n  var v;\n  try { v = compileSchema.call(this, schemaObj.schema, root, schemaObj.localRefs); }\n  catch(e) {\n    delete schemaObj.validate;\n    throw e;\n  }\n  finally {\n    schemaObj.compiling = false;\n    if (schemaObj.meta) this._opts = currentOpts;\n  }\n\n  schemaObj.validate = v;\n  schemaObj.refs = v.refs;\n  schemaObj.refVal = v.refVal;\n  schemaObj.root = v.root;\n  return v;\n\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var _validate = schemaObj.validate;\n    var result = _validate.apply(this, arguments);\n    callValidate.errors = _validate.errors;\n    return result;\n  }\n}\n\n\nfunction chooseGetId(opts) {\n  switch (opts.schemaId) {\n    case 'auto': return _get$IdOrId;\n    case 'id': return _getId;\n    default: return _get$Id;\n  }\n}\n\n/* @this   Ajv */\nfunction _getId(schema) {\n  if (schema.$id) this.logger.warn('schema $id ignored', schema.$id);\n  return schema.id;\n}\n\n/* @this   Ajv */\nfunction _get$Id(schema) {\n  if (schema.id) this.logger.warn('schema id ignored', schema.id);\n  return schema.$id;\n}\n\n\nfunction _get$IdOrId(schema) {\n  if (schema.$id && schema.id && schema.$id != schema.id)\n    throw new Error('schema $id is different from id');\n  return schema.$id || schema.id;\n}\n\n\n/**\n * Convert array of error message objects to string\n * @this   Ajv\n * @param  {Array<Object>} errors optional array of validation errors, if not passed errors from the instance are used.\n * @param  {Object} options optional options with properties `separator` and `dataVar`.\n * @return {String} human readable string with all errors descriptions\n */\nfunction errorsText(errors, options) {\n  errors = errors || this.errors;\n  if (!errors) return 'No errors';\n  options = options || {};\n  var separator = options.separator === undefined ? ', ' : options.separator;\n  var dataVar = options.dataVar === undefined ? 'data' : options.dataVar;\n\n  var text = '';\n  for (var i=0; i<errors.length; i++) {\n    var e = errors[i];\n    if (e) text += dataVar + e.dataPath + ' ' + e.message + separator;\n  }\n  return text.slice(0, -separator.length);\n}\n\n\n/**\n * Add custom format\n * @this   Ajv\n * @param {String} name format name\n * @param {String|RegExp|Function} format string is converted to RegExp; function should return boolean (true when valid)\n * @return {Ajv} this for method chaining\n */\nfunction addFormat(name, format) {\n  if (typeof format == 'string') format = new RegExp(format);\n  this._formats[name] = format;\n  return this;\n}\n\n\nfunction addDefaultMetaSchema(self) {\n  var $dataSchema;\n  if (self._opts.$data) {\n    $dataSchema = require('./refs/data.json');\n    self.addMetaSchema($dataSchema, $dataSchema.$id, true);\n  }\n  if (self._opts.meta === false) return;\n  var metaSchema = require('./refs/json-schema-draft-07.json');\n  if (self._opts.$data) metaSchema = $dataMetaSchema(metaSchema, META_SUPPORT_DATA);\n  self.addMetaSchema(metaSchema, META_SCHEMA_ID, true);\n  self._refs['http://json-schema.org/schema'] = META_SCHEMA_ID;\n}\n\n\nfunction addInitialSchemas(self) {\n  var optsSchemas = self._opts.schemas;\n  if (!optsSchemas) return;\n  if (Array.isArray(optsSchemas)) self.addSchema(optsSchemas);\n  else for (var key in optsSchemas) self.addSchema(optsSchemas[key], key);\n}\n\n\nfunction addInitialFormats(self) {\n  for (var name in self._opts.formats) {\n    var format = self._opts.formats[name];\n    self.addFormat(name, format);\n  }\n}\n\n\nfunction addInitialKeywords(self) {\n  for (var name in self._opts.keywords) {\n    var keyword = self._opts.keywords[name];\n    self.addKeyword(name, keyword);\n  }\n}\n\n\nfunction checkUnique(self, id) {\n  if (self._schemas[id] || self._refs[id])\n    throw new Error('schema with key or id \"' + id + '\" already exists');\n}\n\n\nfunction getMetaSchemaOptions(self) {\n  var metaOpts = util.copy(self._opts);\n  for (var i=0; i<META_IGNORE_OPTIONS.length; i++)\n    delete metaOpts[META_IGNORE_OPTIONS[i]];\n  return metaOpts;\n}\n\n\nfunction setLogger(self) {\n  var logger = self._opts.logger;\n  if (logger === false) {\n    self.logger = {log: noop, warn: noop, error: noop};\n  } else {\n    if (logger === undefined) logger = console;\n    if (!(typeof logger == 'object' && logger.log && logger.warn && logger.error))\n      throw new Error('logger must implement log, warn and error methods');\n    self.logger = logger;\n  }\n}\n\n\nfunction noop() {}\n","'use strict';\n\nvar resolve = require('./resolve')\n  , util = require('./util')\n  , errorClasses = require('./error_classes')\n  , stableStringify = require('fast-json-stable-stringify');\n\nvar validateGenerator = require('../dotjs/validate');\n\n/**\n * Functions below are used inside compiled validations function\n */\n\nvar ucs2length = util.ucs2length;\nvar equal = require('fast-deep-equal');\n\n// this error is thrown by async schemas to return validation errors via exception\nvar ValidationError = errorClasses.Validation;\n\nmodule.exports = compile;\n\n\n/**\n * Compiles schema to validation function\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Object} root object with information about the root schema for this schema\n * @param  {Object} localRefs the hash of local references inside the schema (created by resolve.id), used for inline resolution\n * @param  {String} baseId base ID for IDs in the schema\n * @return {Function} validation function\n */\nfunction compile(schema, root, localRefs, baseId) {\n  /* jshint validthis: true, evil: true */\n  /* eslint no-shadow: 0 */\n  var self = this\n    , opts = this._opts\n    , refVal = [ undefined ]\n    , refs = {}\n    , patterns = []\n    , patternsHash = {}\n    , defaults = []\n    , defaultsHash = {}\n    , customRules = [];\n\n  root = root || { schema: schema, refVal: refVal, refs: refs };\n\n  var c = checkCompiling.call(this, schema, root, baseId);\n  var compilation = this._compilations[c.index];\n  if (c.compiling) return (compilation.callValidate = callValidate);\n\n  var formats = this._formats;\n  var RULES = this.RULES;\n\n  try {\n    var v = localCompile(schema, root, localRefs, baseId);\n    compilation.validate = v;\n    var cv = compilation.callValidate;\n    if (cv) {\n      cv.schema = v.schema;\n      cv.errors = null;\n      cv.refs = v.refs;\n      cv.refVal = v.refVal;\n      cv.root = v.root;\n      cv.$async = v.$async;\n      if (opts.sourceCode) cv.source = v.source;\n    }\n    return v;\n  } finally {\n    endCompiling.call(this, schema, root, baseId);\n  }\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var validate = compilation.validate;\n    var result = validate.apply(this, arguments);\n    callValidate.errors = validate.errors;\n    return result;\n  }\n\n  function localCompile(_schema, _root, localRefs, baseId) {\n    var isRoot = !_root || (_root && _root.schema == _schema);\n    if (_root.schema != root.schema)\n      return compile.call(self, _schema, _root, localRefs, baseId);\n\n    var $async = _schema.$async === true;\n\n    var sourceCode = validateGenerator({\n      isTop: true,\n      schema: _schema,\n      isRoot: isRoot,\n      baseId: baseId,\n      root: _root,\n      schemaPath: '',\n      errSchemaPath: '#',\n      errorPath: '\"\"',\n      MissingRefError: errorClasses.MissingRef,\n      RULES: RULES,\n      validate: validateGenerator,\n      util: util,\n      resolve: resolve,\n      resolveRef: resolveRef,\n      usePattern: usePattern,\n      useDefault: useDefault,\n      useCustomRule: useCustomRule,\n      opts: opts,\n      formats: formats,\n      logger: self.logger,\n      self: self\n    });\n\n    sourceCode = vars(refVal, refValCode) + vars(patterns, patternCode)\n                   + vars(defaults, defaultCode) + vars(customRules, customRuleCode)\n                   + sourceCode;\n\n    if (opts.processCode) sourceCode = opts.processCode(sourceCode, _schema);\n    // console.log('\\n\\n\\n *** \\n', JSON.stringify(sourceCode));\n    var validate;\n    try {\n      var makeValidate = new Function(\n        'self',\n        'RULES',\n        'formats',\n        'root',\n        'refVal',\n        'defaults',\n        'customRules',\n        'equal',\n        'ucs2length',\n        'ValidationError',\n        sourceCode\n      );\n\n      validate = makeValidate(\n        self,\n        RULES,\n        formats,\n        root,\n        refVal,\n        defaults,\n        customRules,\n        equal,\n        ucs2length,\n        ValidationError\n      );\n\n      refVal[0] = validate;\n    } catch(e) {\n      self.logger.error('Error compiling schema, function code:', sourceCode);\n      throw e;\n    }\n\n    validate.schema = _schema;\n    validate.errors = null;\n    validate.refs = refs;\n    validate.refVal = refVal;\n    validate.root = isRoot ? validate : _root;\n    if ($async) validate.$async = true;\n    if (opts.sourceCode === true) {\n      validate.source = {\n        code: sourceCode,\n        patterns: patterns,\n        defaults: defaults\n      };\n    }\n\n    return validate;\n  }\n\n  function resolveRef(baseId, ref, isRoot) {\n    ref = resolve.url(baseId, ref);\n    var refIndex = refs[ref];\n    var _refVal, refCode;\n    if (refIndex !== undefined) {\n      _refVal = refVal[refIndex];\n      refCode = 'refVal[' + refIndex + ']';\n      return resolvedRef(_refVal, refCode);\n    }\n    if (!isRoot && root.refs) {\n      var rootRefId = root.refs[ref];\n      if (rootRefId !== undefined) {\n        _refVal = root.refVal[rootRefId];\n        refCode = addLocalRef(ref, _refVal);\n        return resolvedRef(_refVal, refCode);\n      }\n    }\n\n    refCode = addLocalRef(ref);\n    var v = resolve.call(self, localCompile, root, ref);\n    if (v === undefined) {\n      var localSchema = localRefs && localRefs[ref];\n      if (localSchema) {\n        v = resolve.inlineRef(localSchema, opts.inlineRefs)\n            ? localSchema\n            : compile.call(self, localSchema, root, localRefs, baseId);\n      }\n    }\n\n    if (v === undefined) {\n      removeLocalRef(ref);\n    } else {\n      replaceLocalRef(ref, v);\n      return resolvedRef(v, refCode);\n    }\n  }\n\n  function addLocalRef(ref, v) {\n    var refId = refVal.length;\n    refVal[refId] = v;\n    refs[ref] = refId;\n    return 'refVal' + refId;\n  }\n\n  function removeLocalRef(ref) {\n    delete refs[ref];\n  }\n\n  function replaceLocalRef(ref, v) {\n    var refId = refs[ref];\n    refVal[refId] = v;\n  }\n\n  function resolvedRef(refVal, code) {\n    return typeof refVal == 'object' || typeof refVal == 'boolean'\n            ? { code: code, schema: refVal, inline: true }\n            : { code: code, $async: refVal && !!refVal.$async };\n  }\n\n  function usePattern(regexStr) {\n    var index = patternsHash[regexStr];\n    if (index === undefined) {\n      index = patternsHash[regexStr] = patterns.length;\n      patterns[index] = regexStr;\n    }\n    return 'pattern' + index;\n  }\n\n  function useDefault(value) {\n    switch (typeof value) {\n      case 'boolean':\n      case 'number':\n        return '' + value;\n      case 'string':\n        return util.toQuotedString(value);\n      case 'object':\n        if (value === null) return 'null';\n        var valueStr = stableStringify(value);\n        var index = defaultsHash[valueStr];\n        if (index === undefined) {\n          index = defaultsHash[valueStr] = defaults.length;\n          defaults[index] = value;\n        }\n        return 'default' + index;\n    }\n  }\n\n  function useCustomRule(rule, schema, parentSchema, it) {\n    if (self._opts.validateSchema !== false) {\n      var deps = rule.definition.dependencies;\n      if (deps && !deps.every(function(keyword) {\n        return Object.prototype.hasOwnProperty.call(parentSchema, keyword);\n      }))\n        throw new Error('parent schema must have all required keywords: ' + deps.join(','));\n\n      var validateSchema = rule.definition.validateSchema;\n      if (validateSchema) {\n        var valid = validateSchema(schema);\n        if (!valid) {\n          var message = 'keyword schema is invalid: ' + self.errorsText(validateSchema.errors);\n          if (self._opts.validateSchema == 'log') self.logger.error(message);\n          else throw new Error(message);\n        }\n      }\n    }\n\n    var compile = rule.definition.compile\n      , inline = rule.definition.inline\n      , macro = rule.definition.macro;\n\n    var validate;\n    if (compile) {\n      validate = compile.call(self, schema, parentSchema, it);\n    } else if (macro) {\n      validate = macro.call(self, schema, parentSchema, it);\n      if (opts.validateSchema !== false) self.validateSchema(validate, true);\n    } else if (inline) {\n      validate = inline.call(self, it, rule.keyword, schema, parentSchema);\n    } else {\n      validate = rule.definition.validate;\n      if (!validate) return;\n    }\n\n    if (validate === undefined)\n      throw new Error('custom keyword \"' + rule.keyword + '\"failed to compile');\n\n    var index = customRules.length;\n    customRules[index] = validate;\n\n    return {\n      code: 'customRule' + index,\n      validate: validate\n    };\n  }\n}\n\n\n/**\n * Checks if the schema is currently compiled\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Object} object with properties \"index\" (compilation index) and \"compiling\" (boolean)\n */\nfunction checkCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var index = compIndex.call(this, schema, root, baseId);\n  if (index >= 0) return { index: index, compiling: true };\n  index = this._compilations.length;\n  this._compilations[index] = {\n    schema: schema,\n    root: root,\n    baseId: baseId\n  };\n  return { index: index, compiling: false };\n}\n\n\n/**\n * Removes the schema from the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n */\nfunction endCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var i = compIndex.call(this, schema, root, baseId);\n  if (i >= 0) this._compilations.splice(i, 1);\n}\n\n\n/**\n * Index of schema compilation in the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Integer} compilation index\n */\nfunction compIndex(schema, root, baseId) {\n  /* jshint validthis: true */\n  for (var i=0; i<this._compilations.length; i++) {\n    var c = this._compilations[i];\n    if (c.schema == schema && c.root == root && c.baseId == baseId) return i;\n  }\n  return -1;\n}\n\n\nfunction patternCode(i, patterns) {\n  return 'var pattern' + i + ' = new RegExp(' + util.toQuotedString(patterns[i]) + ');';\n}\n\n\nfunction defaultCode(i) {\n  return 'var default' + i + ' = defaults[' + i + '];';\n}\n\n\nfunction refValCode(i, refVal) {\n  return refVal[i] === undefined ? '' : 'var refVal' + i + ' = refVal[' + i + '];';\n}\n\n\nfunction customRuleCode(i) {\n  return 'var customRule' + i + ' = customRules[' + i + '];';\n}\n\n\nfunction vars(arr, statement) {\n  if (!arr.length) return '';\n  var code = '';\n  for (var i=0; i<arr.length; i++)\n    code += statement(i, arr);\n  return code;\n}\n","'use strict';\n\nvar URI = require('uri-js')\n  , equal = require('fast-deep-equal')\n  , util = require('./util')\n  , SchemaObject = require('./schema_obj')\n  , traverse = require('json-schema-traverse');\n\nmodule.exports = resolve;\n\nresolve.normalizeId = normalizeId;\nresolve.fullPath = getFullPath;\nresolve.url = resolveUrl;\nresolve.ids = resolveIds;\nresolve.inlineRef = inlineRef;\nresolve.schema = resolveSchema;\n\n/**\n * [resolve and compile the references ($ref)]\n * @this   Ajv\n * @param  {Function} compile reference to schema compilation funciton (localCompile)\n * @param  {Object} root object with information about the root schema for the current schema\n * @param  {String} ref reference to resolve\n * @return {Object|Function} schema object (if the schema can be inlined) or validation function\n */\nfunction resolve(compile, root, ref) {\n  /* jshint validthis: true */\n  var refVal = this._refs[ref];\n  if (typeof refVal == 'string') {\n    if (this._refs[refVal]) refVal = this._refs[refVal];\n    else return resolve.call(this, compile, root, refVal);\n  }\n\n  refVal = refVal || this._schemas[ref];\n  if (refVal instanceof SchemaObject) {\n    return inlineRef(refVal.schema, this._opts.inlineRefs)\n            ? refVal.schema\n            : refVal.validate || this._compile(refVal);\n  }\n\n  var res = resolveSchema.call(this, root, ref);\n  var schema, v, baseId;\n  if (res) {\n    schema = res.schema;\n    root = res.root;\n    baseId = res.baseId;\n  }\n\n  if (schema instanceof SchemaObject) {\n    v = schema.validate || compile.call(this, schema.schema, root, undefined, baseId);\n  } else if (schema !== undefined) {\n    v = inlineRef(schema, this._opts.inlineRefs)\n        ? schema\n        : compile.call(this, schema, root, undefined, baseId);\n  }\n\n  return v;\n}\n\n\n/**\n * Resolve schema, its root and baseId\n * @this Ajv\n * @param  {Object} root root object with properties schema, refVal, refs\n * @param  {String} ref  reference to resolve\n * @return {Object} object with properties schema, root, baseId\n */\nfunction resolveSchema(root, ref) {\n  /* jshint validthis: true */\n  var p = URI.parse(ref)\n    , refPath = _getFullPath(p)\n    , baseId = getFullPath(this._getId(root.schema));\n  if (Object.keys(root.schema).length === 0 || refPath !== baseId) {\n    var id = normalizeId(refPath);\n    var refVal = this._refs[id];\n    if (typeof refVal == 'string') {\n      return resolveRecursive.call(this, root, refVal, p);\n    } else if (refVal instanceof SchemaObject) {\n      if (!refVal.validate) this._compile(refVal);\n      root = refVal;\n    } else {\n      refVal = this._schemas[id];\n      if (refVal instanceof SchemaObject) {\n        if (!refVal.validate) this._compile(refVal);\n        if (id == normalizeId(ref))\n          return { schema: refVal, root: root, baseId: baseId };\n        root = refVal;\n      } else {\n        return;\n      }\n    }\n    if (!root.schema) return;\n    baseId = getFullPath(this._getId(root.schema));\n  }\n  return getJsonPointer.call(this, p, baseId, root.schema, root);\n}\n\n\n/* @this Ajv */\nfunction resolveRecursive(root, ref, parsedRef) {\n  /* jshint validthis: true */\n  var res = resolveSchema.call(this, root, ref);\n  if (res) {\n    var schema = res.schema;\n    var baseId = res.baseId;\n    root = res.root;\n    var id = this._getId(schema);\n    if (id) baseId = resolveUrl(baseId, id);\n    return getJsonPointer.call(this, parsedRef, baseId, schema, root);\n  }\n}\n\n\nvar PREVENT_SCOPE_CHANGE = util.toHash(['properties', 'patternProperties', 'enum', 'dependencies', 'definitions']);\n/* @this Ajv */\nfunction getJsonPointer(parsedRef, baseId, schema, root) {\n  /* jshint validthis: true */\n  parsedRef.fragment = parsedRef.fragment || '';\n  if (parsedRef.fragment.slice(0,1) != '/') return;\n  var parts = parsedRef.fragment.split('/');\n\n  for (var i = 1; i < parts.length; i++) {\n    var part = parts[i];\n    if (part) {\n      part = util.unescapeFragment(part);\n      schema = schema[part];\n      if (schema === undefined) break;\n      var id;\n      if (!PREVENT_SCOPE_CHANGE[part]) {\n        id = this._getId(schema);\n        if (id) baseId = resolveUrl(baseId, id);\n        if (schema.$ref) {\n          var $ref = resolveUrl(baseId, schema.$ref);\n          var res = resolveSchema.call(this, root, $ref);\n          if (res) {\n            schema = res.schema;\n            root = res.root;\n            baseId = res.baseId;\n          }\n        }\n      }\n    }\n  }\n  if (schema !== undefined && schema !== root.schema)\n    return { schema: schema, root: root, baseId: baseId };\n}\n\n\nvar SIMPLE_INLINED = util.toHash([\n  'type', 'format', 'pattern',\n  'maxLength', 'minLength',\n  'maxProperties', 'minProperties',\n  'maxItems', 'minItems',\n  'maximum', 'minimum',\n  'uniqueItems', 'multipleOf',\n  'required', 'enum'\n]);\nfunction inlineRef(schema, limit) {\n  if (limit === false) return false;\n  if (limit === undefined || limit === true) return checkNoRef(schema);\n  else if (limit) return countKeys(schema) <= limit;\n}\n\n\nfunction checkNoRef(schema) {\n  var item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return false;\n      item = schema[key];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  }\n  return true;\n}\n\n\nfunction countKeys(schema) {\n  var count = 0, item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object') count += countKeys(item);\n      if (count == Infinity) return Infinity;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return Infinity;\n      if (SIMPLE_INLINED[key]) {\n        count++;\n      } else {\n        item = schema[key];\n        if (typeof item == 'object') count += countKeys(item) + 1;\n        if (count == Infinity) return Infinity;\n      }\n    }\n  }\n  return count;\n}\n\n\nfunction getFullPath(id, normalize) {\n  if (normalize !== false) id = normalizeId(id);\n  var p = URI.parse(id);\n  return _getFullPath(p);\n}\n\n\nfunction _getFullPath(p) {\n  return URI.serialize(p).split('#')[0] + '#';\n}\n\n\nvar TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n  return id ? id.replace(TRAILING_SLASH_HASH, '') : '';\n}\n\n\nfunction resolveUrl(baseId, id) {\n  id = normalizeId(id);\n  return URI.resolve(baseId, id);\n}\n\n\n/* @this Ajv */\nfunction resolveIds(schema) {\n  var schemaId = normalizeId(this._getId(schema));\n  var baseIds = {'': schemaId};\n  var fullPaths = {'': getFullPath(schemaId, false)};\n  var localRefs = {};\n  var self = this;\n\n  traverse(schema, {allKeys: true}, function(sch, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n    if (jsonPtr === '') return;\n    var id = self._getId(sch);\n    var baseId = baseIds[parentJsonPtr];\n    var fullPath = fullPaths[parentJsonPtr] + '/' + parentKeyword;\n    if (keyIndex !== undefined)\n      fullPath += '/' + (typeof keyIndex == 'number' ? keyIndex : util.escapeFragment(keyIndex));\n\n    if (typeof id == 'string') {\n      id = baseId = normalizeId(baseId ? URI.resolve(baseId, id) : id);\n\n      var refVal = self._refs[id];\n      if (typeof refVal == 'string') refVal = self._refs[refVal];\n      if (refVal && refVal.schema) {\n        if (!equal(sch, refVal.schema))\n          throw new Error('id \"' + id + '\" resolves to more than one schema');\n      } else if (id != normalizeId(fullPath)) {\n        if (id[0] == '#') {\n          if (localRefs[id] && !equal(sch, localRefs[id]))\n            throw new Error('id \"' + id + '\" resolves to more than one schema');\n          localRefs[id] = sch;\n        } else {\n          self._refs[id] = fullPath;\n        }\n      }\n    }\n    baseIds[jsonPtr] = baseId;\n    fullPaths[jsonPtr] = fullPath;\n  });\n\n  return localRefs;\n}\n","export function merge(...sets:Array<string>):string {\n\tif (sets.length > 1) {\n\t\tsets[0] = sets[0].slice(0, -1);\n\t\tconst xl = sets.length - 1;\n\t\tfor (let x = 1; x < xl; ++x) {\n\t\t\tsets[x] = sets[x].slice(1, -1);\n\t\t}\n\t\tsets[xl] = sets[xl].slice(1);\n\t\treturn sets.join('');\n\t} else {\n\t\treturn sets[0];\n\t}\n}\n\nexport function subexp(str:string):string {\n\treturn \"(?:\" + str + \")\";\n}\n\nexport function typeOf(o:any):string {\n\treturn o === undefined ? \"undefined\" : (o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase());\n}\n\nexport function toUpperCase(str:string):string {\n\treturn str.toUpperCase();\n}\n\nexport function toArray(obj:any):Array<any> {\n\treturn obj !== undefined && obj !== null ? (obj instanceof Array ? obj : (typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj))) : [];\n}\n\n\nexport function assign(target: object, source: any): any {\n\tconst obj = target as any;\n\tif (source) {\n\t\tfor (const key in source) {\n\t\t\tobj[key] = source[key];\n\t\t}\n\t}\n\treturn obj;\n}","import { URIRegExps } from \"./uri\";\nimport { merge, subexp } from \"./util\";\n\nexport function buildExps(isIRI:boolean):URIRegExps {\n\tconst\n\t\tALPHA$$ = \"[A-Za-z]\",\n\t\tCR$ = \"[\\\\x0D]\",\n\t\tDIGIT$$ = \"[0-9]\",\n\t\tDQUOTE$$ = \"[\\\\x22]\",\n\t\tHEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),  //case-insensitive\n\t\tLF$$ = \"[\\\\x0A]\",\n\t\tSP$$ = \"[\\\\x20]\",\n\t\tPCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),  //expanded\n\t\tGEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n\t\tSUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n\t\tRESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n\t\tUCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",  //subset, excludes bidi control characters\n\t\tIPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",  //subset\n\t\tUNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n\t\tSCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n\t\tUSERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n\t\tDEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n\t\tDEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),  //relaxed parsing rules\n\t\tIPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n\t\tH16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n\t\tLS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n\t\tIPV6ADDRESS1$ = subexp(                                                            subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$), //                           6( h16 \":\" ) ls32\n\t\tIPV6ADDRESS2$ = subexp(                                                 \"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$), //                      \"::\" 5( h16 \":\" ) ls32\n\t\tIPV6ADDRESS3$ = subexp(subexp(                                 H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$), //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n\t\tIPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$), //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n\t\tIPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$), //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n\t\tIPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" +        H16$ + \"\\\\:\"          + LS32$), //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n\t\tIPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\"                                + LS32$), //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n\t\tIPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\"                                + H16$ ), //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n\t\tIPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"                                       ), //[ *6( h16 \":\" ) h16 ] \"::\"\n\t\tIPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n\t\tZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),  //RFC 6874\n\t\tIPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),  //RFC 6874\n\t\tIPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),  //RFC 6874, with relaxed parsing rules\n\t\tIPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n\t\tIP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),  //RFC 6874\n\t\tREG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n\t\tHOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n\t\tPORT$ = subexp(DIGIT$$ + \"*\"),\n\t\tAUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n\t\tPCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n\t\tSEGMENT$ = subexp(PCHAR$ + \"*\"),\n\t\tSEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n\t\tSEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n\t\tPATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n\t\tPATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),  //simplified\n\t\tPATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),  //simplified\n\t\tPATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),  //simplified\n\t\tPATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n\t\tPATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n\t\tQUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n\t\tFRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n\t\tHIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n\t\tURI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n\t\tRELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n\t\tRELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n\t\tURI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n\t\tABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n\n\t\tGENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tRELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n\t\tSAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tAUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\"\n\t;\n\n\treturn {\n\t\tNOT_SCHEME : new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n\t\tNOT_USERINFO : new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_HOST : new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_PATH : new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_PATH_NOSCHEME : new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_QUERY : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n\t\tNOT_FRAGMENT : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n\t\tESCAPE : new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tUNRESERVED : new RegExp(UNRESERVED$$, \"g\"),\n\t\tOTHER_CHARS : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n\t\tPCT_ENCODED : new RegExp(PCT_ENCODED$, \"g\"),\n\t\tIPV4ADDRESS : new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n\t\tIPV6ADDRESS : new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\")  //RFC 6874, with relaxed parsing rules\n\t};\n}\n\nexport default buildExps(false);\n","import { URIRegExps } from \"./uri\";\nimport { buildExps } from \"./regexps-uri\";\n\nexport default buildExps(true);\n","'use strict';\n\n/** Highest positive signed 32-bit float value */\nconst maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nconst base = 36;\nconst tMin = 1;\nconst tMax = 26;\nconst skew = 38;\nconst damp = 700;\nconst initialBias = 72;\nconst initialN = 128; // 0x80\nconst delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nconst regexPunycode = /^xn--/;\nconst regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nconst regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nconst errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nconst baseMinusTMin = base - tMin;\nconst floor = Math.floor;\nconst stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tconst result = [];\n\tlet length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tconst parts = string.split('@');\n\tlet result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tconst labels = string.split('.');\n\tconst encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tconst output = [];\n\tlet counter = 0;\n\tconst length = string.length;\n\twhile (counter < length) {\n\t\tconst value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tconst extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nconst ucs2encode = array => String.fromCodePoint(...array);\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nconst basicToDigit = function(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nconst digitToBasic = function(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nconst adapt = function(delta, numPoints, firstTime) {\n\tlet k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nconst decode = function(input) {\n\t// Don't use UCS-2.\n\tconst output = [];\n\tconst inputLength = input.length;\n\tlet i = 0;\n\tlet n = initialN;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tlet basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (let j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (let index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tlet oldi = i;\n\t\tfor (let w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror('invalid-input');\n\t\t\t}\n\n\t\t\tconst digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\n\t\t}\n\n\t\tconst out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\n\t}\n\n\treturn String.fromCodePoint(...output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nconst encode = function(input) {\n\tconst output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tlet inputLength = input.length;\n\n\t// Initialize the state.\n\tlet n = initialN;\n\tlet delta = 0;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points.\n\tfor (const currentValue of input) {\n\t\tif (currentValue < 0x80) {\n\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t}\n\t}\n\n\tlet basicLength = output.length;\n\tlet handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tlet m = maxInt;\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\tm = currentValue;\n\t\t\t}\n\t\t}\n\n\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t// but guard against overflow.\n\t\tconst handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\t\t\tif (currentValue == n) {\n\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\tlet q = delta;\n\t\t\t\tfor (let k = base; /* no condition */; k += base) {\n\t\t\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tconst qMinusT = q - t;\n\t\t\t\t\tconst baseMinusT = base - t;\n\t\t\t\t\toutput.push(\n\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t);\n\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t}\n\n\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\tdelta = 0;\n\t\t\t\t++handledCPCount;\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nconst toUnicode = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexPunycode.test(string)\n\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t: string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nconst toASCII = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexNonASCII.test(string)\n\t\t\t? 'xn--' + encode(string)\n\t\t\t: string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nconst punycode = {\n\t/**\n\t * A string representing the current Punycode.js version number.\n\t * @memberOf punycode\n\t * @type String\n\t */\n\t'version': '2.1.0',\n\t/**\n\t * An object of methods to convert from JavaScript's internal character\n\t * representation (UCS-2) to Unicode code points, and back.\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode\n\t * @type Object\n\t */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\nexport default punycode;\n","/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\n\nimport URI_PROTOCOL from \"./regexps-uri\";\nimport IRI_PROTOCOL from \"./regexps-iri\";\nimport punycode from \"punycode\";\nimport { toUpperCase, typeOf, assign } from \"./util\";\n\nexport interface URIComponents {\n\tscheme?:string;\n\tuserinfo?:string;\n\thost?:string;\n\tport?:number|string;\n\tpath?:string;\n\tquery?:string;\n\tfragment?:string;\n\treference?:string;\n\terror?:string;\n}\n\nexport interface URIOptions {\n\tscheme?:string;\n\treference?:string;\n\ttolerant?:boolean;\n\tabsolutePath?:boolean;\n\tiri?:boolean;\n\tunicodeSupport?:boolean;\n\tdomainHost?:boolean;\n}\n\nexport interface URISchemeHandler<Components extends URIComponents = URIComponents, Options extends URIOptions = URIOptions, ParentComponents extends URIComponents = URIComponents> {\n\tscheme:string;\n\tparse(components:ParentComponents, options:Options):Components;\n\tserialize(components:Components, options:Options):ParentComponents;\n\tunicodeSupport?:boolean;\n\tdomainHost?:boolean;\n\tabsolutePath?:boolean;\n}\n\nexport interface URIRegExps {\n\tNOT_SCHEME : RegExp,\n\tNOT_USERINFO : RegExp,\n\tNOT_HOST : RegExp,\n\tNOT_PATH : RegExp,\n\tNOT_PATH_NOSCHEME : RegExp,\n\tNOT_QUERY : RegExp,\n\tNOT_FRAGMENT : RegExp,\n\tESCAPE : RegExp,\n\tUNRESERVED : RegExp,\n\tOTHER_CHARS : RegExp,\n\tPCT_ENCODED : RegExp,\n\tIPV4ADDRESS : RegExp,\n\tIPV6ADDRESS : RegExp,\n}\n\nexport const SCHEMES:{[scheme:string]:URISchemeHandler} = {};\n\nexport function pctEncChar(chr:string):string {\n\tconst c = chr.charCodeAt(0);\n\tlet e:string;\n\n\tif (c < 16) e = \"%0\" + c.toString(16).toUpperCase();\n\telse if (c < 128) e = \"%\" + c.toString(16).toUpperCase();\n\telse if (c < 2048) e = \"%\" + ((c >> 6) | 192).toString(16).toUpperCase() + \"%\" + ((c & 63) | 128).toString(16).toUpperCase();\n\telse e = \"%\" + ((c >> 12) | 224).toString(16).toUpperCase() + \"%\" + (((c >> 6) & 63) | 128).toString(16).toUpperCase() + \"%\" + ((c & 63) | 128).toString(16).toUpperCase();\n\n\treturn e;\n}\n\nexport function pctDecChars(str:string):string {\n\tlet newStr = \"\";\n\tlet i = 0;\n\tconst il = str.length;\n\n\twhile (i < il) {\n\t\tconst c = parseInt(str.substr(i + 1, 2), 16);\n\n\t\tif (c < 128) {\n\t\t\tnewStr += String.fromCharCode(c);\n\t\t\ti += 3;\n\t\t}\n\t\telse if (c >= 194 && c < 224) {\n\t\t\tif ((il - i) >= 6) {\n\t\t\t\tconst c2 = parseInt(str.substr(i + 4, 2), 16);\n\t\t\t\tnewStr += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n\t\t\t} else {\n\t\t\t\tnewStr += str.substr(i, 6);\n\t\t\t}\n\t\t\ti += 6;\n\t\t}\n\t\telse if (c >= 224) {\n\t\t\tif ((il - i) >= 9) {\n\t\t\t\tconst c2 = parseInt(str.substr(i + 4, 2), 16);\n\t\t\t\tconst c3 = parseInt(str.substr(i + 7, 2), 16);\n\t\t\t\tnewStr += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n\t\t\t} else {\n\t\t\t\tnewStr += str.substr(i, 9);\n\t\t\t}\n\t\t\ti += 9;\n\t\t}\n\t\telse {\n\t\t\tnewStr += str.substr(i, 3);\n\t\t\ti += 3;\n\t\t}\n\t}\n\n\treturn newStr;\n}\n\nfunction _normalizeComponentEncoding(components:URIComponents, protocol:URIRegExps) {\n\tfunction decodeUnreserved(str:string):string {\n\t\tconst decStr = pctDecChars(str);\n\t\treturn (!decStr.match(protocol.UNRESERVED) ? str : decStr);\n\t}\n\n\tif (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n\tif (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace((components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME), pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\n\treturn components;\n};\n\nfunction _stripLeadingZeros(str:string):string {\n\treturn str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\n\nfunction _normalizeIPv4(host:string, protocol:URIRegExps):string {\n\tconst matches = host.match(protocol.IPV4ADDRESS) || [];\n\tconst [, address] = matches;\n\t\n\tif (address) {\n\t\treturn address.split(\".\").map(_stripLeadingZeros).join(\".\");\n\t} else {\n\t\treturn host;\n\t}\n}\n\nfunction _normalizeIPv6(host:string, protocol:URIRegExps):string {\n\tconst matches = host.match(protocol.IPV6ADDRESS) || [];\n\tconst [, address, zone] = matches;\n\n\tif (address) {\n\t\tconst [last, first] = address.toLowerCase().split('::').reverse();\n\t\tconst firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n\t\tconst lastFields = last.split(\":\").map(_stripLeadingZeros);\n\t\tconst isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n\t\tconst fieldCount = isLastFieldIPv4Address ? 7 : 8;\n\t\tconst lastFieldsStart = lastFields.length - fieldCount;\n\t\tconst fields = Array<string>(fieldCount);\n\n\t\tfor (let x = 0; x < fieldCount; ++x) {\n\t\t\tfields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n\t\t}\n\n\t\tif (isLastFieldIPv4Address) {\n\t\t\tfields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n\t\t}\n\n\t\tconst allZeroFields = fields.reduce<Array<{index:number,length:number}>>((acc, field, index) => {\n\t\t\tif (!field || field === \"0\") {\n\t\t\t\tconst lastLongest = acc[acc.length - 1];\n\t\t\t\tif (lastLongest && lastLongest.index + lastLongest.length === index) {\n\t\t\t\t\tlastLongest.length++;\n\t\t\t\t} else {\n\t\t\t\t\tacc.push({ index, length : 1 });\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, []);\n\n\t\tconst longestZeroFields = allZeroFields.sort((a, b) => b.length - a.length)[0];\n\n\t\tlet newHost:string;\n\t\tif (longestZeroFields && longestZeroFields.length > 1) {\n\t\t\tconst newFirst = fields.slice(0, longestZeroFields.index) ;\n\t\t\tconst newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n\t\t\tnewHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n\t\t} else {\n\t\t\tnewHost = fields.join(\":\");\n\t\t}\n\n\t\tif (zone) {\n\t\t\tnewHost += \"%\" + zone;\n\t\t}\n\n\t\treturn newHost;\n\t} else {\n\t\treturn host;\n\t}\n}\n\nconst URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nconst NO_MATCH_IS_UNDEFINED = (<RegExpMatchArray>(\"\").match(/(){0}/))[1] === undefined;\n\nexport function parse(uriString:string, options:URIOptions = {}):URIComponents {\n\tconst components:URIComponents = {};\n\tconst protocol = (options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL);\n\n\tif (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n\n\tconst matches = uriString.match(URI_PARSE);\n\n\tif (matches) {\n\t\tif (NO_MATCH_IS_UNDEFINED) {\n\t\t\t//store each component\n\t\t\tcomponents.scheme = matches[1];\n\t\t\tcomponents.userinfo = matches[3];\n\t\t\tcomponents.host = matches[4];\n\t\t\tcomponents.port = parseInt(matches[5], 10);\n\t\t\tcomponents.path = matches[6] || \"\";\n\t\t\tcomponents.query = matches[7];\n\t\t\tcomponents.fragment = matches[8];\n\n\t\t\t//fix port number\n\t\t\tif (isNaN(components.port)) {\n\t\t\t\tcomponents.port = matches[5];\n\t\t\t}\n\t\t} else {  //IE FIX for improper RegExp matching\n\t\t\t//store each component\n\t\t\tcomponents.scheme = matches[1] || undefined;\n\t\t\tcomponents.userinfo = (uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined);\n\t\t\tcomponents.host = (uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined);\n\t\t\tcomponents.port = parseInt(matches[5], 10);\n\t\t\tcomponents.path = matches[6] || \"\";\n\t\t\tcomponents.query = (uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined);\n\t\t\tcomponents.fragment = (uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined);\n\n\t\t\t//fix port number\n\t\t\tif (isNaN(components.port)) {\n\t\t\t\tcomponents.port = (uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined);\n\t\t\t}\n\t\t}\n\n\t\tif (components.host) {\n\t\t\t//normalize IP hosts\n\t\t\tcomponents.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n\t\t}\n\n\t\t//determine reference type\n\t\tif (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n\t\t\tcomponents.reference = \"same-document\";\n\t\t} else if (components.scheme === undefined) {\n\t\t\tcomponents.reference = \"relative\";\n\t\t} else if (components.fragment === undefined) {\n\t\t\tcomponents.reference = \"absolute\";\n\t\t} else {\n\t\t\tcomponents.reference = \"uri\";\n\t\t}\n\n\t\t//check for reference errors\n\t\tif (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n\t\t\tcomponents.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n\t\t}\n\n\t\t//find scheme handler\n\t\tconst schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n\n\t\t//check if scheme can't handle IRIs\n\t\tif (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n\t\t\t//if host component is a domain name\n\t\t\tif (components.host && (options.domainHost || (schemeHandler && schemeHandler.domainHost))) {\n\t\t\t\t//convert Unicode IDN -> ASCII IDN\n\t\t\t\ttry {\n\t\t\t\t\tcomponents.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n\t\t\t\t} catch (e) {\n\t\t\t\t\tcomponents.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//convert IRI -> URI\n\t\t\t_normalizeComponentEncoding(components, URI_PROTOCOL);\n\t\t} else {\n\t\t\t//normalize encodings\n\t\t\t_normalizeComponentEncoding(components, protocol);\n\t\t}\n\n\t\t//perform scheme specific parsing\n\t\tif (schemeHandler && schemeHandler.parse) {\n\t\t\tschemeHandler.parse(components, options);\n\t\t}\n\t} else {\n\t\tcomponents.error = components.error || \"URI can not be parsed.\";\n\t}\n\n\treturn components;\n};\n\nfunction _recomposeAuthority(components:URIComponents, options:URIOptions):string|undefined {\n\tconst protocol = (options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL);\n\tconst uriTokens:Array<string> = [];\n\n\tif (components.userinfo !== undefined) {\n\t\turiTokens.push(components.userinfo);\n\t\turiTokens.push(\"@\");\n\t}\n\n\tif (components.host !== undefined) {\n\t\t//normalize IP hosts, add brackets and escape zone separator for IPv6\n\t\turiTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, (_, $1, $2) => \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\"));\n\t}\n\n\tif (typeof components.port === \"number\" || typeof components.port === \"string\") {\n\t\turiTokens.push(\":\");\n\t\turiTokens.push(String(components.port));\n\t}\n\n\treturn uriTokens.length ? uriTokens.join(\"\") : undefined;\n};\n\nconst RDS1 = /^\\.\\.?\\//;\nconst RDS2 = /^\\/\\.(\\/|$)/;\nconst RDS3 = /^\\/\\.\\.(\\/|$)/;\nconst RDS4 = /^\\.\\.?$/;\nconst RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\n\nexport function removeDotSegments(input:string):string {\n\tconst output:Array<string> = [];\n\n\twhile (input.length) {\n\t\tif (input.match(RDS1)) {\n\t\t\tinput = input.replace(RDS1, \"\");\n\t\t} else if (input.match(RDS2)) {\n\t\t\tinput = input.replace(RDS2, \"/\");\n\t\t} else if (input.match(RDS3)) {\n\t\t\tinput = input.replace(RDS3, \"/\");\n\t\t\toutput.pop();\n\t\t} else if (input === \".\" || input === \"..\") {\n\t\t\tinput = \"\";\n\t\t} else {\n\t\t\tconst im = input.match(RDS5);\n\t\t\tif (im) {\n\t\t\t\tconst s = im[0];\n\t\t\t\tinput = input.slice(s.length);\n\t\t\t\toutput.push(s);\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Unexpected dot segment condition\");\n\t\t\t}\n\t\t}\n\t}\n\n\treturn output.join(\"\");\n};\n\nexport function serialize(components:URIComponents, options:URIOptions = {}):string {\n\tconst protocol = (options.iri ? IRI_PROTOCOL : URI_PROTOCOL);\n\tconst uriTokens:Array<string> = [];\n\n\t//find scheme handler\n\tconst schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n\n\t//perform scheme specific serialization\n\tif (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n\n\tif (components.host) {\n\t\t//if host component is an IPv6 address\n\t\tif (protocol.IPV6ADDRESS.test(components.host)) {\n\t\t\t//TODO: normalize IPv6 address as per RFC 5952\n\t\t}\n\n\t\t//if host component is a domain name\n\t\telse if (options.domainHost || (schemeHandler && schemeHandler.domainHost)) {\n\t\t\t//convert IDN via punycode\n\t\t\ttry {\n\t\t\t\tcomponents.host = (!options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host));\n\t\t\t} catch (e) {\n\t\t\t\tcomponents.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n\t\t\t}\n\t\t}\n\t}\n\n\t//normalize encoding\n\t_normalizeComponentEncoding(components, protocol);\n\n\tif (options.reference !== \"suffix\" && components.scheme) {\n\t\turiTokens.push(components.scheme);\n\t\turiTokens.push(\":\");\n\t}\n\n\tconst authority = _recomposeAuthority(components, options);\n\tif (authority !== undefined) {\n\t\tif (options.reference !== \"suffix\") {\n\t\t\turiTokens.push(\"//\");\n\t\t}\n\n\t\turiTokens.push(authority);\n\n\t\tif (components.path && components.path.charAt(0) !== \"/\") {\n\t\t\turiTokens.push(\"/\");\n\t\t}\n\t}\n\n\tif (components.path !== undefined) {\n\t\tlet s = components.path;\n\n\t\tif (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n\t\t\ts = removeDotSegments(s);\n\t\t}\n\n\t\tif (authority === undefined) {\n\t\t\ts = s.replace(/^\\/\\//, \"/%2F\");  //don't allow the path to start with \"//\"\n\t\t}\n\n\t\turiTokens.push(s);\n\t}\n\n\tif (components.query !== undefined) {\n\t\turiTokens.push(\"?\");\n\t\turiTokens.push(components.query);\n\t}\n\n\tif (components.fragment !== undefined) {\n\t\turiTokens.push(\"#\");\n\t\turiTokens.push(components.fragment);\n\t}\n\n\treturn uriTokens.join(\"\");  //merge tokens into a string\n};\n\nexport function resolveComponents(base:URIComponents, relative:URIComponents, options:URIOptions = {}, skipNormalization?:boolean):URIComponents {\n\tconst target:URIComponents = {};\n\n\tif (!skipNormalization) {\n\t\tbase = parse(serialize(base, options), options);  //normalize base components\n\t\trelative = parse(serialize(relative, options), options);  //normalize relative components\n\t}\n\toptions = options || {};\n\n\tif (!options.tolerant && relative.scheme) {\n\t\ttarget.scheme = relative.scheme;\n\t\t//target.authority = relative.authority;\n\t\ttarget.userinfo = relative.userinfo;\n\t\ttarget.host = relative.host;\n\t\ttarget.port = relative.port;\n\t\ttarget.path = removeDotSegments(relative.path || \"\");\n\t\ttarget.query = relative.query;\n\t} else {\n\t\tif (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n\t\t\t//target.authority = relative.authority;\n\t\t\ttarget.userinfo = relative.userinfo;\n\t\t\ttarget.host = relative.host;\n\t\t\ttarget.port = relative.port;\n\t\t\ttarget.path = removeDotSegments(relative.path || \"\");\n\t\t\ttarget.query = relative.query;\n\t\t} else {\n\t\t\tif (!relative.path) {\n\t\t\t\ttarget.path = base.path;\n\t\t\t\tif (relative.query !== undefined) {\n\t\t\t\t\ttarget.query = relative.query;\n\t\t\t\t} else {\n\t\t\t\t\ttarget.query = base.query;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (relative.path.charAt(0) === \"/\") {\n\t\t\t\t\ttarget.path = removeDotSegments(relative.path);\n\t\t\t\t} else {\n\t\t\t\t\tif ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n\t\t\t\t\t\ttarget.path = \"/\" + relative.path;\n\t\t\t\t\t} else if (!base.path) {\n\t\t\t\t\t\ttarget.path = relative.path;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttarget.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n\t\t\t\t\t}\n\t\t\t\t\ttarget.path = removeDotSegments(target.path);\n\t\t\t\t}\n\t\t\t\ttarget.query = relative.query;\n\t\t\t}\n\t\t\t//target.authority = base.authority;\n\t\t\ttarget.userinfo = base.userinfo;\n\t\t\ttarget.host = base.host;\n\t\t\ttarget.port = base.port;\n\t\t}\n\t\ttarget.scheme = base.scheme;\n\t}\n\n\ttarget.fragment = relative.fragment;\n\n\treturn target;\n};\n\nexport function resolve(baseURI:string, relativeURI:string, options?:URIOptions):string {\n\tconst schemelessOptions = assign({ scheme : 'null' }, options);\n\treturn serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n};\n\nexport function normalize(uri:string, options?:URIOptions):string;\nexport function normalize(uri:URIComponents, options?:URIOptions):URIComponents;\nexport function normalize(uri:any, options?:URIOptions):any {\n\tif (typeof uri === \"string\") {\n\t\turi = serialize(parse(uri, options), options);\n\t} else if (typeOf(uri) === \"object\") {\n\t\turi = parse(serialize(<URIComponents>uri, options), options);\n\t}\n\n\treturn uri;\n};\n\nexport function equal(uriA:string, uriB:string, options?: URIOptions):boolean;\nexport function equal(uriA:URIComponents, uriB:URIComponents, options?:URIOptions):boolean;\nexport function equal(uriA:any, uriB:any, options?:URIOptions):boolean {\n\tif (typeof uriA === \"string\") {\n\t\turiA = serialize(parse(uriA, options), options);\n\t} else if (typeOf(uriA) === \"object\") {\n\t\turiA = serialize(<URIComponents>uriA, options);\n\t}\n\n\tif (typeof uriB === \"string\") {\n\t\turiB = serialize(parse(uriB, options), options);\n\t} else if (typeOf(uriB) === \"object\") {\n\t\turiB = serialize(<URIComponents>uriB, options);\n\t}\n\n\treturn uriA === uriB;\n};\n\nexport function escapeComponent(str:string, options?:URIOptions):string {\n\treturn str && str.toString().replace((!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE), pctEncChar);\n};\n\nexport function unescapeComponent(str:string, options?:URIOptions):string {\n\treturn str && str.toString().replace((!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED), pctDecChars);\n};\n","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"http\",\n\n\tdomainHost : true,\n\n\tparse : function (components:URIComponents, options:URIOptions):URIComponents {\n\t\t//report missing host\n\t\tif (!components.host) {\n\t\t\tcomponents.error = components.error || \"HTTP URIs must have a host.\";\n\t\t}\n\n\t\treturn components;\n\t},\n\n\tserialize : function (components:URIComponents, options:URIOptions):URIComponents {\n\t\tconst secure = String(components.scheme).toLowerCase() === \"https\";\n\n\t\t//normalize the default port\n\t\tif (components.port === (secure ? 443 : 80) || components.port === \"\") {\n\t\t\tcomponents.port = undefined;\n\t\t}\n\t\t\n\t\t//normalize the empty path\n\t\tif (!components.path) {\n\t\t\tcomponents.path = \"/\";\n\t\t}\n\n\t\t//NOTE: We do not parse query strings for HTTP URIs\n\t\t//as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n\t\t//and not the HTTP spec.\n\n\t\treturn components;\n\t}\n};\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport http from \"./http\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"https\",\n\tdomainHost : http.domainHost,\n\tparse : http.parse,\n\tserialize : http.serialize\n}\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\n\nexport interface WSComponents extends URIComponents {\n\tresourceName?: string;\n\tsecure?: boolean;\n}\n\nfunction isSecure(wsComponents:WSComponents):boolean {\n\treturn typeof wsComponents.secure === 'boolean' ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === \"wss\";\n}\n\n//RFC 6455\nconst handler:URISchemeHandler = {\n\tscheme : \"ws\",\n\n\tdomainHost : true,\n\n\tparse : function (components:URIComponents, options:URIOptions):WSComponents {\n\t\tconst wsComponents = components as WSComponents;\n\n\t\t//indicate if the secure flag is set\n\t\twsComponents.secure = isSecure(wsComponents);\n\n\t\t//construct resouce name\n\t\twsComponents.resourceName = (wsComponents.path || '/') + (wsComponents.query ? '?' + wsComponents.query : '');\n\t\twsComponents.path = undefined;\n\t\twsComponents.query = undefined;\n\n\t\treturn wsComponents;\n\t},\n\n\tserialize : function (wsComponents:WSComponents, options:URIOptions):URIComponents {\n\t\t//normalize the default port\n\t\tif (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === \"\") {\n\t\t\twsComponents.port = undefined;\n\t\t}\n\n\t\t//ensure scheme matches secure flag\n\t\tif (typeof wsComponents.secure === 'boolean') {\n\t\t\twsComponents.scheme = (wsComponents.secure ? 'wss' : 'ws');\n\t\t\twsComponents.secure = undefined;\n\t\t}\n\n\t\t//reconstruct path from resource name\n\t\tif (wsComponents.resourceName) {\n\t\t\tconst [path, query] = wsComponents.resourceName.split('?');\n\t\t\twsComponents.path = (path && path !== '/' ? path : undefined);\n\t\t\twsComponents.query = query;\n\t\t\twsComponents.resourceName = undefined;\n\t\t}\n\n\t\t//forbid fragment component\n\t\twsComponents.fragment = undefined;\n\n\t\treturn wsComponents;\n\t}\n};\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport ws from \"./ws\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"wss\",\n\tdomainHost : ws.domainHost,\n\tparse : ws.parse,\n\tserialize : ws.serialize\n}\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { pctEncChar, pctDecChars, unescapeComponent } from \"../uri\";\nimport punycode from \"punycode\";\nimport { merge, subexp, toUpperCase, toArray } from \"../util\";\n\nexport interface MailtoHeaders {\n\t[hfname:string]:string\n}\n\nexport interface MailtoComponents extends URIComponents {\n\tto:Array<string>,\n\theaders?:MailtoHeaders,\n\tsubject?:string,\n\tbody?:string\n}\n\nconst O:MailtoHeaders = {};\nconst isIRI = true;\n\n//RFC 3986\nconst UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nconst HEXDIG$$ = \"[0-9A-Fa-f]\";  //case-insensitive\nconst PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$));  //expanded\n\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nconst ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nconst QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nconst VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nconst DOT_ATOM_TEXT$ = subexp(ATEXT$$ + \"+\" + subexp(\"\\\\.\" + ATEXT$$ + \"+\") + \"*\");\nconst QUOTED_PAIR$ = subexp(\"\\\\\\\\\" + VCHAR$$);\nconst QCONTENT$ = subexp(QTEXT$$ + \"|\" + QUOTED_PAIR$);\nconst QUOTED_STRING$ = subexp('\\\\\"' + QCONTENT$ + \"*\" + '\\\\\"');\n\n//RFC 6068\nconst DTEXT_NO_OBS$$ = \"[\\\\x21-\\\\x5A\\\\x5E-\\\\x7E]\";  //%d33-90 / %d94-126\nconst SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nconst QCHAR$ = subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$ + \"|\" + SOME_DELIMS$$);\nconst DOMAIN$ = subexp(DOT_ATOM_TEXT$ + \"|\" + \"\\\\[\" + DTEXT_NO_OBS$$ + \"*\" + \"\\\\]\");\nconst LOCAL_PART$ = subexp(DOT_ATOM_TEXT$ + \"|\" + QUOTED_STRING$);\nconst ADDR_SPEC$ = subexp(LOCAL_PART$ + \"\\\\@\" + DOMAIN$);\nconst TO$ = subexp(ADDR_SPEC$ + subexp(\"\\\\,\" + ADDR_SPEC$) + \"*\");\nconst HFNAME$ = subexp(QCHAR$ + \"*\");\nconst HFVALUE$ = HFNAME$;\nconst HFIELD$ = subexp(HFNAME$ + \"\\\\=\" + HFVALUE$);\nconst HFIELDS2$ = subexp(HFIELD$ + subexp(\"\\\\&\" + HFIELD$) + \"*\");\nconst HFIELDS$ = subexp(\"\\\\?\" + HFIELDS2$);\nconst MAILTO_URI = new RegExp(\"^mailto\\\\:\" + TO$ + \"?\" + HFIELDS$ + \"?$\");\n\nconst UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nconst PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nconst NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nconst NOT_DOMAIN = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", \"[\\\\[]\", DTEXT_NO_OBS$$, \"[\\\\]]\"), \"g\");\nconst NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nconst NOT_HFVALUE = NOT_HFNAME;\nconst TO = new RegExp(\"^\" + TO$ + \"$\");\nconst HFIELDS = new RegExp(\"^\" + HFIELDS2$ + \"$\");\n\nfunction decodeUnreserved(str:string):string {\n\tconst decStr = pctDecChars(str);\n\treturn (!decStr.match(UNRESERVED) ? str : decStr);\n}\n\nconst handler:URISchemeHandler<MailtoComponents> =  {\n\tscheme : \"mailto\",\n\n\tparse : function (components:URIComponents, options:URIOptions):MailtoComponents {\n\t\tconst mailtoComponents = components as MailtoComponents;\n\t\tconst to = mailtoComponents.to = (mailtoComponents.path ? mailtoComponents.path.split(\",\") : []);\n\t\tmailtoComponents.path = undefined;\n\n\t\tif (mailtoComponents.query) {\n\t\t\tlet unknownHeaders = false\n\t\t\tconst headers:MailtoHeaders = {};\n\t\t\tconst hfields = mailtoComponents.query.split(\"&\");\n\n\t\t\tfor (let x = 0, xl = hfields.length; x < xl; ++x) {\n\t\t\t\tconst hfield = hfields[x].split(\"=\");\n\n\t\t\t\tswitch (hfield[0]) {\n\t\t\t\t\tcase \"to\":\n\t\t\t\t\t\tconst toAddrs = hfield[1].split(\",\");\n\t\t\t\t\t\tfor (let x = 0, xl = toAddrs.length; x < xl; ++x) {\n\t\t\t\t\t\t\tto.push(toAddrs[x]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"subject\":\n\t\t\t\t\t\tmailtoComponents.subject = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"body\":\n\t\t\t\t\t\tmailtoComponents.body = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tunknownHeaders = true;\n\t\t\t\t\t\theaders[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (unknownHeaders) mailtoComponents.headers = headers;\n\t\t}\n\n\t\tmailtoComponents.query = undefined;\n\n\t\tfor (let x = 0, xl = to.length; x < xl; ++x) {\n\t\t\tconst addr = to[x].split(\"@\");\n\n\t\t\taddr[0] = unescapeComponent(addr[0]);\n\n\t\t\tif (!options.unicodeSupport) {\n\t\t\t\t//convert Unicode IDN -> ASCII IDN\n\t\t\t\ttry {\n\t\t\t\t\taddr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n\t\t\t\t} catch (e) {\n\t\t\t\t\tmailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\taddr[1] = unescapeComponent(addr[1], options).toLowerCase();\n\t\t\t}\n\n\t\t\tto[x] = addr.join(\"@\");\n\t\t}\n\n\t\treturn mailtoComponents;\n\t},\n\n\tserialize : function (mailtoComponents:MailtoComponents, options:URIOptions):URIComponents {\n\t\tconst components = mailtoComponents as URIComponents;\n\t\tconst to = toArray(mailtoComponents.to);\n\t\tif (to) {\n\t\t\tfor (let x = 0, xl = to.length; x < xl; ++x) {\n\t\t\t\tconst toAddr = String(to[x]);\n\t\t\t\tconst atIdx = toAddr.lastIndexOf(\"@\");\n\t\t\t\tconst localPart = (toAddr.slice(0, atIdx)).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n\t\t\t\tlet domain = toAddr.slice(atIdx + 1);\n\n\t\t\t\t//convert IDN via punycode\n\t\t\t\ttry {\n\t\t\t\t\tdomain = (!options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain));\n\t\t\t\t} catch (e) {\n\t\t\t\t\tcomponents.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n\t\t\t\t}\n\n\t\t\t\tto[x] = localPart + \"@\" + domain;\n\t\t\t}\n\n\t\t\tcomponents.path = to.join(\",\");\n\t\t}\n\n\t\tconst headers = mailtoComponents.headers = mailtoComponents.headers || {};\n\n\t\tif (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n\t\tif (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n\n\t\tconst fields = [];\n\t\tfor (const name in headers) {\n\t\t\tif (headers[name] !== O[name]) {\n\t\t\t\tfields.push(\n\t\t\t\t\tname.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) +\n\t\t\t\t\t\"=\" +\n\t\t\t\t\theaders[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tif (fields.length) {\n\t\t\tcomponents.query = fields.join(\"&\");\n\t\t}\n\n\t\treturn components;\n\t}\n}\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { pctEncChar, SCHEMES } from \"../uri\";\n\nexport interface URNComponents extends URIComponents {\n\tnid?:string;\n\tnss?:string;\n}\n\nexport interface URNOptions extends URIOptions {\n\tnid?:string;\n}\n\nconst NID$ = \"(?:[0-9A-Za-z][0-9A-Za-z\\\\-]{1,31})\";\nconst PCT_ENCODED$ = \"(?:\\\\%[0-9A-Fa-f]{2})\";\nconst TRANS$$ = \"[0-9A-Za-z\\\\(\\\\)\\\\+\\\\,\\\\-\\\\.\\\\:\\\\=\\\\@\\\\;\\\\$\\\\_\\\\!\\\\*\\\\'\\\\/\\\\?\\\\#]\";\nconst NSS$ = \"(?:(?:\" + PCT_ENCODED$ + \"|\" + TRANS$$ + \")+)\";\nconst URN_SCHEME = new RegExp(\"^urn\\\\:(\" + NID$ + \")$\");\nconst URN_PATH = new RegExp(\"^(\" + NID$ + \")\\\\:(\" + NSS$ + \")$\");\nconst URN_PARSE = /^([^\\:]+)\\:(.*)/;\nconst URN_EXCLUDED = /[\\x00-\\x20\\\\\\\"\\&\\<\\>\\[\\]\\^\\`\\{\\|\\}\\~\\x7F-\\xFF]/g;\n\n//RFC 2141\nconst handler:URISchemeHandler<URNComponents,URNOptions> = {\n\tscheme : \"urn\",\n\n\tparse : function (components:URIComponents, options:URNOptions):URNComponents {\n\t\tconst matches = components.path && components.path.match(URN_PARSE);\n\t\tlet urnComponents = components as URNComponents;\n\n\t\tif (matches) {\n\t\t\tconst scheme = options.scheme || urnComponents.scheme || \"urn\";\n\t\t\tconst nid = matches[1].toLowerCase();\n\t\t\tconst nss = matches[2];\n\t\t\tconst urnScheme = `${scheme}:${options.nid || nid}`;\n\t\t\tconst schemeHandler = SCHEMES[urnScheme];\n\n\t\t\turnComponents.nid = nid;\n\t\t\turnComponents.nss = nss;\n\t\t\turnComponents.path = undefined;\n\n\t\t\tif (schemeHandler) {\n\t\t\t\turnComponents = schemeHandler.parse(urnComponents, options) as URNComponents;\n\t\t\t}\n\t\t} else {\n\t\t\turnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n\t\t}\n\n\t\treturn urnComponents;\n\t},\n\n\tserialize : function (urnComponents:URNComponents, options:URNOptions):URIComponents {\n\t\tconst scheme = options.scheme || urnComponents.scheme || \"urn\";\n\t\tconst nid = urnComponents.nid;\n\t\tconst urnScheme = `${scheme}:${options.nid || nid}`;\n\t\tconst schemeHandler = SCHEMES[urnScheme];\n\n\t\tif (schemeHandler) {\n\t\t\turnComponents = schemeHandler.serialize(urnComponents, options) as URNComponents;\n\t\t}\n\n\t\tconst uriComponents = urnComponents as URIComponents;\n\t\tconst nss = urnComponents.nss;\n\t\turiComponents.path = `${nid || options.nid}:${nss}`;\n\n\t\treturn uriComponents;\n\t},\n};\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { URNComponents } from \"./urn\";\nimport { SCHEMES } from \"../uri\";\n\nexport interface UUIDComponents extends URNComponents {\n\tuuid?: string;\n}\n\nconst UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\nconst UUID_PARSE = /^[0-9A-Fa-f\\-]{36}/;\n\n//RFC 4122\nconst handler:URISchemeHandler<UUIDComponents, URIOptions, URNComponents> = {\n\tscheme : \"urn:uuid\",\n\n\tparse : function (urnComponents:URNComponents, options:URIOptions):UUIDComponents {\n\t\tconst uuidComponents = urnComponents as UUIDComponents;\n\t\tuuidComponents.uuid = uuidComponents.nss;\n\t\tuuidComponents.nss = undefined;\n\n\t\tif (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n\t\t\tuuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n\t\t}\n\n\t\treturn uuidComponents;\n\t},\n\n\tserialize : function (uuidComponents:UUIDComponents, options:URIOptions):URNComponents {\n\t\tconst urnComponents = uuidComponents as URNComponents;\n\t\t//normalize UUID\n\t\turnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n\t\treturn urnComponents;\n\t},\n};\n\nexport default handler;","import { SCHEMES } from \"./uri\";\n\nimport http from \"./schemes/http\";\nSCHEMES[http.scheme] = http;\n\nimport https from \"./schemes/https\";\nSCHEMES[https.scheme] = https;\n\nimport ws from \"./schemes/ws\";\nSCHEMES[ws.scheme] = ws;\n\nimport wss from \"./schemes/wss\";\nSCHEMES[wss.scheme] = wss;\n\nimport mailto from \"./schemes/mailto\";\nSCHEMES[mailto.scheme] = mailto;\n\nimport urn from \"./schemes/urn\";\nSCHEMES[urn.scheme] = urn;\n\nimport uuid from \"./schemes/urn-uuid\";\nSCHEMES[uuid.scheme] = uuid;\n\nexport * from \"./uri\";\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict';\n\n\nmodule.exports = {\n  copy: copy,\n  checkDataType: checkDataType,\n  checkDataTypes: checkDataTypes,\n  coerceToTypes: coerceToTypes,\n  toHash: toHash,\n  getProperty: getProperty,\n  escapeQuotes: escapeQuotes,\n  equal: require('fast-deep-equal'),\n  ucs2length: require('./ucs2length'),\n  varOccurences: varOccurences,\n  varReplace: varReplace,\n  schemaHasRules: schemaHasRules,\n  schemaHasRulesExcept: schemaHasRulesExcept,\n  schemaUnknownRules: schemaUnknownRules,\n  toQuotedString: toQuotedString,\n  getPathExpr: getPathExpr,\n  getPath: getPath,\n  getData: getData,\n  unescapeFragment: unescapeFragment,\n  unescapeJsonPointer: unescapeJsonPointer,\n  escapeFragment: escapeFragment,\n  escapeJsonPointer: escapeJsonPointer\n};\n\n\nfunction copy(o, to) {\n  to = to || {};\n  for (var key in o) to[key] = o[key];\n  return to;\n}\n\n\nfunction checkDataType(dataType, data, strictNumbers, negate) {\n  var EQUAL = negate ? ' !== ' : ' === '\n    , AND = negate ? ' || ' : ' && '\n    , OK = negate ? '!' : ''\n    , NOT = negate ? '' : '!';\n  switch (dataType) {\n    case 'null': return data + EQUAL + 'null';\n    case 'array': return OK + 'Array.isArray(' + data + ')';\n    case 'object': return '(' + OK + data + AND +\n                          'typeof ' + data + EQUAL + '\"object\"' + AND +\n                          NOT + 'Array.isArray(' + data + '))';\n    case 'integer': return '(typeof ' + data + EQUAL + '\"number\"' + AND +\n                           NOT + '(' + data + ' % 1)' +\n                           AND + data + EQUAL + data +\n                           (strictNumbers ? (AND + OK + 'isFinite(' + data + ')') : '') + ')';\n    case 'number': return '(typeof ' + data + EQUAL + '\"' + dataType + '\"' +\n                          (strictNumbers ? (AND + OK + 'isFinite(' + data + ')') : '') + ')';\n    default: return 'typeof ' + data + EQUAL + '\"' + dataType + '\"';\n  }\n}\n\n\nfunction checkDataTypes(dataTypes, data, strictNumbers) {\n  switch (dataTypes.length) {\n    case 1: return checkDataType(dataTypes[0], data, strictNumbers, true);\n    default:\n      var code = '';\n      var types = toHash(dataTypes);\n      if (types.array && types.object) {\n        code = types.null ? '(': '(!' + data + ' || ';\n        code += 'typeof ' + data + ' !== \"object\")';\n        delete types.null;\n        delete types.array;\n        delete types.object;\n      }\n      if (types.number) delete types.integer;\n      for (var t in types)\n        code += (code ? ' && ' : '' ) + checkDataType(t, data, strictNumbers, true);\n\n      return code;\n  }\n}\n\n\nvar COERCE_TO_TYPES = toHash([ 'string', 'number', 'integer', 'boolean', 'null' ]);\nfunction coerceToTypes(optionCoerceTypes, dataTypes) {\n  if (Array.isArray(dataTypes)) {\n    var types = [];\n    for (var i=0; i<dataTypes.length; i++) {\n      var t = dataTypes[i];\n      if (COERCE_TO_TYPES[t]) types[types.length] = t;\n      else if (optionCoerceTypes === 'array' && t === 'array') types[types.length] = t;\n    }\n    if (types.length) return types;\n  } else if (COERCE_TO_TYPES[dataTypes]) {\n    return [dataTypes];\n  } else if (optionCoerceTypes === 'array' && dataTypes === 'array') {\n    return ['array'];\n  }\n}\n\n\nfunction toHash(arr) {\n  var hash = {};\n  for (var i=0; i<arr.length; i++) hash[arr[i]] = true;\n  return hash;\n}\n\n\nvar IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nvar SINGLE_QUOTE = /'|\\\\/g;\nfunction getProperty(key) {\n  return typeof key == 'number'\n          ? '[' + key + ']'\n          : IDENTIFIER.test(key)\n            ? '.' + key\n            : \"['\" + escapeQuotes(key) + \"']\";\n}\n\n\nfunction escapeQuotes(str) {\n  return str.replace(SINGLE_QUOTE, '\\\\$&')\n            .replace(/\\n/g, '\\\\n')\n            .replace(/\\r/g, '\\\\r')\n            .replace(/\\f/g, '\\\\f')\n            .replace(/\\t/g, '\\\\t');\n}\n\n\nfunction varOccurences(str, dataVar) {\n  dataVar += '[^0-9]';\n  var matches = str.match(new RegExp(dataVar, 'g'));\n  return matches ? matches.length : 0;\n}\n\n\nfunction varReplace(str, dataVar, expr) {\n  dataVar += '([^0-9])';\n  expr = expr.replace(/\\$/g, '$$$$');\n  return str.replace(new RegExp(dataVar, 'g'), expr + '$1');\n}\n\n\nfunction schemaHasRules(schema, rules) {\n  if (typeof schema == 'boolean') return !schema;\n  for (var key in schema) if (rules[key]) return true;\n}\n\n\nfunction schemaHasRulesExcept(schema, rules, exceptKeyword) {\n  if (typeof schema == 'boolean') return !schema && exceptKeyword != 'not';\n  for (var key in schema) if (key != exceptKeyword && rules[key]) return true;\n}\n\n\nfunction schemaUnknownRules(schema, rules) {\n  if (typeof schema == 'boolean') return;\n  for (var key in schema) if (!rules[key]) return key;\n}\n\n\nfunction toQuotedString(str) {\n  return '\\'' + escapeQuotes(str) + '\\'';\n}\n\n\nfunction getPathExpr(currentPath, expr, jsonPointers, isNumber) {\n  var path = jsonPointers // false by default\n              ? '\\'/\\' + ' + expr + (isNumber ? '' : '.replace(/~/g, \\'~0\\').replace(/\\\\//g, \\'~1\\')')\n              : (isNumber ? '\\'[\\' + ' + expr + ' + \\']\\'' : '\\'[\\\\\\'\\' + ' + expr + ' + \\'\\\\\\']\\'');\n  return joinPaths(currentPath, path);\n}\n\n\nfunction getPath(currentPath, prop, jsonPointers) {\n  var path = jsonPointers // false by default\n              ? toQuotedString('/' + escapeJsonPointer(prop))\n              : toQuotedString(getProperty(prop));\n  return joinPaths(currentPath, path);\n}\n\n\nvar JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nvar RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, lvl, paths) {\n  var up, jsonPointer, data, matches;\n  if ($data === '') return 'rootData';\n  if ($data[0] == '/') {\n    if (!JSON_POINTER.test($data)) throw new Error('Invalid JSON-pointer: ' + $data);\n    jsonPointer = $data;\n    data = 'rootData';\n  } else {\n    matches = $data.match(RELATIVE_JSON_POINTER);\n    if (!matches) throw new Error('Invalid JSON-pointer: ' + $data);\n    up = +matches[1];\n    jsonPointer = matches[2];\n    if (jsonPointer == '#') {\n      if (up >= lvl) throw new Error('Cannot access property/index ' + up + ' levels up, current level is ' + lvl);\n      return paths[lvl - up];\n    }\n\n    if (up > lvl) throw new Error('Cannot access data ' + up + ' levels up, current level is ' + lvl);\n    data = 'data' + ((lvl - up) || '');\n    if (!jsonPointer) return data;\n  }\n\n  var expr = data;\n  var segments = jsonPointer.split('/');\n  for (var i=0; i<segments.length; i++) {\n    var segment = segments[i];\n    if (segment) {\n      data += getProperty(unescapeJsonPointer(segment));\n      expr += ' && ' + data;\n    }\n  }\n  return expr;\n}\n\n\nfunction joinPaths (a, b) {\n  if (a == '\"\"') return b;\n  return (a + ' + ' + b).replace(/([^\\\\])' \\+ '/g, '$1');\n}\n\n\nfunction unescapeFragment(str) {\n  return unescapeJsonPointer(decodeURIComponent(str));\n}\n\n\nfunction escapeFragment(str) {\n  return encodeURIComponent(escapeJsonPointer(str));\n}\n\n\nfunction escapeJsonPointer(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n\n\nfunction unescapeJsonPointer(str) {\n  return str.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n","'use strict';\n\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nmodule.exports = function ucs2length(str) {\n  var length = 0\n    , len = str.length\n    , pos = 0\n    , value;\n  while (pos < len) {\n    length++;\n    value = str.charCodeAt(pos++);\n    if (value >= 0xD800 && value <= 0xDBFF && pos < len) {\n      // high surrogate, and there is a next character\n      value = str.charCodeAt(pos);\n      if ((value & 0xFC00) == 0xDC00) pos++; // low surrogate\n    }\n  }\n  return length;\n};\n","'use strict';\n\nvar util = require('./util');\n\nmodule.exports = SchemaObject;\n\nfunction SchemaObject(obj) {\n  util.copy(obj, this);\n}\n","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","'use strict';\n\nvar resolve = require('./resolve');\n\nmodule.exports = {\n  Validation: errorSubclass(ValidationError),\n  MissingRef: errorSubclass(MissingRefError)\n};\n\n\nfunction ValidationError(errors) {\n  this.message = 'validation failed';\n  this.errors = errors;\n  this.ajv = this.validation = true;\n}\n\n\nMissingRefError.message = function (baseId, ref) {\n  return 'can\\'t resolve reference ' + ref + ' from id ' + baseId;\n};\n\n\nfunction MissingRefError(baseId, ref, message) {\n  this.message = message || MissingRefError.message(baseId, ref);\n  this.missingRef = resolve.url(baseId, ref);\n  this.missingSchema = resolve.normalizeId(resolve.fullPath(this.missingRef));\n}\n\n\nfunction errorSubclass(Subclass) {\n  Subclass.prototype = Object.create(Error.prototype);\n  Subclass.prototype.constructor = Subclass;\n  return Subclass;\n}\n","'use strict';\n\nmodule.exports = function (data, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (node) {\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        if (node === undefined) return;\n        if (typeof node == 'number') return isFinite(node) ? '' + node : 'null';\n        if (typeof node !== 'object') return JSON.stringify(node);\n\n        var i, out;\n        if (Array.isArray(node)) {\n            out = '[';\n            for (i = 0; i < node.length; i++) {\n                if (i) out += ',';\n                out += stringify(node[i]) || 'null';\n            }\n            return out + ']';\n        }\n\n        if (node === null) return 'null';\n\n        if (seen.indexOf(node) !== -1) {\n            if (cycles) return JSON.stringify('__cycle__');\n            throw new TypeError('Converting circular structure to JSON');\n        }\n\n        var seenIndex = seen.push(node) - 1;\n        var keys = Object.keys(node).sort(cmp && cmp(node));\n        out = '';\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = stringify(node[key]);\n\n            if (!value) continue;\n            if (out) out += ',';\n            out += JSON.stringify(key) + ':' + value;\n        }\n        seen.splice(seenIndex, 1);\n        return '{' + out + '}';\n    })(data);\n};\n","'use strict';\nmodule.exports = function generate_validate(it, $keyword, $ruleType) {\n  var out = '';\n  var $async = it.schema.$async === true,\n    $refKeywords = it.util.schemaHasRulesExcept(it.schema, it.RULES.all, '$ref'),\n    $id = it.self._getId(it.schema);\n  if (it.opts.strictKeywords) {\n    var $unknownKwd = it.util.schemaUnknownRules(it.schema, it.RULES.keywords);\n    if ($unknownKwd) {\n      var $keywordsMsg = 'unknown keyword: ' + $unknownKwd;\n      if (it.opts.strictKeywords === 'log') it.logger.warn($keywordsMsg);\n      else throw new Error($keywordsMsg);\n    }\n  }\n  if (it.isTop) {\n    out += ' var validate = ';\n    if ($async) {\n      it.async = true;\n      out += 'async ';\n    }\n    out += 'function(data, dataPath, parentData, parentDataProperty, rootData) { \\'use strict\\'; ';\n    if ($id && (it.opts.sourceCode || it.opts.processCode)) {\n      out += ' ' + ('/\\*# sourceURL=' + $id + ' */') + ' ';\n    }\n  }\n  if (typeof it.schema == 'boolean' || !($refKeywords || it.schema.$ref)) {\n    var $keyword = 'false schema';\n    var $lvl = it.level;\n    var $dataLvl = it.dataLevel;\n    var $schema = it.schema[$keyword];\n    var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n    var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n    var $breakOnError = !it.opts.allErrors;\n    var $errorKeyword;\n    var $data = 'data' + ($dataLvl || '');\n    var $valid = 'valid' + $lvl;\n    if (it.schema === false) {\n      if (it.isTop) {\n        $breakOnError = true;\n      } else {\n        out += ' var ' + ($valid) + ' = false; ';\n      }\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'false schema') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'boolean schema is false\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n    } else {\n      if (it.isTop) {\n        if ($async) {\n          out += ' return data; ';\n        } else {\n          out += ' validate.errors = null; return true; ';\n        }\n      } else {\n        out += ' var ' + ($valid) + ' = true; ';\n      }\n    }\n    if (it.isTop) {\n      out += ' }; return validate; ';\n    }\n    return out;\n  }\n  if (it.isTop) {\n    var $top = it.isTop,\n      $lvl = it.level = 0,\n      $dataLvl = it.dataLevel = 0,\n      $data = 'data';\n    it.rootId = it.resolve.fullPath(it.self._getId(it.root.schema));\n    it.baseId = it.baseId || it.rootId;\n    delete it.isTop;\n    it.dataPathArr = [\"\"];\n    if (it.schema.default !== undefined && it.opts.useDefaults && it.opts.strictDefaults) {\n      var $defaultMsg = 'default is ignored in the schema root';\n      if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n      else throw new Error($defaultMsg);\n    }\n    out += ' var vErrors = null; ';\n    out += ' var errors = 0;     ';\n    out += ' if (rootData === undefined) rootData = data; ';\n  } else {\n    var $lvl = it.level,\n      $dataLvl = it.dataLevel,\n      $data = 'data' + ($dataLvl || '');\n    if ($id) it.baseId = it.resolve.url(it.baseId, $id);\n    if ($async && !it.async) throw new Error('async schema in sync schema');\n    out += ' var errs_' + ($lvl) + ' = errors;';\n  }\n  var $valid = 'valid' + $lvl,\n    $breakOnError = !it.opts.allErrors,\n    $closingBraces1 = '',\n    $closingBraces2 = '';\n  var $errorKeyword;\n  var $typeSchema = it.schema.type,\n    $typeIsArray = Array.isArray($typeSchema);\n  if ($typeSchema && it.opts.nullable && it.schema.nullable === true) {\n    if ($typeIsArray) {\n      if ($typeSchema.indexOf('null') == -1) $typeSchema = $typeSchema.concat('null');\n    } else if ($typeSchema != 'null') {\n      $typeSchema = [$typeSchema, 'null'];\n      $typeIsArray = true;\n    }\n  }\n  if ($typeIsArray && $typeSchema.length == 1) {\n    $typeSchema = $typeSchema[0];\n    $typeIsArray = false;\n  }\n  if (it.schema.$ref && $refKeywords) {\n    if (it.opts.extendRefs == 'fail') {\n      throw new Error('$ref: validation keywords used in schema at path \"' + it.errSchemaPath + '\" (see option extendRefs)');\n    } else if (it.opts.extendRefs !== true) {\n      $refKeywords = false;\n      it.logger.warn('$ref: keywords ignored in schema at path \"' + it.errSchemaPath + '\"');\n    }\n  }\n  if (it.schema.$comment && it.opts.$comment) {\n    out += ' ' + (it.RULES.all.$comment.code(it, '$comment'));\n  }\n  if ($typeSchema) {\n    if (it.opts.coerceTypes) {\n      var $coerceToTypes = it.util.coerceToTypes(it.opts.coerceTypes, $typeSchema);\n    }\n    var $rulesGroup = it.RULES.types[$typeSchema];\n    if ($coerceToTypes || $typeIsArray || $rulesGroup === true || ($rulesGroup && !$shouldUseGroup($rulesGroup))) {\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type';\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type',\n        $method = $typeIsArray ? 'checkDataTypes' : 'checkDataType';\n      out += ' if (' + (it.util[$method]($typeSchema, $data, it.opts.strictNumbers, true)) + ') { ';\n      if ($coerceToTypes) {\n        var $dataType = 'dataType' + $lvl,\n          $coerced = 'coerced' + $lvl;\n        out += ' var ' + ($dataType) + ' = typeof ' + ($data) + '; var ' + ($coerced) + ' = undefined; ';\n        if (it.opts.coerceTypes == 'array') {\n          out += ' if (' + ($dataType) + ' == \\'object\\' && Array.isArray(' + ($data) + ') && ' + ($data) + '.length == 1) { ' + ($data) + ' = ' + ($data) + '[0]; ' + ($dataType) + ' = typeof ' + ($data) + '; if (' + (it.util.checkDataType(it.schema.type, $data, it.opts.strictNumbers)) + ') ' + ($coerced) + ' = ' + ($data) + '; } ';\n        }\n        out += ' if (' + ($coerced) + ' !== undefined) ; ';\n        var arr1 = $coerceToTypes;\n        if (arr1) {\n          var $type, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $type = arr1[$i += 1];\n            if ($type == 'string') {\n              out += ' else if (' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\') ' + ($coerced) + ' = \\'\\' + ' + ($data) + '; else if (' + ($data) + ' === null) ' + ($coerced) + ' = \\'\\'; ';\n            } else if ($type == 'number' || $type == 'integer') {\n              out += ' else if (' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' === null || (' + ($dataType) + ' == \\'string\\' && ' + ($data) + ' && ' + ($data) + ' == +' + ($data) + ' ';\n              if ($type == 'integer') {\n                out += ' && !(' + ($data) + ' % 1)';\n              }\n              out += ')) ' + ($coerced) + ' = +' + ($data) + '; ';\n            } else if ($type == 'boolean') {\n              out += ' else if (' + ($data) + ' === \\'false\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === null) ' + ($coerced) + ' = false; else if (' + ($data) + ' === \\'true\\' || ' + ($data) + ' === 1) ' + ($coerced) + ' = true; ';\n            } else if ($type == 'null') {\n              out += ' else if (' + ($data) + ' === \\'\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === false) ' + ($coerced) + ' = null; ';\n            } else if (it.opts.coerceTypes == 'array' && $type == 'array') {\n              out += ' else if (' + ($dataType) + ' == \\'string\\' || ' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' == null) ' + ($coerced) + ' = [' + ($data) + ']; ';\n            }\n          }\n        }\n        out += ' else {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } if (' + ($coerced) + ' !== undefined) {  ';\n        var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n          $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n        out += ' ' + ($data) + ' = ' + ($coerced) + '; ';\n        if (!$dataLvl) {\n          out += 'if (' + ($parentData) + ' !== undefined)';\n        }\n        out += ' ' + ($parentData) + '[' + ($parentDataProperty) + '] = ' + ($coerced) + '; } ';\n      } else {\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      }\n      out += ' } ';\n    }\n  }\n  if (it.schema.$ref && !$refKeywords) {\n    out += ' ' + (it.RULES.all.$ref.code(it, '$ref')) + ' ';\n    if ($breakOnError) {\n      out += ' } if (errors === ';\n      if ($top) {\n        out += '0';\n      } else {\n        out += 'errs_' + ($lvl);\n      }\n      out += ') { ';\n      $closingBraces2 += '}';\n    }\n  } else {\n    var arr2 = it.RULES;\n    if (arr2) {\n      var $rulesGroup, i2 = -1,\n        l2 = arr2.length - 1;\n      while (i2 < l2) {\n        $rulesGroup = arr2[i2 += 1];\n        if ($shouldUseGroup($rulesGroup)) {\n          if ($rulesGroup.type) {\n            out += ' if (' + (it.util.checkDataType($rulesGroup.type, $data, it.opts.strictNumbers)) + ') { ';\n          }\n          if (it.opts.useDefaults) {\n            if ($rulesGroup.type == 'object' && it.schema.properties) {\n              var $schema = it.schema.properties,\n                $schemaKeys = Object.keys($schema);\n              var arr3 = $schemaKeys;\n              if (arr3) {\n                var $propertyKey, i3 = -1,\n                  l3 = arr3.length - 1;\n                while (i3 < l3) {\n                  $propertyKey = arr3[i3 += 1];\n                  var $sch = $schema[$propertyKey];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + it.util.getProperty($propertyKey);\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            } else if ($rulesGroup.type == 'array' && Array.isArray(it.schema.items)) {\n              var arr4 = it.schema.items;\n              if (arr4) {\n                var $sch, $i = -1,\n                  l4 = arr4.length - 1;\n                while ($i < l4) {\n                  $sch = arr4[$i += 1];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + '[' + $i + ']';\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            }\n          }\n          var arr5 = $rulesGroup.rules;\n          if (arr5) {\n            var $rule, i5 = -1,\n              l5 = arr5.length - 1;\n            while (i5 < l5) {\n              $rule = arr5[i5 += 1];\n              if ($shouldUseRule($rule)) {\n                var $code = $rule.code(it, $rule.keyword, $rulesGroup.type);\n                if ($code) {\n                  out += ' ' + ($code) + ' ';\n                  if ($breakOnError) {\n                    $closingBraces1 += '}';\n                  }\n                }\n              }\n            }\n          }\n          if ($breakOnError) {\n            out += ' ' + ($closingBraces1) + ' ';\n            $closingBraces1 = '';\n          }\n          if ($rulesGroup.type) {\n            out += ' } ';\n            if ($typeSchema && $typeSchema === $rulesGroup.type && !$coerceToTypes) {\n              out += ' else { ';\n              var $schemaPath = it.schemaPath + '.type',\n                $errSchemaPath = it.errSchemaPath + '/type';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n                if ($typeIsArray) {\n                  out += '' + ($typeSchema.join(\",\"));\n                } else {\n                  out += '' + ($typeSchema);\n                }\n                out += '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should be ';\n                  if ($typeIsArray) {\n                    out += '' + ($typeSchema.join(\",\"));\n                  } else {\n                    out += '' + ($typeSchema);\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n            }\n          }\n          if ($breakOnError) {\n            out += ' if (errors === ';\n            if ($top) {\n              out += '0';\n            } else {\n              out += 'errs_' + ($lvl);\n            }\n            out += ') { ';\n            $closingBraces2 += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces2) + ' ';\n  }\n  if ($top) {\n    if ($async) {\n      out += ' if (errors === 0) return data;           ';\n      out += ' else throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; ';\n      out += ' return errors === 0;       ';\n    }\n    out += ' }; return validate;';\n  } else {\n    out += ' var ' + ($valid) + ' = errors === errs_' + ($lvl) + ';';\n  }\n\n  function $shouldUseGroup($rulesGroup) {\n    var rules = $rulesGroup.rules;\n    for (var i = 0; i < rules.length; i++)\n      if ($shouldUseRule(rules[i])) return true;\n  }\n\n  function $shouldUseRule($rule) {\n    return it.schema[$rule.keyword] !== undefined || ($rule.implements && $ruleImplementsSomeKeyword($rule));\n  }\n\n  function $ruleImplementsSomeKeyword($rule) {\n    var impl = $rule.implements;\n    for (var i = 0; i < impl.length; i++)\n      if (it.schema[impl[i]] !== undefined) return true;\n  }\n  return out;\n}\n","'use strict';\n\n\nvar Cache = module.exports = function Cache() {\n  this._cache = {};\n};\n\n\nCache.prototype.put = function Cache_put(key, value) {\n  this._cache[key] = value;\n};\n\n\nCache.prototype.get = function Cache_get(key) {\n  return this._cache[key];\n};\n\n\nCache.prototype.del = function Cache_del(key) {\n  delete this._cache[key];\n};\n\n\nCache.prototype.clear = function Cache_clear() {\n  this._cache = {};\n};\n","'use strict';\n\nvar util = require('./util');\n\nvar DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/;\nvar DAYS = [0,31,28,31,30,31,30,31,31,30,31,30,31];\nvar TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d(?::?\\d\\d)?)?$/i;\nvar HOSTNAME = /^(?=.{1,253}\\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\\.?$/i;\nvar URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\nvar URIREF = /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\n// uri-template: https://tools.ietf.org/html/rfc6570\nvar URITEMPLATE = /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i;\n// For the source: https://gist.github.com/dperini/729294\n// For test cases: https://mathiasbynens.be/demo/url-regex\n// @todo Delete current URL in favour of the commented out URL rule when this issue is fixed https://github.com/eslint/eslint/issues/7983.\n// var URL = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-)*[a-z\\u{00a1}-\\u{ffff}0-9]+)(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-)*[a-z\\u{00a1}-\\u{ffff}0-9]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu;\nvar URL = /^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-)*(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-)*(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i;\nvar UUID = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;\nvar JSON_POINTER = /^(?:\\/(?:[^~/]|~0|~1)*)*$/;\nvar JSON_POINTER_URI_FRAGMENT = /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;\nvar RELATIVE_JSON_POINTER = /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/;\n\n\nmodule.exports = formats;\n\nfunction formats(mode) {\n  mode = mode == 'full' ? 'full' : 'fast';\n  return util.copy(formats[mode]);\n}\n\n\nformats.fast = {\n  // date: http://tools.ietf.org/html/rfc3339#section-5.6\n  date: /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,\n  // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n  time: /^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)?$/i,\n  'date-time': /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i,\n  // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n  uri: /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\n  'uri-reference': /^(?:(?:[a-z][a-z0-9+\\-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  // email (sources from jsen validator):\n  // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n  // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')\n  email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n  hostname: HOSTNAME,\n  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  // uuid: http://tools.ietf.org/html/rfc4122\n  uuid: UUID,\n  // JSON-pointer: https://tools.ietf.org/html/rfc6901\n  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nformats.full = {\n  date: date,\n  time: time,\n  'date-time': date_time,\n  uri: uri,\n  'uri-reference': URIREF,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n  hostname: HOSTNAME,\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  uuid: UUID,\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nfunction isLeapYear(year) {\n  // https://tools.ietf.org/html/rfc3339#appendix-C\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\n\n\nfunction date(str) {\n  // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n  var matches = str.match(DATE);\n  if (!matches) return false;\n\n  var year = +matches[1];\n  var month = +matches[2];\n  var day = +matches[3];\n\n  return month >= 1 && month <= 12 && day >= 1 &&\n          day <= (month == 2 && isLeapYear(year) ? 29 : DAYS[month]);\n}\n\n\nfunction time(str, full) {\n  var matches = str.match(TIME);\n  if (!matches) return false;\n\n  var hour = matches[1];\n  var minute = matches[2];\n  var second = matches[3];\n  var timeZone = matches[5];\n  return ((hour <= 23 && minute <= 59 && second <= 59) ||\n          (hour == 23 && minute == 59 && second == 60)) &&\n         (!full || timeZone);\n}\n\n\nvar DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction date_time(str) {\n  // http://tools.ietf.org/html/rfc3339#section-5.6\n  var dateTime = str.split(DATE_TIME_SEPARATOR);\n  return dateTime.length == 2 && date(dateTime[0]) && time(dateTime[1], true);\n}\n\n\nvar NOT_URI_FRAGMENT = /\\/|:/;\nfunction uri(str) {\n  // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n  return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\n\n\nvar Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n  if (Z_ANCHOR.test(str)) return false;\n  try {\n    new RegExp(str);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n","'use strict';\n\nvar ruleModules = require('../dotjs')\n  , toHash = require('./util').toHash;\n\nmodule.exports = function rules() {\n  var RULES = [\n    { type: 'number',\n      rules: [ { 'maximum': ['exclusiveMaximum'] },\n               { 'minimum': ['exclusiveMinimum'] }, 'multipleOf', 'format'] },\n    { type: 'string',\n      rules: [ 'maxLength', 'minLength', 'pattern', 'format' ] },\n    { type: 'array',\n      rules: [ 'maxItems', 'minItems', 'items', 'contains', 'uniqueItems' ] },\n    { type: 'object',\n      rules: [ 'maxProperties', 'minProperties', 'required', 'dependencies', 'propertyNames',\n               { 'properties': ['additionalProperties', 'patternProperties'] } ] },\n    { rules: [ '$ref', 'const', 'enum', 'not', 'anyOf', 'oneOf', 'allOf', 'if' ] }\n  ];\n\n  var ALL = [ 'type', '$comment' ];\n  var KEYWORDS = [\n    '$schema', '$id', 'id', '$data', '$async', 'title',\n    'description', 'default', 'definitions',\n    'examples', 'readOnly', 'writeOnly',\n    'contentMediaType', 'contentEncoding',\n    'additionalItems', 'then', 'else'\n  ];\n  var TYPES = [ 'number', 'integer', 'string', 'array', 'object', 'boolean', 'null' ];\n  RULES.all = toHash(ALL);\n  RULES.types = toHash(TYPES);\n\n  RULES.forEach(function (group) {\n    group.rules = group.rules.map(function (keyword) {\n      var implKeywords;\n      if (typeof keyword == 'object') {\n        var key = Object.keys(keyword)[0];\n        implKeywords = keyword[key];\n        keyword = key;\n        implKeywords.forEach(function (k) {\n          ALL.push(k);\n          RULES.all[k] = true;\n        });\n      }\n      ALL.push(keyword);\n      var rule = RULES.all[keyword] = {\n        keyword: keyword,\n        code: ruleModules[keyword],\n        implements: implKeywords\n      };\n      return rule;\n    });\n\n    RULES.all.$comment = {\n      keyword: '$comment',\n      code: ruleModules.$comment\n    };\n\n    if (group.type) RULES.types[group.type] = group;\n  });\n\n  RULES.keywords = toHash(ALL.concat(KEYWORDS));\n  RULES.custom = {};\n\n  return RULES;\n};\n","'use strict';\n\n//all requires must be explicit because browserify won't work with dynamic requires\nmodule.exports = {\n  '$ref': require('./ref'),\n  allOf: require('./allOf'),\n  anyOf: require('./anyOf'),\n  '$comment': require('./comment'),\n  const: require('./const'),\n  contains: require('./contains'),\n  dependencies: require('./dependencies'),\n  'enum': require('./enum'),\n  format: require('./format'),\n  'if': require('./if'),\n  items: require('./items'),\n  maximum: require('./_limit'),\n  minimum: require('./_limit'),\n  maxItems: require('./_limitItems'),\n  minItems: require('./_limitItems'),\n  maxLength: require('./_limitLength'),\n  minLength: require('./_limitLength'),\n  maxProperties: require('./_limitProperties'),\n  minProperties: require('./_limitProperties'),\n  multipleOf: require('./multipleOf'),\n  not: require('./not'),\n  oneOf: require('./oneOf'),\n  pattern: require('./pattern'),\n  properties: require('./properties'),\n  propertyNames: require('./propertyNames'),\n  required: require('./required'),\n  uniqueItems: require('./uniqueItems'),\n  validate: require('./validate')\n};\n","'use strict';\nmodule.exports = function generate_ref(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $async, $refCode;\n  if ($schema == '#' || $schema == '#/') {\n    if (it.isRoot) {\n      $async = it.async;\n      $refCode = 'validate';\n    } else {\n      $async = it.root.schema.$async === true;\n      $refCode = 'root.refVal[0]';\n    }\n  } else {\n    var $refVal = it.resolveRef(it.baseId, $schema, it.isRoot);\n    if ($refVal === undefined) {\n      var $message = it.MissingRefError.message(it.baseId, $schema);\n      if (it.opts.missingRefs == 'fail') {\n        it.logger.error($message);\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('$ref') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { ref: \\'' + (it.util.escapeQuotes($schema)) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'can\\\\\\'t resolve reference ' + (it.util.escapeQuotes($schema)) + '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: ' + (it.util.toQuotedString($schema)) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        if ($breakOnError) {\n          out += ' if (false) { ';\n        }\n      } else if (it.opts.missingRefs == 'ignore') {\n        it.logger.warn($message);\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n      } else {\n        throw new it.MissingRefError(it.baseId, $schema, $message);\n      }\n    } else if ($refVal.inline) {\n      var $it = it.util.copy(it);\n      $it.level++;\n      var $nextValid = 'valid' + $it.level;\n      $it.schema = $refVal.schema;\n      $it.schemaPath = '';\n      $it.errSchemaPath = $schema;\n      var $code = it.validate($it).replace(/validate\\.schema/g, $refVal.code);\n      out += ' ' + ($code) + ' ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n      }\n    } else {\n      $async = $refVal.$async === true || (it.async && $refVal.$async !== false);\n      $refCode = $refVal.code;\n    }\n  }\n  if ($refCode) {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    if (it.opts.passContext) {\n      out += ' ' + ($refCode) + '.call(this, ';\n    } else {\n      out += ' ' + ($refCode) + '( ';\n    }\n    out += ' ' + ($data) + ', (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ', rootData)  ';\n    var __callValidate = out;\n    out = $$outStack.pop();\n    if ($async) {\n      if (!it.async) throw new Error('async schema referenced by sync schema');\n      if ($breakOnError) {\n        out += ' var ' + ($valid) + '; ';\n      }\n      out += ' try { await ' + (__callValidate) + '; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = true; ';\n      }\n      out += ' } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = false; ';\n      }\n      out += ' } ';\n      if ($breakOnError) {\n        out += ' if (' + ($valid) + ') { ';\n      }\n    } else {\n      out += ' if (!' + (__callValidate) + ') { if (vErrors === null) vErrors = ' + ($refCode) + '.errors; else vErrors = vErrors.concat(' + ($refCode) + '.errors); errors = vErrors.length; } ';\n      if ($breakOnError) {\n        out += ' else { ';\n      }\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_allOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $allSchemasEmpty = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $allSchemasEmpty = false;\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    if ($allSchemasEmpty) {\n      out += ' if (true) { ';\n    } else {\n      out += ' ' + ($closingBraces.slice(0, -1)) + ' ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_anyOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $noEmptySchema = $schema.every(function($sch) {\n    return (it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all));\n  });\n  if ($noEmptySchema) {\n    var $currentBaseId = $it.baseId;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = false;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        out += ' ' + ($valid) + ' = ' + ($valid) + ' || ' + ($nextValid) + '; if (!' + ($valid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('anyOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match some schema in anyOf\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_comment(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $comment = it.util.toQuotedString($schema);\n  if (it.opts.$comment === true) {\n    out += ' console.log(' + ($comment) + ');';\n  } else if (typeof it.opts.$comment == 'function') {\n    out += ' self._opts.$comment(' + ($comment) + ', ' + (it.util.toQuotedString($errSchemaPath)) + ', validate.root.schema);';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_const(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!$isData) {\n    out += ' var schema' + ($lvl) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ' = equal(' + ($data) + ', schema' + ($lvl) + '); if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('const') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValue: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to constant\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_contains(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId,\n    $nonEmptySchema = (it.opts.strictKeywords ? (typeof $schema == 'object' && Object.keys($schema).length > 0) || $schema === false : it.util.schemaHasRules($schema, it.RULES.all));\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($nonEmptySchema) {\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($nextValid) + ' = false; for (var ' + ($idx) + ' = 0; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    out += ' if (' + ($nextValid) + ') break; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($nextValid) + ') {';\n  } else {\n    out += ' if (' + ($data) + '.length == 0) {';\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('contains') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should contain a valid item\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } else { ';\n  if ($nonEmptySchema) {\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n  }\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_dependencies(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $schemaDeps = {},\n    $propertyDeps = {},\n    $ownProperties = it.opts.ownProperties;\n  for ($property in $schema) {\n    if ($property == '__proto__') continue;\n    var $sch = $schema[$property];\n    var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;\n    $deps[$property] = $sch;\n  }\n  out += 'var ' + ($errs) + ' = errors;';\n  var $currentErrorPath = it.errorPath;\n  out += 'var missing' + ($lvl) + ';';\n  for (var $property in $propertyDeps) {\n    $deps = $propertyDeps[$property];\n    if ($deps.length) {\n      out += ' if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      if ($breakOnError) {\n        out += ' && ( ';\n        var arr1 = $deps;\n        if (arr1) {\n          var $propertyKey, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $propertyKey = arr1[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ')) {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should have ';\n            if ($deps.length == 1) {\n              out += 'property ' + (it.util.escapeQuotes($deps[0]));\n            } else {\n              out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n            }\n            out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      } else {\n        out += ' ) { ';\n        var arr2 = $deps;\n        if (arr2) {\n          var $propertyKey, i2 = -1,\n            l2 = arr2.length - 1;\n          while (i2 < l2) {\n            $propertyKey = arr2[i2 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'should have ';\n                if ($deps.length == 1) {\n                  out += 'property ' + (it.util.escapeQuotes($deps[0]));\n                } else {\n                  out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n                }\n                out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n      out += ' }   ';\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n  }\n  it.errorPath = $currentErrorPath;\n  var $currentBaseId = $it.baseId;\n  for (var $property in $schemaDeps) {\n    var $sch = $schemaDeps[$property];\n    if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n      out += ' ' + ($nextValid) + ' = true; if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      out += ') { ';\n      $it.schema = $sch;\n      $it.schemaPath = $schemaPath + it.util.getProperty($property);\n      $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($property);\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += '   ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_enum(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $i = 'i' + $lvl,\n    $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ';';\n  if ($isData) {\n    out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n  }\n  out += '' + ($valid) + ' = false;for (var ' + ($i) + '=0; ' + ($i) + '<' + ($vSchema) + '.length; ' + ($i) + '++) if (equal(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + '])) { ' + ($valid) + ' = true; break; }';\n  if ($isData) {\n    out += '  }  ';\n  }\n  out += ' if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('enum') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValues: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to one of the allowed values\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_format(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  if (it.opts.format === false) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n    return out;\n  }\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $unknownFormats = it.opts.unknownFormats,\n    $allowUnknown = Array.isArray($unknownFormats);\n  if ($isData) {\n    var $format = 'format' + $lvl,\n      $isObject = 'isObject' + $lvl,\n      $formatType = 'formatType' + $lvl;\n    out += ' var ' + ($format) + ' = formats[' + ($schemaValue) + ']; var ' + ($isObject) + ' = typeof ' + ($format) + ' == \\'object\\' && !(' + ($format) + ' instanceof RegExp) && ' + ($format) + '.validate; var ' + ($formatType) + ' = ' + ($isObject) + ' && ' + ($format) + '.type || \\'string\\'; if (' + ($isObject) + ') { ';\n    if (it.async) {\n      out += ' var async' + ($lvl) + ' = ' + ($format) + '.async; ';\n    }\n    out += ' ' + ($format) + ' = ' + ($format) + '.validate; } if (  ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n    }\n    out += ' (';\n    if ($unknownFormats != 'ignore') {\n      out += ' (' + ($schemaValue) + ' && !' + ($format) + ' ';\n      if ($allowUnknown) {\n        out += ' && self._opts.unknownFormats.indexOf(' + ($schemaValue) + ') == -1 ';\n      }\n      out += ') || ';\n    }\n    out += ' (' + ($format) + ' && ' + ($formatType) + ' == \\'' + ($ruleType) + '\\' && !(typeof ' + ($format) + ' == \\'function\\' ? ';\n    if (it.async) {\n      out += ' (async' + ($lvl) + ' ? await ' + ($format) + '(' + ($data) + ') : ' + ($format) + '(' + ($data) + ')) ';\n    } else {\n      out += ' ' + ($format) + '(' + ($data) + ') ';\n    }\n    out += ' : ' + ($format) + '.test(' + ($data) + '))))) {';\n  } else {\n    var $format = it.formats[$schema];\n    if (!$format) {\n      if ($unknownFormats == 'ignore') {\n        it.logger.warn('unknown format \"' + $schema + '\" ignored in schema at path \"' + it.errSchemaPath + '\"');\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else if ($allowUnknown && $unknownFormats.indexOf($schema) >= 0) {\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else {\n        throw new Error('unknown format \"' + $schema + '\" is used in schema at path \"' + it.errSchemaPath + '\"');\n      }\n    }\n    var $isObject = typeof $format == 'object' && !($format instanceof RegExp) && $format.validate;\n    var $formatType = $isObject && $format.type || 'string';\n    if ($isObject) {\n      var $async = $format.async === true;\n      $format = $format.validate;\n    }\n    if ($formatType != $ruleType) {\n      if ($breakOnError) {\n        out += ' if (true) { ';\n      }\n      return out;\n    }\n    if ($async) {\n      if (!it.async) throw new Error('async format in sync schema');\n      var $formatRef = 'formats' + it.util.getProperty($schema) + '.validate';\n      out += ' if (!(await ' + ($formatRef) + '(' + ($data) + '))) { ';\n    } else {\n      out += ' if (! ';\n      var $formatRef = 'formats' + it.util.getProperty($schema);\n      if ($isObject) $formatRef += '.validate';\n      if (typeof $format == 'function') {\n        out += ' ' + ($formatRef) + '(' + ($data) + ') ';\n      } else {\n        out += ' ' + ($formatRef) + '.test(' + ($data) + ') ';\n      }\n      out += ') { ';\n    }\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('format') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { format:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match format \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_if(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $thenSch = it.schema['then'],\n    $elseSch = it.schema['else'],\n    $thenPresent = $thenSch !== undefined && (it.opts.strictKeywords ? (typeof $thenSch == 'object' && Object.keys($thenSch).length > 0) || $thenSch === false : it.util.schemaHasRules($thenSch, it.RULES.all)),\n    $elsePresent = $elseSch !== undefined && (it.opts.strictKeywords ? (typeof $elseSch == 'object' && Object.keys($elseSch).length > 0) || $elseSch === false : it.util.schemaHasRules($elseSch, it.RULES.all)),\n    $currentBaseId = $it.baseId;\n  if ($thenPresent || $elsePresent) {\n    var $ifClause;\n    $it.createErrors = false;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = true;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    out += '  ' + (it.validate($it)) + ' ';\n    $it.baseId = $currentBaseId;\n    $it.createErrors = true;\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    if ($thenPresent) {\n      out += ' if (' + ($nextValid) + ') {  ';\n      $it.schema = it.schema['then'];\n      $it.schemaPath = it.schemaPath + '.then';\n      $it.errSchemaPath = it.errSchemaPath + '/then';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'then\\'; ';\n      } else {\n        $ifClause = '\\'then\\'';\n      }\n      out += ' } ';\n      if ($elsePresent) {\n        out += ' else { ';\n      }\n    } else {\n      out += ' if (!' + ($nextValid) + ') { ';\n    }\n    if ($elsePresent) {\n      $it.schema = it.schema['else'];\n      $it.schemaPath = it.schemaPath + '.else';\n      $it.errSchemaPath = it.errSchemaPath + '/else';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'else\\'; ';\n      } else {\n        $ifClause = '\\'else\\'';\n      }\n      out += ' } ';\n    }\n    out += ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('if') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { failingKeyword: ' + ($ifClause) + ' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match \"\\' + ' + ($ifClause) + ' + \\'\" schema\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' }   ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_items(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId;\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if (Array.isArray($schema)) {\n    var $additionalItems = it.schema.additionalItems;\n    if ($additionalItems === false) {\n      out += ' ' + ($valid) + ' = ' + ($data) + '.length <= ' + ($schema.length) + '; ';\n      var $currErrSchemaPath = $errSchemaPath;\n      $errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += '  if (!' + ($valid) + ') {   ';\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ('additionalItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schema.length) + ' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should NOT have more than ' + ($schema.length) + ' items\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n      out += ' } ';\n      $errSchemaPath = $currErrSchemaPath;\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n          out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($i) + ') { ';\n          var $passData = $data + '[' + $i + ']';\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + '[' + $i + ']';\n          $it.errSchemaPath = $errSchemaPath + '/' + $i;\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $i, it.opts.jsonPointers, true);\n          $it.dataPathArr[$dataNxt] = $i;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n    if (typeof $additionalItems == 'object' && (it.opts.strictKeywords ? (typeof $additionalItems == 'object' && Object.keys($additionalItems).length > 0) || $additionalItems === false : it.util.schemaHasRules($additionalItems, it.RULES.all))) {\n      $it.schema = $additionalItems;\n      $it.schemaPath = it.schemaPath + '.additionalItems';\n      $it.errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($schema.length) + ') {  for (var ' + ($idx) + ' = ' + ($schema.length) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n      $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n      var $passData = $data + '[' + $idx + ']';\n      $it.dataPathArr[$dataNxt] = $idx;\n      var $code = it.validate($it);\n      $it.baseId = $currentBaseId;\n      if (it.util.varOccurences($code, $nextData) < 2) {\n        out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n      } else {\n        out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n      }\n      if ($breakOnError) {\n        out += ' if (!' + ($nextValid) + ') break; ';\n      }\n      out += ' } }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  } else if ((it.opts.strictKeywords ? (typeof $schema == 'object' && Object.keys($schema).length > 0) || $schema === false : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += '  for (var ' + ($idx) + ' = ' + (0) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    if ($breakOnError) {\n      out += ' if (!' + ($nextValid) + ') break; ';\n    }\n    out += ' }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limit(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $isMax = $keyword == 'maximum',\n    $exclusiveKeyword = $isMax ? 'exclusiveMaximum' : 'exclusiveMinimum',\n    $schemaExcl = it.schema[$exclusiveKeyword],\n    $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data,\n    $op = $isMax ? '<' : '>',\n    $notOp = $isMax ? '>' : '<',\n    $errorKeyword = undefined;\n  if (!($isData || typeof $schema == 'number' || $schema === undefined)) {\n    throw new Error($keyword + ' must be number');\n  }\n  if (!($isDataExcl || $schemaExcl === undefined || typeof $schemaExcl == 'number' || typeof $schemaExcl == 'boolean')) {\n    throw new Error($exclusiveKeyword + ' must be number or boolean');\n  }\n  if ($isDataExcl) {\n    var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr),\n      $exclusive = 'exclusive' + $lvl,\n      $exclType = 'exclType' + $lvl,\n      $exclIsNumber = 'exclIsNumber' + $lvl,\n      $opExpr = 'op' + $lvl,\n      $opStr = '\\' + ' + $opExpr + ' + \\'';\n    out += ' var schemaExcl' + ($lvl) + ' = ' + ($schemaValueExcl) + '; ';\n    $schemaValueExcl = 'schemaExcl' + $lvl;\n    out += ' var ' + ($exclusive) + '; var ' + ($exclType) + ' = typeof ' + ($schemaValueExcl) + '; if (' + ($exclType) + ' != \\'boolean\\' && ' + ($exclType) + ' != \\'undefined\\' && ' + ($exclType) + ' != \\'number\\') { ';\n    var $errorKeyword = $exclusiveKeyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || '_exclusiveLimit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'' + ($exclusiveKeyword) + ' should be boolean\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else if ( ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n    }\n    out += ' ' + ($exclType) + ' == \\'number\\' ? ( (' + ($exclusive) + ' = ' + ($schemaValue) + ' === undefined || ' + ($schemaValueExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ') ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValueExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) : ( (' + ($exclusive) + ' = ' + ($schemaValueExcl) + ' === true) ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValue) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { var op' + ($lvl) + ' = ' + ($exclusive) + ' ? \\'' + ($op) + '\\' : \\'' + ($op) + '=\\'; ';\n    if ($schema === undefined) {\n      $errorKeyword = $exclusiveKeyword;\n      $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n      $schemaValue = $schemaValueExcl;\n      $isData = $isDataExcl;\n    }\n  } else {\n    var $exclIsNumber = typeof $schemaExcl == 'number',\n      $opStr = $op;\n    if ($exclIsNumber && $isData) {\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ( ' + ($schemaValue) + ' === undefined || ' + ($schemaExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ' ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { ';\n    } else {\n      if ($exclIsNumber && $schema === undefined) {\n        $exclusive = true;\n        $errorKeyword = $exclusiveKeyword;\n        $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n        $schemaValue = $schemaExcl;\n        $notOp += '=';\n      } else {\n        if ($exclIsNumber) $schemaValue = Math[$isMax ? 'min' : 'max']($schemaExcl, $schema);\n        if ($schemaExcl === ($exclIsNumber ? $schemaValue : true)) {\n          $exclusive = true;\n          $errorKeyword = $exclusiveKeyword;\n          $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n          $notOp += '=';\n        } else {\n          $exclusive = false;\n          $opStr += '=';\n        }\n      }\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' || ' + ($data) + ' !== ' + ($data) + ') { ';\n    }\n  }\n  $errorKeyword = $errorKeyword || $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { comparison: ' + ($opExpr) + ', limit: ' + ($schemaValue) + ', exclusive: ' + ($exclusive) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be ' + ($opStr) + ' ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  var $op = $keyword == 'maxItems' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' ' + ($data) + '.length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxItems') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' items\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitLength(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  var $op = $keyword == 'maxLength' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  if (it.opts.unicode === false) {\n    out += ' ' + ($data) + '.length ';\n  } else {\n    out += ' ucs2length(' + ($data) + ') ';\n  }\n  out += ' ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitLength') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT be ';\n      if ($keyword == 'maxLength') {\n        out += 'longer';\n      } else {\n        out += 'shorter';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' characters\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitProperties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  var $op = $keyword == 'maxProperties' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' Object.keys(' + ($data) + ').length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxProperties') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' properties\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_multipleOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  out += 'var division' + ($lvl) + ';if (';\n  if ($isData) {\n    out += ' ' + ($schemaValue) + ' !== undefined && ( typeof ' + ($schemaValue) + ' != \\'number\\' || ';\n  }\n  out += ' (division' + ($lvl) + ' = ' + ($data) + ' / ' + ($schemaValue) + ', ';\n  if (it.opts.multipleOfPrecision) {\n    out += ' Math.abs(Math.round(division' + ($lvl) + ') - division' + ($lvl) + ') > 1e-' + (it.opts.multipleOfPrecision) + ' ';\n  } else {\n    out += ' division' + ($lvl) + ' !== parseInt(division' + ($lvl) + ') ';\n  }\n  out += ' ) ';\n  if ($isData) {\n    out += '  )  ';\n  }\n  out += ' ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('multipleOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { multipleOf: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be multiple of ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_not(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  if ((it.opts.strictKeywords ? (typeof $schema == 'object' && Object.keys($schema).length > 0) || $schema === false : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.createErrors = false;\n    var $allErrorsOption;\n    if ($it.opts.allErrors) {\n      $allErrorsOption = $it.opts.allErrors;\n      $it.opts.allErrors = false;\n    }\n    out += ' ' + (it.validate($it)) + ' ';\n    $it.createErrors = true;\n    if ($allErrorsOption) $it.opts.allErrors = $allErrorsOption;\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (' + ($nextValid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    out += '  var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if ($breakOnError) {\n      out += ' if (false) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_oneOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $prevValid = 'prevValid' + $lvl,\n    $passingSchemas = 'passingSchemas' + $lvl;\n  out += 'var ' + ($errs) + ' = errors , ' + ($prevValid) + ' = false , ' + ($valid) + ' = false , ' + ($passingSchemas) + ' = null; ';\n  var $wasComposite = it.compositeRule;\n  it.compositeRule = $it.compositeRule = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n      } else {\n        out += ' var ' + ($nextValid) + ' = true; ';\n      }\n      if ($i) {\n        out += ' if (' + ($nextValid) + ' && ' + ($prevValid) + ') { ' + ($valid) + ' = false; ' + ($passingSchemas) + ' = [' + ($passingSchemas) + ', ' + ($i) + ']; } else { ';\n        $closingBraces += '}';\n      }\n      out += ' if (' + ($nextValid) + ') { ' + ($valid) + ' = ' + ($prevValid) + ' = true; ' + ($passingSchemas) + ' = ' + ($i) + '; }';\n    }\n  }\n  it.compositeRule = $it.compositeRule = $wasComposite;\n  out += '' + ($closingBraces) + 'if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('oneOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { passingSchemas: ' + ($passingSchemas) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match exactly one schema in oneOf\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; return false; ';\n    }\n  }\n  out += '} else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }';\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_pattern(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $regexp = $isData ? '(new RegExp(' + $schemaValue + '))' : it.usePattern($schema);\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n  }\n  out += ' !' + ($regexp) + '.test(' + ($data) + ') ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('pattern') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { pattern:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match pattern \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_properties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $key = 'key' + $lvl,\n    $idx = 'idx' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $dataProperties = 'dataProperties' + $lvl;\n  var $schemaKeys = Object.keys($schema || {}).filter(notProto),\n    $pProperties = it.schema.patternProperties || {},\n    $pPropertyKeys = Object.keys($pProperties).filter(notProto),\n    $aProperties = it.schema.additionalProperties,\n    $someProperties = $schemaKeys.length || $pPropertyKeys.length,\n    $noAdditional = $aProperties === false,\n    $additionalIsSchema = typeof $aProperties == 'object' && Object.keys($aProperties).length,\n    $removeAdditional = it.opts.removeAdditional,\n    $checkAdditional = $noAdditional || $additionalIsSchema || $removeAdditional,\n    $ownProperties = it.opts.ownProperties,\n    $currentBaseId = it.baseId;\n  var $required = it.schema.required;\n  if ($required && !(it.opts.$data && $required.$data) && $required.length < it.opts.loopRequired) {\n    var $requiredHash = it.util.toHash($required);\n  }\n\n  function notProto(p) {\n    return p !== '__proto__';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($nextValid) + ' = true;';\n  if ($ownProperties) {\n    out += ' var ' + ($dataProperties) + ' = undefined;';\n  }\n  if ($checkAdditional) {\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    if ($someProperties) {\n      out += ' var isAdditional' + ($lvl) + ' = !(false ';\n      if ($schemaKeys.length) {\n        if ($schemaKeys.length > 8) {\n          out += ' || validate.schema' + ($schemaPath) + '.hasOwnProperty(' + ($key) + ') ';\n        } else {\n          var arr1 = $schemaKeys;\n          if (arr1) {\n            var $propertyKey, i1 = -1,\n              l1 = arr1.length - 1;\n            while (i1 < l1) {\n              $propertyKey = arr1[i1 += 1];\n              out += ' || ' + ($key) + ' == ' + (it.util.toQuotedString($propertyKey)) + ' ';\n            }\n          }\n        }\n      }\n      if ($pPropertyKeys.length) {\n        var arr2 = $pPropertyKeys;\n        if (arr2) {\n          var $pProperty, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $pProperty = arr2[$i += 1];\n            out += ' || ' + (it.usePattern($pProperty)) + '.test(' + ($key) + ') ';\n          }\n        }\n      }\n      out += ' ); if (isAdditional' + ($lvl) + ') { ';\n    }\n    if ($removeAdditional == 'all') {\n      out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n    } else {\n      var $currentErrorPath = it.errorPath;\n      var $additionalProperty = '\\' + ' + $key + ' + \\'';\n      if (it.opts._errorDataPathProperty) {\n        it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n      }\n      if ($noAdditional) {\n        if ($removeAdditional) {\n          out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n        } else {\n          out += ' ' + ($nextValid) + ' = false; ';\n          var $currErrSchemaPath = $errSchemaPath;\n          $errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = ''; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('additionalProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { additionalProperty: \\'' + ($additionalProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is an invalid additional property';\n              } else {\n                out += 'should NOT have additional properties';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          var __err = out;\n          out = $$outStack.pop();\n          if (!it.compositeRule && $breakOnError) {\n            /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError([' + (__err) + ']); ';\n            } else {\n              out += ' validate.errors = [' + (__err) + ']; return false; ';\n            }\n          } else {\n            out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n          }\n          $errSchemaPath = $currErrSchemaPath;\n          if ($breakOnError) {\n            out += ' break; ';\n          }\n        }\n      } else if ($additionalIsSchema) {\n        if ($removeAdditional == 'failing') {\n          out += ' var ' + ($errs) + ' = errors;  ';\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' if (!' + ($nextValid) + ') { errors = ' + ($errs) + '; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete ' + ($data) + '[' + ($key) + ']; }  ';\n          it.compositeRule = $it.compositeRule = $wasComposite;\n        } else {\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n        }\n      }\n      it.errorPath = $currentErrorPath;\n    }\n    if ($someProperties) {\n      out += ' } ';\n    }\n    out += ' }  ';\n    if ($breakOnError) {\n      out += ' if (' + ($nextValid) + ') { ';\n      $closingBraces += '}';\n    }\n  }\n  var $useDefaults = it.opts.useDefaults && !it.compositeRule;\n  if ($schemaKeys.length) {\n    var arr3 = $schemaKeys;\n    if (arr3) {\n      var $propertyKey, i3 = -1,\n        l3 = arr3.length - 1;\n      while (i3 < l3) {\n        $propertyKey = arr3[i3 += 1];\n        var $sch = $schema[$propertyKey];\n        if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n          var $prop = it.util.getProperty($propertyKey),\n            $passData = $data + $prop,\n            $hasDefault = $useDefaults && $sch.default !== undefined;\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + $prop;\n          $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($propertyKey);\n          $it.errorPath = it.util.getPath(it.errorPath, $propertyKey, it.opts.jsonPointers);\n          $it.dataPathArr[$dataNxt] = it.util.toQuotedString($propertyKey);\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            $code = it.util.varReplace($code, $nextData, $passData);\n            var $useData = $passData;\n          } else {\n            var $useData = $nextData;\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ';\n          }\n          if ($hasDefault) {\n            out += ' ' + ($code) + ' ';\n          } else {\n            if ($requiredHash && $requiredHash[$propertyKey]) {\n              out += ' if ( ' + ($useData) + ' === undefined ';\n              if ($ownProperties) {\n                out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n              }\n              out += ') { ' + ($nextValid) + ' = false; ';\n              var $currentErrorPath = it.errorPath,\n                $currErrSchemaPath = $errSchemaPath,\n                $missingProperty = it.util.escapeQuotes($propertyKey);\n              if (it.opts._errorDataPathProperty) {\n                it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n              }\n              $errSchemaPath = it.errSchemaPath + '/required';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'';\n                  if (it.opts._errorDataPathProperty) {\n                    out += 'is a required property';\n                  } else {\n                    out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              $errSchemaPath = $currErrSchemaPath;\n              it.errorPath = $currentErrorPath;\n              out += ' } else { ';\n            } else {\n              if ($breakOnError) {\n                out += ' if ( ' + ($useData) + ' === undefined ';\n                if ($ownProperties) {\n                  out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ') { ' + ($nextValid) + ' = true; } else { ';\n              } else {\n                out += ' if (' + ($useData) + ' !== undefined ';\n                if ($ownProperties) {\n                  out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ' ) { ';\n              }\n            }\n            out += ' ' + ($code) + ' } ';\n          }\n        }\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($pPropertyKeys.length) {\n    var arr4 = $pPropertyKeys;\n    if (arr4) {\n      var $pProperty, i4 = -1,\n        l4 = arr4.length - 1;\n      while (i4 < l4) {\n        $pProperty = arr4[i4 += 1];\n        var $sch = $pProperties[$pProperty];\n        if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n          $it.schema = $sch;\n          $it.schemaPath = it.schemaPath + '.patternProperties' + it.util.getProperty($pProperty);\n          $it.errSchemaPath = it.errSchemaPath + '/patternProperties/' + it.util.escapeFragment($pProperty);\n          if ($ownProperties) {\n            out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n          } else {\n            out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n          }\n          out += ' if (' + (it.usePattern($pProperty)) + '.test(' + ($key) + ')) { ';\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n          out += ' } ';\n          if ($breakOnError) {\n            out += ' else ' + ($nextValid) + ' = true; ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_propertyNames(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  out += 'var ' + ($errs) + ' = errors;';\n  if ((it.opts.strictKeywords ? (typeof $schema == 'object' && Object.keys($schema).length > 0) || $schema === false : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    var $key = 'key' + $lvl,\n      $idx = 'idx' + $lvl,\n      $i = 'i' + $lvl,\n      $invalidName = '\\' + ' + $key + ' + \\'',\n      $dataNxt = $it.dataLevel = it.dataLevel + 1,\n      $nextData = 'data' + $dataNxt,\n      $dataProperties = 'dataProperties' + $lvl,\n      $ownProperties = it.opts.ownProperties,\n      $currentBaseId = it.baseId;\n    if ($ownProperties) {\n      out += ' var ' + ($dataProperties) + ' = undefined; ';\n    }\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    out += ' var startErrs' + ($lvl) + ' = errors; ';\n    var $passData = $key;\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (!' + ($nextValid) + ') { for (var ' + ($i) + '=startErrs' + ($lvl) + '; ' + ($i) + '<errors; ' + ($i) + '++) { vErrors[' + ($i) + '].propertyName = ' + ($key) + '; }   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('propertyNames') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { propertyName: \\'' + ($invalidName) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'property name \\\\\\'' + ($invalidName) + '\\\\\\' is invalid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    if ($breakOnError) {\n      out += ' break; ';\n    }\n    out += ' } }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_required(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    if ($schema.length < it.opts.loopRequired && it.schema.properties && Object.keys(it.schema.properties).length) {\n      var $required = [];\n      var arr1 = $schema;\n      if (arr1) {\n        var $property, i1 = -1,\n          l1 = arr1.length - 1;\n        while (i1 < l1) {\n          $property = arr1[i1 += 1];\n          var $propertySch = it.schema.properties[$property];\n          if (!($propertySch && (it.opts.strictKeywords ? (typeof $propertySch == 'object' && Object.keys($propertySch).length > 0) || $propertySch === false : it.util.schemaHasRules($propertySch, it.RULES.all)))) {\n            $required[$required.length] = $property;\n          }\n        }\n      }\n    } else {\n      var $required = $schema;\n    }\n  }\n  if ($isData || $required.length) {\n    var $currentErrorPath = it.errorPath,\n      $loopRequired = $isData || $required.length >= it.opts.loopRequired,\n      $ownProperties = it.opts.ownProperties;\n    if ($breakOnError) {\n      out += ' var missing' + ($lvl) + '; ';\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        out += ' var ' + ($valid) + ' = true; ';\n        if ($isData) {\n          out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { ' + ($valid) + ' = ' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] !== undefined ';\n        if ($ownProperties) {\n          out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += '; if (!' + ($valid) + ') break; } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n        out += '  if (!' + ($valid) + ') {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      } else {\n        out += ' if ( ';\n        var arr2 = $required;\n        if (arr2) {\n          var $propertyKey, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $propertyKey = arr2[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ') {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      }\n    } else {\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        if ($isData) {\n          out += ' if (' + ($vSchema) + ' && !Array.isArray(' + ($vSchema) + ')) {  var err =   '; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is a required property';\n              } else {\n                out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (' + ($vSchema) + ' !== undefined) { ';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { if (' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] === undefined ';\n        if ($ownProperties) {\n          out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += ') {  var err =   '; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n      } else {\n        var arr3 = $required;\n        if (arr3) {\n          var $propertyKey, i3 = -1,\n            l3 = arr3.length - 1;\n          while (i3 < l3) {\n            $propertyKey = arr3[i3 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'';\n                if (it.opts._errorDataPathProperty) {\n                  out += 'is a required property';\n                } else {\n                  out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                }\n                out += '\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n    }\n    it.errorPath = $currentErrorPath;\n  } else if ($breakOnError) {\n    out += ' if (true) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_uniqueItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (($schema || $isData) && it.opts.uniqueItems !== false) {\n    if ($isData) {\n      out += ' var ' + ($valid) + '; if (' + ($schemaValue) + ' === false || ' + ($schemaValue) + ' === undefined) ' + ($valid) + ' = true; else if (typeof ' + ($schemaValue) + ' != \\'boolean\\') ' + ($valid) + ' = false; else { ';\n    }\n    out += ' var i = ' + ($data) + '.length , ' + ($valid) + ' = true , j; if (i > 1) { ';\n    var $itemType = it.schema.items && it.schema.items.type,\n      $typeIsArray = Array.isArray($itemType);\n    if (!$itemType || $itemType == 'object' || $itemType == 'array' || ($typeIsArray && ($itemType.indexOf('object') >= 0 || $itemType.indexOf('array') >= 0))) {\n      out += ' outer: for (;i--;) { for (j = i; j--;) { if (equal(' + ($data) + '[i], ' + ($data) + '[j])) { ' + ($valid) + ' = false; break outer; } } } ';\n    } else {\n      out += ' var itemIndices = {}, item; for (;i--;) { var item = ' + ($data) + '[i]; ';\n      var $method = 'checkDataType' + ($typeIsArray ? 's' : '');\n      out += ' if (' + (it.util[$method]($itemType, 'item', it.opts.strictNumbers, true)) + ') continue; ';\n      if ($typeIsArray) {\n        out += ' if (typeof item == \\'string\\') item = \\'\"\\' + item; ';\n      }\n      out += ' if (typeof itemIndices[item] == \\'number\\') { ' + ($valid) + ' = false; j = itemIndices[item]; break; } itemIndices[item] = i; } ';\n    }\n    out += ' } ';\n    if ($isData) {\n      out += '  }  ';\n    }\n    out += ' if (!' + ($valid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('uniqueItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { i: i, j: j } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT have duplicate items (items ## \\' + j + \\' and \\' + i + \\' are identical)\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema:  ';\n        if ($isData) {\n          out += 'validate.schema' + ($schemaPath);\n        } else {\n          out += '' + ($schema);\n        }\n        out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\n\nvar KEYWORDS = [\n  'multipleOf',\n  'maximum',\n  'exclusiveMaximum',\n  'minimum',\n  'exclusiveMinimum',\n  'maxLength',\n  'minLength',\n  'pattern',\n  'additionalItems',\n  'maxItems',\n  'minItems',\n  'uniqueItems',\n  'maxProperties',\n  'minProperties',\n  'required',\n  'additionalProperties',\n  'enum',\n  'format',\n  'const'\n];\n\nmodule.exports = function (metaSchema, keywordsJsonPointers) {\n  for (var i=0; i<keywordsJsonPointers.length; i++) {\n    metaSchema = JSON.parse(JSON.stringify(metaSchema));\n    var segments = keywordsJsonPointers[i].split('/');\n    var keywords = metaSchema;\n    var j;\n    for (j=1; j<segments.length; j++)\n      keywords = keywords[segments[j]];\n\n    for (j=0; j<KEYWORDS.length; j++) {\n      var key = KEYWORDS[j];\n      var schema = keywords[key];\n      if (schema) {\n        keywords[key] = {\n          anyOf: [\n            schema,\n            { $ref: 'https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n    }\n  }\n\n  return metaSchema;\n};\n","'use strict';\n\nvar MissingRefError = require('./error_classes').MissingRef;\n\nmodule.exports = compileAsync;\n\n\n/**\n * Creates validating function for passed schema with asynchronous loading of missing schemas.\n * `loadSchema` option should be a function that accepts schema uri and returns promise that resolves with the schema.\n * @this  Ajv\n * @param {Object}   schema schema object\n * @param {Boolean}  meta optional true to compile meta-schema; this parameter can be skipped\n * @param {Function} callback an optional node-style callback, it is called with 2 parameters: error (or null) and validating function.\n * @return {Promise} promise that resolves with a validating function.\n */\nfunction compileAsync(schema, meta, callback) {\n  /* eslint no-shadow: 0 */\n  /* global Promise */\n  /* jshint validthis: true */\n  var self = this;\n  if (typeof this._opts.loadSchema != 'function')\n    throw new Error('options.loadSchema should be a function');\n\n  if (typeof meta == 'function') {\n    callback = meta;\n    meta = undefined;\n  }\n\n  var p = loadMetaSchemaOf(schema).then(function () {\n    var schemaObj = self._addSchema(schema, undefined, meta);\n    return schemaObj.validate || _compileAsync(schemaObj);\n  });\n\n  if (callback) {\n    p.then(\n      function(v) { callback(null, v); },\n      callback\n    );\n  }\n\n  return p;\n\n\n  function loadMetaSchemaOf(sch) {\n    var $schema = sch.$schema;\n    return $schema && !self.getSchema($schema)\n            ? compileAsync.call(self, { $ref: $schema }, true)\n            : Promise.resolve();\n  }\n\n\n  function _compileAsync(schemaObj) {\n    try { return self._compile(schemaObj); }\n    catch(e) {\n      if (e instanceof MissingRefError) return loadMissingSchema(e);\n      throw e;\n    }\n\n\n    function loadMissingSchema(e) {\n      var ref = e.missingSchema;\n      if (added(ref)) throw new Error('Schema ' + ref + ' is loaded but ' + e.missingRef + ' cannot be resolved');\n\n      var schemaPromise = self._loadingSchemas[ref];\n      if (!schemaPromise) {\n        schemaPromise = self._loadingSchemas[ref] = self._opts.loadSchema(ref);\n        schemaPromise.then(removePromise, removePromise);\n      }\n\n      return schemaPromise.then(function (sch) {\n        if (!added(ref)) {\n          return loadMetaSchemaOf(sch).then(function () {\n            if (!added(ref)) self.addSchema(sch, ref, undefined, meta);\n          });\n        }\n      }).then(function() {\n        return _compileAsync(schemaObj);\n      });\n\n      function removePromise() {\n        delete self._loadingSchemas[ref];\n      }\n\n      function added(ref) {\n        return self._refs[ref] || self._schemas[ref];\n      }\n    }\n  }\n}\n","'use strict';\n\nvar IDENTIFIER = /^[a-z_$][a-z0-9_$-]*$/i;\nvar customRuleCode = require('./dotjs/custom');\nvar definitionSchema = require('./definition_schema');\n\nmodule.exports = {\n  add: addKeyword,\n  get: getKeyword,\n  remove: removeKeyword,\n  validate: validateKeyword\n};\n\n\n/**\n * Define custom keyword\n * @this  Ajv\n * @param {String} keyword custom keyword, should be unique (including different from all standard, custom and macro keywords).\n * @param {Object} definition keyword definition object with properties `type` (type(s) which the keyword applies to), `validate` or `compile`.\n * @return {Ajv} this for method chaining\n */\nfunction addKeyword(keyword, definition) {\n  /* jshint validthis: true */\n  /* eslint no-shadow: 0 */\n  var RULES = this.RULES;\n  if (RULES.keywords[keyword])\n    throw new Error('Keyword ' + keyword + ' is already defined');\n\n  if (!IDENTIFIER.test(keyword))\n    throw new Error('Keyword ' + keyword + ' is not a valid identifier');\n\n  if (definition) {\n    this.validateKeyword(definition, true);\n\n    var dataType = definition.type;\n    if (Array.isArray(dataType)) {\n      for (var i=0; i<dataType.length; i++)\n        _addRule(keyword, dataType[i], definition);\n    } else {\n      _addRule(keyword, dataType, definition);\n    }\n\n    var metaSchema = definition.metaSchema;\n    if (metaSchema) {\n      if (definition.$data && this._opts.$data) {\n        metaSchema = {\n          anyOf: [\n            metaSchema,\n            { '$ref': 'https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n      definition.validateSchema = this.compile(metaSchema, true);\n    }\n  }\n\n  RULES.keywords[keyword] = RULES.all[keyword] = true;\n\n\n  function _addRule(keyword, dataType, definition) {\n    var ruleGroup;\n    for (var i=0; i<RULES.length; i++) {\n      var rg = RULES[i];\n      if (rg.type == dataType) {\n        ruleGroup = rg;\n        break;\n      }\n    }\n\n    if (!ruleGroup) {\n      ruleGroup = { type: dataType, rules: [] };\n      RULES.push(ruleGroup);\n    }\n\n    var rule = {\n      keyword: keyword,\n      definition: definition,\n      custom: true,\n      code: customRuleCode,\n      implements: definition.implements\n    };\n    ruleGroup.rules.push(rule);\n    RULES.custom[keyword] = rule;\n  }\n\n  return this;\n}\n\n\n/**\n * Get keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Object|Boolean} custom keyword definition, `true` if it is a predefined keyword, `false` otherwise.\n */\nfunction getKeyword(keyword) {\n  /* jshint validthis: true */\n  var rule = this.RULES.custom[keyword];\n  return rule ? rule.definition : this.RULES.keywords[keyword] || false;\n}\n\n\n/**\n * Remove keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Ajv} this for method chaining\n */\nfunction removeKeyword(keyword) {\n  /* jshint validthis: true */\n  var RULES = this.RULES;\n  delete RULES.keywords[keyword];\n  delete RULES.all[keyword];\n  delete RULES.custom[keyword];\n  for (var i=0; i<RULES.length; i++) {\n    var rules = RULES[i].rules;\n    for (var j=0; j<rules.length; j++) {\n      if (rules[j].keyword == keyword) {\n        rules.splice(j, 1);\n        break;\n      }\n    }\n  }\n  return this;\n}\n\n\n/**\n * Validate keyword definition\n * @this  Ajv\n * @param {Object} definition keyword definition object.\n * @param {Boolean} throwError true to throw exception if definition is invalid\n * @return {boolean} validation result\n */\nfunction validateKeyword(definition, throwError) {\n  validateKeyword.errors = null;\n  var v = this._validateKeyword = this._validateKeyword\n                                  || this.compile(definitionSchema, true);\n\n  if (v(definition)) return true;\n  validateKeyword.errors = v.errors;\n  if (throwError)\n    throw new Error('custom keyword definition is invalid: '  + this.errorsText(v.errors));\n  else\n    return false;\n}\n","'use strict';\nmodule.exports = function generate_custom(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $rule = this,\n    $definition = 'definition' + $lvl,\n    $rDef = $rule.definition,\n    $closingBraces = '';\n  var $compile, $inline, $macro, $ruleValidate, $validateCode;\n  if ($isData && $rDef.$data) {\n    $validateCode = 'keywordValidate' + $lvl;\n    var $validateSchema = $rDef.validateSchema;\n    out += ' var ' + ($definition) + ' = RULES.custom[\\'' + ($keyword) + '\\'].definition; var ' + ($validateCode) + ' = ' + ($definition) + '.validate;';\n  } else {\n    $ruleValidate = it.useCustomRule($rule, $schema, it.schema, it);\n    if (!$ruleValidate) return;\n    $schemaValue = 'validate.schema' + $schemaPath;\n    $validateCode = $ruleValidate.code;\n    $compile = $rDef.compile;\n    $inline = $rDef.inline;\n    $macro = $rDef.macro;\n  }\n  var $ruleErrs = $validateCode + '.errors',\n    $i = 'i' + $lvl,\n    $ruleErr = 'ruleErr' + $lvl,\n    $asyncKeyword = $rDef.async;\n  if ($asyncKeyword && !it.async) throw new Error('async keyword in sync schema');\n  if (!($inline || $macro)) {\n    out += '' + ($ruleErrs) + ' = null;';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($isData && $rDef.$data) {\n    $closingBraces += '}';\n    out += ' if (' + ($schemaValue) + ' === undefined) { ' + ($valid) + ' = true; } else { ';\n    if ($validateSchema) {\n      $closingBraces += '}';\n      out += ' ' + ($valid) + ' = ' + ($definition) + '.validateSchema(' + ($schemaValue) + '); if (' + ($valid) + ') { ';\n    }\n  }\n  if ($inline) {\n    if ($rDef.statements) {\n      out += ' ' + ($ruleValidate.validate) + ' ';\n    } else {\n      out += ' ' + ($valid) + ' = ' + ($ruleValidate.validate) + '; ';\n    }\n  } else if ($macro) {\n    var $it = it.util.copy(it);\n    var $closingBraces = '';\n    $it.level++;\n    var $nextValid = 'valid' + $it.level;\n    $it.schema = $ruleValidate.validate;\n    $it.schemaPath = '';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it).replace(/validate\\.schema/g, $validateCode);\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($code);\n  } else {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    out += '  ' + ($validateCode) + '.call( ';\n    if (it.opts.passContext) {\n      out += 'this';\n    } else {\n      out += 'self';\n    }\n    if ($compile || $rDef.schema === false) {\n      out += ' , ' + ($data) + ' ';\n    } else {\n      out += ' , ' + ($schemaValue) + ' , ' + ($data) + ' , validate.schema' + (it.schemaPath) + ' ';\n    }\n    out += ' , (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ' , rootData )  ';\n    var def_callRuleValidate = out;\n    out = $$outStack.pop();\n    if ($rDef.errors === false) {\n      out += ' ' + ($valid) + ' = ';\n      if ($asyncKeyword) {\n        out += 'await ';\n      }\n      out += '' + (def_callRuleValidate) + '; ';\n    } else {\n      if ($asyncKeyword) {\n        $ruleErrs = 'customErrors' + $lvl;\n        out += ' var ' + ($ruleErrs) + ' = null; try { ' + ($valid) + ' = await ' + (def_callRuleValidate) + '; } catch (e) { ' + ($valid) + ' = false; if (e instanceof ValidationError) ' + ($ruleErrs) + ' = e.errors; else throw e; } ';\n      } else {\n        out += ' ' + ($ruleErrs) + ' = null; ' + ($valid) + ' = ' + (def_callRuleValidate) + '; ';\n      }\n    }\n  }\n  if ($rDef.modifying) {\n    out += ' if (' + ($parentData) + ') ' + ($data) + ' = ' + ($parentData) + '[' + ($parentDataProperty) + '];';\n  }\n  out += '' + ($closingBraces);\n  if ($rDef.valid) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  } else {\n    out += ' if ( ';\n    if ($rDef.valid === undefined) {\n      out += ' !';\n      if ($macro) {\n        out += '' + ($nextValid);\n      } else {\n        out += '' + ($valid);\n      }\n    } else {\n      out += ' ' + (!$rDef.valid) + ' ';\n    }\n    out += ') { ';\n    $errorKeyword = $rule.keyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    var def_customError = out;\n    out = $$outStack.pop();\n    if ($inline) {\n      if ($rDef.errors) {\n        if ($rDef.errors != 'full') {\n          out += '  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } ';\n        }\n      } else {\n        if ($rDef.errors === false) {\n          out += ' ' + (def_customError) + ' ';\n        } else {\n          out += ' if (' + ($errs) + ' == errors) { ' + (def_customError) + ' } else {  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } } ';\n        }\n      }\n    } else if ($macro) {\n      out += '   var err =   '; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError(vErrors); ';\n        } else {\n          out += ' validate.errors = vErrors; return false; ';\n        }\n      }\n    } else {\n      if ($rDef.errors === false) {\n        out += ' ' + (def_customError) + ' ';\n      } else {\n        out += ' if (Array.isArray(' + ($ruleErrs) + ')) { if (vErrors === null) vErrors = ' + ($ruleErrs) + '; else vErrors = vErrors.concat(' + ($ruleErrs) + '); errors = vErrors.length;  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + ';  ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\";  ';\n        if (it.opts.verbose) {\n          out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n        }\n        out += ' } } else { ' + (def_customError) + ' } ';\n      }\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  }\n  return out;\n}\n","'use strict';\n\nvar metaSchema = require('./refs/json-schema-draft-07.json');\n\nmodule.exports = {\n  $id: 'https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js',\n  definitions: {\n    simpleTypes: metaSchema.definitions.simpleTypes\n  },\n  type: 'object',\n  dependencies: {\n    schema: ['validate'],\n    $data: ['validate'],\n    statements: ['inline'],\n    valid: {not: {required: ['macro']}}\n  },\n  properties: {\n    type: metaSchema.properties.type,\n    schema: {type: 'boolean'},\n    statements: {type: 'boolean'},\n    dependencies: {\n      type: 'array',\n      items: {type: 'string'}\n    },\n    metaSchema: {type: 'object'},\n    modifying: {type: 'boolean'},\n    valid: {type: 'boolean'},\n    $data: {type: 'boolean'},\n    async: {type: 'boolean'},\n    errors: {\n      anyOf: [\n        {type: 'boolean'},\n        {const: 'full'}\n      ]\n    }\n  }\n};\n","{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$id\": \"http://json-schema.org/draft-07/schema#\",\n    \"title\": \"Core schema meta-schema\",\n    \"definitions\": {\n        \"schemaArray\": {\n            \"type\": \"array\",\n            \"minItems\": 1,\n            \"items\": { \"$ref\": \"#\" }\n        },\n        \"nonNegativeInteger\": {\n            \"type\": \"integer\",\n            \"minimum\": 0\n        },\n        \"nonNegativeIntegerDefault0\": {\n            \"allOf\": [\n                { \"$ref\": \"#/definitions/nonNegativeInteger\" },\n                { \"default\": 0 }\n            ]\n        },\n        \"simpleTypes\": {\n            \"enum\": [\n                \"array\",\n                \"boolean\",\n                \"integer\",\n                \"null\",\n                \"number\",\n                \"object\",\n                \"string\"\n            ]\n        },\n        \"stringArray\": {\n            \"type\": \"array\",\n            \"items\": { \"type\": \"string\" },\n            \"uniqueItems\": true,\n            \"default\": []\n        }\n    },\n    \"type\": [\"object\", \"boolean\"],\n    \"properties\": {\n        \"$id\": {\n            \"type\": \"string\",\n            \"format\": \"uri-reference\"\n        },\n        \"$schema\": {\n            \"type\": \"string\",\n            \"format\": \"uri\"\n        },\n        \"$ref\": {\n            \"type\": \"string\",\n            \"format\": \"uri-reference\"\n        },\n        \"$comment\": {\n            \"type\": \"string\"\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"description\": {\n            \"type\": \"string\"\n        },\n        \"default\": true,\n        \"readOnly\": {\n            \"type\": \"boolean\",\n            \"default\": false\n        },\n        \"examples\": {\n            \"type\": \"array\",\n            \"items\": true\n        },\n        \"multipleOf\": {\n            \"type\": \"number\",\n            \"exclusiveMinimum\": 0\n        },\n        \"maximum\": {\n            \"type\": \"number\"\n        },\n        \"exclusiveMaximum\": {\n            \"type\": \"number\"\n        },\n        \"minimum\": {\n            \"type\": \"number\"\n        },\n        \"exclusiveMinimum\": {\n            \"type\": \"number\"\n        },\n        \"maxLength\": { \"$ref\": \"#/definitions/nonNegativeInteger\" },\n        \"minLength\": { \"$ref\": \"#/definitions/nonNegativeIntegerDefault0\" },\n        \"pattern\": {\n            \"type\": \"string\",\n            \"format\": \"regex\"\n        },\n        \"additionalItems\": { \"$ref\": \"#\" },\n        \"items\": {\n            \"anyOf\": [\n                { \"$ref\": \"#\" },\n                { \"$ref\": \"#/definitions/schemaArray\" }\n            ],\n            \"default\": true\n        },\n        \"maxItems\": { \"$ref\": \"#/definitions/nonNegativeInteger\" },\n        \"minItems\": { \"$ref\": \"#/definitions/nonNegativeIntegerDefault0\" },\n        \"uniqueItems\": {\n            \"type\": \"boolean\",\n            \"default\": false\n        },\n        \"contains\": { \"$ref\": \"#\" },\n        \"maxProperties\": { \"$ref\": \"#/definitions/nonNegativeInteger\" },\n        \"minProperties\": { \"$ref\": \"#/definitions/nonNegativeIntegerDefault0\" },\n        \"required\": { \"$ref\": \"#/definitions/stringArray\" },\n        \"additionalProperties\": { \"$ref\": \"#\" },\n        \"definitions\": {\n            \"type\": \"object\",\n            \"additionalProperties\": { \"$ref\": \"#\" },\n            \"default\": {}\n        },\n        \"properties\": {\n            \"type\": \"object\",\n            \"additionalProperties\": { \"$ref\": \"#\" },\n            \"default\": {}\n        },\n        \"patternProperties\": {\n            \"type\": \"object\",\n            \"additionalProperties\": { \"$ref\": \"#\" },\n            \"propertyNames\": { \"format\": \"regex\" },\n            \"default\": {}\n        },\n        \"dependencies\": {\n            \"type\": \"object\",\n            \"additionalProperties\": {\n                \"anyOf\": [\n                    { \"$ref\": \"#\" },\n                    { \"$ref\": \"#/definitions/stringArray\" }\n                ]\n            }\n        },\n        \"propertyNames\": { \"$ref\": \"#\" },\n        \"const\": true,\n        \"enum\": {\n            \"type\": \"array\",\n            \"items\": true,\n            \"minItems\": 1,\n            \"uniqueItems\": true\n        },\n        \"type\": {\n            \"anyOf\": [\n                { \"$ref\": \"#/definitions/simpleTypes\" },\n                {\n                    \"type\": \"array\",\n                    \"items\": { \"$ref\": \"#/definitions/simpleTypes\" },\n                    \"minItems\": 1,\n                    \"uniqueItems\": true\n                }\n            ]\n        },\n        \"format\": { \"type\": \"string\" },\n        \"contentMediaType\": { \"type\": \"string\" },\n        \"contentEncoding\": { \"type\": \"string\" },\n        \"if\": {\"$ref\": \"#\"},\n        \"then\": {\"$ref\": \"#\"},\n        \"else\": {\"$ref\": \"#\"},\n        \"allOf\": { \"$ref\": \"#/definitions/schemaArray\" },\n        \"anyOf\": { \"$ref\": \"#/definitions/schemaArray\" },\n        \"oneOf\": { \"$ref\": \"#/definitions/schemaArray\" },\n        \"not\": { \"$ref\": \"#\" }\n    },\n    \"default\": true\n}\n","{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"$id\": \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n    \"description\": \"Meta-schema for $data reference (JSON Schema extension proposal)\",\n    \"type\": \"object\",\n    \"required\": [ \"$data\" ],\n    \"properties\": {\n        \"$data\": {\n            \"type\": \"string\",\n            \"anyOf\": [\n                { \"format\": \"relative-json-pointer\" }, \n                { \"format\": \"json-pointer\" }\n            ]\n        }\n    },\n    \"additionalProperties\": false\n}\n","/**!\n * Sortable 1.14.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar version = \"1.14.0\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !! /*@__PURE__*/navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\n * Returns the \"bounding client rect\" of given element\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n * @param  {[HTMLElement]} container              The parent the element will be placed in\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\n * Checks if a side of an element is scrolled past a side of its parents\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n * and non-draggable elements\n * @param  {HTMLElement} el       The parent element\n * @param  {Number} childNum      The index of the child\n * @param  {Object} options       Parent Sortable's options\n * @return {HTMLElement}          The child at index childNum, or null if not found\n */\n\n\nfunction getChild(el, childNum, options, includeDragEl) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && (includeDragEl || children[i] !== Sortable.dragged) && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n * @param  {HTMLElement} el       Parent element\n * @param  {selector} selector    Any other elements that should be ignored\n * @return {HTMLElement}          The last child, ignoring ghostEl\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\n * Returns the index of an element within its parent for a selected set of\n * elements\n * @param  {HTMLElement} el\n * @param  {selector} selector\n * @return {number}\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n * The value is returned in real pixels.\n * @param  {HTMLElement} el\n * @return {Array}             Offsets in the format of [left, top]\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\n * Returns the index of the object within the given array\n * @param  {Array} arr   Array that may or may not hold the object\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n * @return {Number}      The index of the object in the array, or -1\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread2({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread2(_objectSpread2({}, extraEventProperties), PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar _excluded = [\"evt\"];\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, _excluded);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread2({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread2({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n * @param  {Number} x      X position\n * @param  {Number} y      Y position\n * @return {HTMLElement}   Element of the first found nearest Sortable\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    var threshold = sortable[expando].options.emptyInsertThreshold;\n    if (!threshold || lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\n * @class  Sortable\n * @param  {HTMLElement}  el\n * @param  {Object}       [options]\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    } // Safari ignores further event handling after mousedown\n\n\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread2({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = parentEl !== rootEl) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // Insert to end of list\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // if there is a last element, it is the target\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          el.appendChild(dragEl);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (elLastChild && _ghostIsFirst(evt, vertical, this)) {\n        // Insert to start of list\n        var firstChild = getChild(el, 0, options, true);\n\n        if (firstChild === dragEl) {\n          return completed(false);\n        }\n\n        target = firstChild;\n        targetRect = getRect(target);\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {\n          capture();\n          el.insertBefore(dragEl, firstChild);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\n   * Serializes the item into an array of string.\n   * @returns {String[]}\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\n   * Sorts the elements according to the array.\n   * @param  {String[]}  order  order of the items\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n\n  /**\n   * Save the current sorting\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n   * @param   {HTMLElement}  el\n   * @param   {String}       [selector]  default: `options.draggable`\n   * @returns {HTMLElement|null}\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\n   * Set/get option\n   * @param   {string} name\n   * @param   {*}      [value]\n   * @returns {*}\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\n   * Destroy\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsFirst(evt, vertical, sortable) {\n  var rect = getRect(getChild(sortable.el, 0, sortable.options, true));\n  var spacer = 10;\n  return vertical ? evt.clientX < rect.left - spacer || evt.clientY < rect.top && evt.clientX < rect.right : evt.clientY < rect.top - spacer || evt.clientY < rect.bottom && evt.clientX < rect.left;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\n * Gets the direction dragEl must be swapped relative to target in order to make it\n * seem that dragEl has been \"inserted\" into that element's position\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n * @return {Number}                   Direction dragEl must be swapped\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\n * Generate id\n * @param   {HTMLElement} el\n * @returns {String}\n * @private\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\n * Get the Sortable instance of an element\n * @param  {HTMLElement} element The element\n * @return {Sortable|undefined}         The instance of Sortable\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\n * Mount a plugin to Sortable\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread2(_objectSpread2({}, Sortable.utils), plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\n * Create sortable instance\n * @param {HTMLElement}  el\n * @param {Object}      [options]\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      forceAutoScrollFallback: false,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || this.options.forceAutoScrollFallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (sortable.options.supportPointer) {\n      on(document, 'pointerup', this._deselectMultiDrag);\n    } else {\n      on(document, 'mouseup', this._deselectMultiDrag);\n      on(document, 'touchend', this._deselectMultiDrag);\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvt: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        folding = false; // Do not \"unfold\" after around dragEl if reverted\n\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvt: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\n       * Selects the provided multi-drag item\n       * @param  {HTMLElement} el    The element to be selected\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\n       * Deselects the provided multi-drag item\n       * @param  {HTMLElement} el    The element to be deselected\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\n * Insert multi-drag clones\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\n * @param  {HTMLElement} rootEl\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };\n","import { h, app } from 'hyperapp';\r\nimport Ajv from \"ajv\";\r\nimport Sortable from 'sortablejs';\r\nimport { createMessages, updateMessages, translate, deepCopy, Message, focusErrorInput, lmove, linsert, lremove, lreplace, findByProp, findIndexByProp, branchNo, tnOnCreate, tnOnRemove, joinSet, mapHash, scrollToTop, sprintf } from './admin_common';\r\n\r\nconst submit = (form, k) => {\r\n  const url = submitUrl.replace('placeholder', form.id)\r\n  jQuery.ajax({\r\n    type: \"post\", \r\n    url: url, \r\n    data: JSON.stringify(form), \r\n    contentType: 'application/json',\r\n    success: function(response) {\r\n      k(response)\r\n    }, \r\n    dataType: 'json'\r\n  });\r\n}\r\n\r\n\r\nconst selectImage = (name, k) => {\r\n  const modal = wp.media({\r\n    title: _T('Select Image'), \r\n    library: {type:'image'}, \r\n    button: {text:_T('OK')}, \r\n    multiple: false\r\n  });\r\n\r\n  modal.on('select', (y) => {\r\n    const image = modal.state().get('selection').first().toJSON();\r\n    k({name, image})\r\n  });\r\n  modal.open()\r\n}\r\n\r\n\r\nconst instantiateSortable = (\r\n    {\r\n      group, \r\n      handle, \r\n      onSortStart, \r\n      onSortEnd, \r\n      ...options \r\n    }\r\n) => {\r\n  var instance = null;\r\n  var marker = null;\r\n  const onStart = (ev) => {\r\n    marker = ev.item.nextElementSibling\r\n    onSortStart({\r\n      id: ev.from.id, \r\n      index: ev.oldIndex\r\n    })\r\n  }\r\n  const onEnd = (ev) => {\r\n    setTimeout(function() {\r\n      ev.from.insertBefore(ev.item, marker)\r\n      marker = null\r\n    }, 0)\r\n    onSortEnd({\r\n      fromId: ev.from.id, \r\n      fromIndex: ev.oldIndex, \r\n      toId: ev.to.id, \r\n      toIndex: ev.newIndex\r\n    })\r\n  }\r\n  const effectiveOptions = {\r\n    ...options, \r\n    group, \r\n    handle, \r\n    onStart, \r\n    onEnd, \r\n    ghostClass: \"wq-is-ghost\", \r\n    animation: 150\r\n  }\r\n  return {\r\n    oncreate: (el) => {\r\n      instance = Sortable.create(el, effectiveOptions)\r\n      //tnOnCreate(el)\r\n    }, \r\n    onremove: null, //tnOnRemove, \r\n    ondestroy: () => {\r\n      if (instance) {\r\n        instance.destroy()\r\n        instance = null\r\n      }\r\n    }\r\n  }\r\n}\r\nconst SortableList = (\r\n    {\r\n      id, \r\n      group, \r\n      handle, \r\n      onSortStart, \r\n      onSortEnd, \r\n      collapsed = false, \r\n      isRoot = false\r\n    }, children) => {\r\n  const {oncreate, onremove, ondestroy} = instantiateSortable({group, handle, onSortStart, onSortEnd}) \r\n  const style = isRoot ? {} : {'max-height':children.length*40+\"px\"}\r\n  return (\r\n    <div class={`wq-SortableList ${collapsed ? 'wq-is-collapsed' : ''} ${isRoot ? 'wq-is-root' : ''}`} id={id} key={id} style={style} oncreate={oncreate} ondestroy={ondestroy}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Image = (\r\n    {\r\n      src, \r\n      scaling = 'center', \r\n      alt = ''\r\n    }) => {\r\n  const style = {backgroundImage: \"url(\"+src+\")\"}\r\n  return (\r\n    <div class={`wq-Image wq-scaling-${scaling}`} style={style}>\r\n      <img src={src} alt={alt} class=\"wq--img\" />\r\n    </div> \r\n  )\r\n}\r\n\r\nconst ImageInput = (\r\n    {\r\n      name, \r\n      src, \r\n      onimageselect\r\n    }) => {\r\n  const open = () => {\r\n    selectImage(name, onimageselect)\r\n  }\r\n  const clear = () => {\r\n    onimageselect({name, image:null})\r\n  }\r\n  return (\r\n    <div class=\"wq-ImageInput\">\r\n      <Image src={src || noimageUrl} />\r\n      <button type=\"button\" class=\"button\" onclick={open}>{_T('Open Media')}</button>\r\n      <button type=\"button\" class=\"button\" onclick={clear} disabled={!src}>{_T('Clear')}</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Control = (\r\n    {\r\n      label, \r\n      required, \r\n      message, \r\n      key = null, \r\n      note\r\n    }, children) => {\r\n  return (\r\n    <tr key={key}>\r\n      <th scope=\"row\">\r\n        <label>{label}</label>\r\n        <Message>{message}</Message>\r\n      </th>\r\n      <td>\r\n        {children}\r\n        <p class=\"description\">{note}</p>\r\n      </td>\r\n    </tr>\r\n  )\r\n}\r\n\r\nconst IconButton = (\r\n    {\r\n      icon, \r\n      title, \r\n      onclick, \r\n      appearance = 'normal',  // danger, primary\r\n      disabled = false, \r\n      xclass = '', \r\n      ...props\r\n    }) => {\r\n  return (\r\n    <button type=\"button\" class={`wq-IconButton wq-appearance-${appearance} ${xclass}`} onclick={onclick} disabled={disabled} title={title} {...props}>\r\n      <i class=\"material-icons\">{icon}</i>\r\n    </button>\r\n  )\r\n}\r\n\r\n// general tab\r\nconst general = {\r\n  createInitialState: (form) => {\r\n    const general = {title: form.title, navigator: form.navigator, doConfirm: form.doConfirm, thanksUrl: form.thanksUrl}\r\n    return {\r\n      formId: form.id, \r\n      general, \r\n      form: general, \r\n      messages: {}\r\n    }\r\n  }, \r\n  actions: {\r\n    onchange: (ev) => ({form, ...rest}, actions) => {\r\n      const doConfirm = ev.currentTarget.value == \"true\"\r\n      return {...rest, form:{...form, doConfirm}}\r\n    }, \r\n    onenumchange: (ev) => ({form, ...rest}, actions) => {\r\n      const name = ev.currentTarget.name\r\n      const val = ev.currentTarget.value\r\n      return {...rest, form:{...form, [name]:val}}\r\n    }, \r\n    oninput: (ev) => ({form, ...rest}, actions) => {\r\n      return {form:{...form, [ev.currentTarget.name]:ev.currentTarget.value}, ...rest}\r\n    }, \r\n    onblur: (ev) => ({messages, ...rest}, actions) => {\r\n      const copy = deepCopy(rest.form)\r\n      const path = '.'+ev.currentTarget.name\r\n      const v = validate.General\r\n      v(copy)\r\n      messages = updateMessages(messages, path, v.errors)\r\n      return {messages, ...rest}\r\n    }, \r\n    onSettle: (ev) => ({messages, ...rest}, actions) => {\r\n      const copy = deepCopy(rest.form)\r\n      const v = validate.General\r\n      if (! v(copy)) {\r\n        messages = createMessages(v.errors)\r\n        focusErrorInput(v.errors)\r\n        return {...rest, messages}\r\n      }\r\n      window.requestAnimationFrame(() => {\r\n        allActions.showNotice('Changes committed. Be sure to save data before moving to another page.')\r\n      })\r\n      return {...rest, messages:{}, general:copy}\r\n    }, \r\n    onDismiss: (ev) => (state, actions) => {\r\n      return {...state, messages:{}, form:state.general}\r\n    }, \r\n    updateId: (id) => (state, actions) => {\r\n      return {...state, formId:id}\r\n    }\r\n  }, \r\n  view: (state, actions) => {\r\n    return (\r\n      <form novalidate key=\"form-general\" id=\"form-general\">\r\n        <table class=\"form-table\">\r\n          <tbody>\r\n            {state.formId > 0 ? (\r\n              <Control label={_T('Shortcode')} note={_T('Embed the shortcode above in a post or a page to display this.')}>\r\n                <input type=\"text\" readonly value={`[aforms-eats-form id=\"${state.formId}\"]`} class=\"large-text\" />\r\n              </Control>\r\n            ) : null}\r\n            <Control label={_T('Title')} note={_T('The name for you to distinguish the form. The end-users don\\'t see this.')} message={_T(state.messages['.title'])}>\r\n              <input type=\"text\" name=\"title\" value={\"\"+state.form.title} class=\"regular-text\" oninput={actions.oninput} onblur={actions.onblur} />\r\n            </Control>\r\n            <Control label={_T('Display Confirmation Screen')} message={_T(state.messages['.doConfirm'])}>\r\n              <fieldset>\r\n                <label><input type=\"radio\" name=\"doConfirm\" value=\"true\" checked={state.form.doConfirm} onchange={actions.onchange} /><span>{_T('Display')}</span></label>\r\n                <label><input type=\"radio\" name=\"doConfirm\" value=\"false\" checked={!state.form.doConfirm} onchange={actions.onchange} /><span>{_T('Don\\'t Display')}</span></label>\r\n              </fieldset>\r\n            </Control>\r\n            <Control label={_T('Thanks Url')} message={_T(state.messages['.thanksUrl'])} note={_T('If you want to display another page after submitting the form, enter the URL.')}>\r\n              <input type=\"text\" name=\"thanksUrl\" value={state.form.thanksUrl} class=\"large-text\" oninput={actions.oninput} onblur={actions.onblur} />\r\n            </Control>\r\n          </tbody>\r\n        </table>\r\n        <p class=\"submit\">\r\n          <button type=\"button\" class=\"button button-primary\" onclick={actions.onSettle}>{_T('Commit Changes')}</button>\r\n          <button type=\"button\" class=\"button\" onclick={actions.onDismiss}>{_T('Discard Changes')}</button>\r\n        </p>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nconst priceCheckerEnum = [{v:'equal',l:'Equal'},{v:'notEqual',l:'Not Equal'},{v:'greaterThan',l:'Greater Than'},{v:'greaterEqual',l:'Greater Equal'},{v:'lessThan',l:'Less Than'},{v:'lessEqual',l:'Less Equal'}]\r\n\r\nconst listQuantities = (id, items) => {\r\n  const idx = findIndexByProp(\"id\", id, items)\r\n  return items.slice(0, idx).filter((item) => item.type == \"Quantity\")\r\n}\r\n\r\n// Details tab\r\nconst details = {\r\n  createInitialState: (form) => {\r\n    const productIds = (cur, item) => {\r\n      if (item.type == \"Group\") {\r\n        return [...cur, ...item.products.map(p => p.id)]\r\n      } else {\r\n        return cur\r\n      }\r\n    }\r\n    const collapsing = form.detailItems.reduce((cur, item) => {\r\n      if (item.type == 'Group') {\r\n        cur[item.id] = true\r\n        return cur\r\n      } else {\r\n        return cur\r\n      }\r\n    }, {})\r\n    return {\r\n      items: form.detailItems, \r\n      path: [], \r\n      form: null, \r\n      messages: {}, \r\n      sorting: null, \r\n      collapsing, \r\n      nextItemId: Math.max(0, ...form.detailItems.map(x => x.id)) + 1, \r\n      nextProductId: Math.max(0, ...form.detailItems.reduce(productIds, [])) + 1, \r\n      spShowNav: true, \r\n      popping: false\r\n    }\r\n  }, \r\n  actions: {\r\n    onShowNav: (ev) => (state, actions) => {\r\n      return {...state, spShowNav:true}\r\n    }, \r\n    onHideNav: (ev) => (state, actions) => {\r\n      return {...state, spShowNav:false}\r\n    }, \r\n    onDuplicate: (ev) => (state, actions) => {\r\n      if (state.form.type != \"Product\") {\r\n        const idx = findIndexByProp(\"id\", state.path[0], state.items)\r\n        const item = deepCopy(state.items[idx])\r\n        let nextItemId = state.nextItemId\r\n        item.id = nextItemId++\r\n        item.name = sprintf(_T('%s\\'s Copy'), item.name)\r\n        let nextProductId = state.nextProductId\r\n        if (state.form.type == \"Group\") {\r\n          item.products.forEach(product => {\r\n            product.id = nextProductId++\r\n          })\r\n        }\r\n        return {...state, nextItemId, nextProductId, items:linsert(state.items, idx + 1, item), form:item, path:[item.id], messages:{}}\r\n      } else { // Product\r\n        const idx0 = findIndexByProp(\"id\", state.path[0], state.items)\r\n        const idx1 = findIndexByProp(\"id\", state.path[1], state.items[idx0].products)\r\n        const product = deepCopy(state.items[idx0].products[idx1])\r\n        let nextProductId = state.nextProductId\r\n        product.id = nextProductId++\r\n        product.name = sprintf(_T('%s\\'s Copy'), product.name)\r\n        const item = {...state.items[idx0], products:linsert(state.items[idx0].products, idx1 + 1, product)}\r\n        return {...state, nextProductId, items:lreplace(state.items, idx0, item), form:product, path:[item.id, product.id], messages:{}}\r\n      }\r\n    }, \r\n    onDelete: (ev) => (state, actions) => {\r\n      if (state.form.type == \"Product\") {\r\n        const idx0 = findIndexByProp(\"id\", state.path[0], state.items)\r\n        const idx1 = findIndexByProp(\"id\", state.path[1], state.items[idx0].products)\r\n        const item = {...state.items[idx0], products:lremove(state.items[idx0].products, idx1)}\r\n        return {...state, items:lreplace(state.items, idx0, item), form:null, path:[], messages:{}}\r\n      } else {\r\n        const idx = findIndexByProp(\"id\", state.path[0], state.items)\r\n        return {...state, items:lremove(state.items, idx), form:null, path:[], messages:{}}\r\n      }\r\n    }, \r\n    onAddAuto: (ev) => (state, actions) => {\r\n      const idx = (state.form) ? findIndexByProp(\"id\", state.path[0], state.items) + 1 : 0\r\n      let nextItemId = state.nextItemId\r\n      const item = {id:nextItemId++, type:\"Auto\", category:\"\", name:_T('New Auto Item'), price:100, taxRate:null, depends:\"\", quantity:-1}\r\n      return {...state, items:linsert(state.items, idx, item), nextItemId, form:item, path:[item.id], messages:{}}\r\n    }, \r\n    onAddGroup: (ev) => (state, actions) => {\r\n      const idx = (state.form) ? findIndexByProp(\"id\", state.path[0], state.items) + 1 : 0\r\n      let nextItemId = state.nextItemId\r\n      const item = {id:nextItemId++, type:\"Group\", image:\"\", name:_T('New Group'), visible:true, note:\"\", products:[]}\r\n      return {...state, items:linsert(state.items, idx, item), nextItemId, form:item, path:[item.id], messages:{}}\r\n    }, \r\n    onAddProduct: (ev) => (state, actions) => {\r\n      const idx0 = findIndexByProp(\"id\", state.path[0], state.items)\r\n      const idx1 = state.path.length == 1 ? 0 : findIndexByProp(\"id\", state.path[1], state.items[idx0].products) + 1\r\n      let nextProductId = state.nextProductId\r\n      const product = {id:nextProductId++, type:\"Product\", image:\"\", name:_T('New Product'), state:'effective', note:\"\", price:100, taxRate:null, ribbons:{}}\r\n      const item = {...state.items[idx0], products:linsert(state.items[idx0].products, idx1, product)}\r\n      return {...state, items:lreplace(state.items, idx0, item), nextProductId, form:product, path:[item.id, product.id], messages:{}}\r\n    }, \r\n    onAddPriceWatcher: (ev) => (state, actions) => {\r\n      const idx = (state.form) ? findIndexByProp(\"id\", state.path[0], state.items) + 1 : 0\r\n      let nextItemId = state.nextItemId\r\n      const item = {id:nextItemId++, type:\"PriceWatcher\", lower:null, lowerIncluded:false, higher:null, higherIncluded:false, labels:\"\"}\r\n      return {...state, items:linsert(state.items, idx, item), nextItemId, form:item, path:[item.id], messages:{}}\r\n    }, \r\n    onAddStop: (ev) => (state, actions) => {\r\n      const idx = (state.form) ? findIndexByProp(\"id\", state.path[0], state.items) + 1 : 0\r\n      let nextItemId = state.nextItemId\r\n      const item = {id:nextItemId++, type:\"Stop\", message:\"Error\", depends:\"\"}\r\n      return {...state, items:linsert(state.items, idx, item), nextItemId, form:item, path:[item.id], messages:{}}\r\n    }, \r\n    onOuterSortStart: ({id:_id, index}) => (state, actions) => {\r\n      return {...state, sorting:\"outer\"}\r\n    }, \r\n    onOuterSortEnd: ({fromId, fromIndex, toId:_toId, toIndex}) => (state, actions) => {\r\n      return {...state, sorting:null, items:lmove(state.items, fromIndex, toIndex)}\r\n    }, \r\n    onInnerSortStart: ({id, index}) => (state, actions) => {\r\n      return {...state, sorting:'inner'}\r\n    }, \r\n    onInnerSortEnd: ({fromId, fromIndex, toId, toIndex}) => (state, actions) => {\r\n      const from = findIndexByProp(\"id\", branchNo(fromId, '-'), state.items)\r\n      const to = findIndexByProp(\"id\", branchNo(toId, '-'), state.items)\r\n      if (from != to) {\r\n        const product = state.items[from].products[fromIndex]\r\n        const fromGroup = {...state.items[from], products:lremove(state.items[from].products, fromIndex)}\r\n        const toGroup = {...state.items[to], products:linsert(state.items[to].products, toIndex, product)}\r\n        return {\r\n          ...state, \r\n          sorting:null, \r\n          items: lreplace(lreplace(state.items, from, fromGroup), to, toGroup)\r\n        }\r\n      } else {\r\n        const group = {...state.items[from], products:lmove(state.items[from].products, fromIndex, toIndex)}\r\n        return {\r\n          ...state, \r\n          sorting:null, \r\n          items: lreplace(state.items, from, group)\r\n        }\r\n      }\r\n    }, \r\n    onOuterSelect: (ev) => (state, actions) => {\r\n      const idx = ev.currentTarget.parentNode.id.split('-')[1]\r\n      const item = state.items[idx]\r\n      return {...state, path:[item.id], form:item, messages:{}}\r\n    }, \r\n    onInnerSelect: (ev) => (state, actions) => {\r\n      const indice = ev.currentTarget.parentNode.id.split('-')\r\n      const group = state.items[indice[1]]\r\n      const product = group.products[indice[2]]\r\n      return {...state, path:[group.id, product.id], form:product, messages:{}}\r\n    }, \r\n    onToggle: (ev) => ({collapsing, ...rest}, actions) => {\r\n      const idx = ev.currentTarget.parentNode.id.split('-')[1]\r\n      const id = rest.items[idx].id\r\n      if (collapsing.hasOwnProperty(id)) {\r\n        collapsing = {...collapsing}\r\n        delete collapsing[id]\r\n        return {collapsing, ...rest}\r\n      } else {\r\n        return {collapsing:{...collapsing, [id]:true}, ...rest}\r\n      }\r\n    }, \r\n    onImageSelect: ({name, image}) => ({form, ...rest}, actions) => {\r\n      return {...rest, form:{...form, [name]:image ? image.url : null}}\r\n    }, \r\n    onInput: (ev) => ({form, ...rest}, actions) => {\r\n      return {...rest, form:{...form, [ev.currentTarget.name]:ev.currentTarget.value}}\r\n    }, \r\n    onGroupBlur: (ev) => ({messages, ...rest}, actions) => {\r\n      const copy = deepCopy(rest.form)\r\n      const path = '.'+ev.currentTarget.name;\r\n      validate.Group(copy)\r\n      messages = updateMessages(messages, path, validate.Group.errors)\r\n      return {messages:messages, ...rest}\r\n    }, \r\n    onAutoBlur: (ev) => ({messages, ...rest}, actions) => {\r\n      const copy = deepCopy(rest.form)\r\n      const path = '.'+ev.currentTarget.name;\r\n      validate.Auto(copy)\r\n      messages = updateMessages(messages, path, validate.Auto.errors)\r\n      return {messages:messages, ...rest}\r\n    }, \r\n    onProductBlur: (ev) => ({messages, ...rest}, actions) => {\r\n      const copy = deepCopy(rest.form)\r\n      const path = '.'+ev.currentTarget.name;\r\n      validate.Product(copy)\r\n      messages = updateMessages(messages, path, validate.Product.errors)\r\n      return {messages:messages, ...rest}\r\n    }, \r\n    onPriceWatcherBlur: (ev) => ({messages, ...rest}, actions) => {\r\n      const copy = deepCopy(rest.form)\r\n      const path = '.'+ev.currentTarget.name\r\n      validate.PriceWatcher(copy)\r\n      messages = updateMessages(messages, path, validate.PriceWatcher.errors)\r\n      return {messages, ...rest}\r\n    }, \r\n    onStopBlur: (ev) => ({messages, ...rest}, actions) => {\r\n      const copy = deepCopy(rest.form)\r\n      const path = '.'+ev.currentTarget.name\r\n      validate.Stop(copy)\r\n      messages = updateMessages(messages, path, validate.Stop.errors)\r\n      return {messages, ...rest}\r\n    }, \r\n    onChange: (ev) => ({form, ...rest}, actions) => {\r\n      const value = ev.currentTarget.value == \"true\"\r\n      return {...rest, form:{...form, [ev.currentTarget.name]:value}}\r\n    }, \r\n    onChangeValue: (ev) => ({form, ...rest}, actions) => {\r\n      const value = ev.currentTarget.value\r\n      return {...rest, form:{...form, [ev.currentTarget.name]:value}}\r\n    }, \r\n    onRibbonChange: (ev) => ({form, ...rest}, actions) => {\r\n      const name = ev.currentTarget.name\r\n      var ribbons = {...form.ribbons}\r\n      if (ev.currentTarget.checked) {\r\n        ribbons[name] = true\r\n      } else {\r\n        delete ribbons[name]\r\n      }\r\n      form = {...form, ribbons}\r\n      return {...rest, form}\r\n    }, \r\n    onGroupSettle: (ev) => ({messages, ...rest}, actions) => {\r\n      const copy = deepCopy(rest.form)\r\n      const validator = validate[copy.type]\r\n      if (! validator(copy)) {\r\n        const messages = createMessages(validator.errors)\r\n        focusErrorInput(validator.errors)\r\n        return {...rest, messages}\r\n      }\r\n      const idx = findIndexByProp(\"id\", rest.path[0], rest.items)\r\n      const items = lreplace(rest.items, idx, copy)\r\n      return {...rest, messages:{}, form:null, path:[], items, spShowNav:true}\r\n    }, \r\n    onAutoSettle: (ev) => ({messages, ...rest}, actions) => {\r\n      const copy = deepCopy(rest.form)\r\n      if (! validate.Auto(copy)) {\r\n        const messages = createMessages(validate.Auto.errors)\r\n        focusErrorInput(validate.Auto.errors)\r\n        return {...rest, messages}\r\n      }\r\n      const idx = findIndexByProp(\"id\", rest.path[0], rest.items)\r\n      const items = lreplace(rest.items, idx, copy)\r\n      return {...rest, messages:{}, form:null, path:[], items, spShowNav:true}\r\n    }, \r\n    onProductSettle: (ev) => ({messages, ...rest}, actions) => {\r\n      const copy = deepCopy(rest.form)\r\n      const validator = validate[copy.type]\r\n      if (! validator(copy)) {\r\n        const messages = createMessages(validator.errors)\r\n        focusErrorInput(validator.errors)\r\n        return {...rest, messages}\r\n      }\r\n      const idx0 = findIndexByProp(\"id\", rest.path[0], rest.items)\r\n      const idx1 = findIndexByProp(\"id\", rest.path[1], rest.items[idx0].products)\r\n      const products = lreplace(rest.items[idx0].products, idx1, copy)\r\n      const item = {...rest.items[idx0], products}\r\n      const items = lreplace(rest.items, idx0, item)\r\n      return {...rest, messages:{}, form:null, path:[], items, spShowNav:true}\r\n    }, \r\n    onPriceWatcherSettle: (ev) => ({messages, ...rest}, actions) => {\r\n      const copy = deepCopy(rest.form)\r\n      if (! validate.PriceWatcher(copy)) {\r\n        const messages = createMessages(validate.PriceWatcher.errors)\r\n        focusErrorInput(validate.PriceWatcher.errors)\r\n        return {...rest, messages}\r\n      }\r\n      const idx = findIndexByProp(\"id\", rest.path[0], rest.items)\r\n      const items = lreplace(rest.items, idx, copy)\r\n      return {...rest, messages:{}, form:null, path:[], items, spShowNav:true}\r\n    }, \r\n    onStopSettle: (ev) => ({messages, ...rest}, actions) => {\r\n      const copy = deepCopy(rest.form)\r\n      if (! validate.Stop(copy)) {\r\n        const messages = createMessages(validate.Stop.errors)\r\n        focusErrorInput(validate.Stop.errors)\r\n        return {...rest, messages}\r\n      }\r\n      const idx = findIndexByProp(\"id\", rest.path[0], rest.items)\r\n      const items = lreplace(rest.items, idx, copy)\r\n      return {...rest, messages:{}, form:null, path:[], items, spShowNav:true}\r\n    }, \r\n    onDismiss: (ev) => (state, actions) => {\r\n      return {...state, messages:{}, form:null, path:[], spShowNav:true}\r\n    }, \r\n    onOpenExtra: (ev) => (state, actions) => {\r\n      return {...state, popping:true}\r\n    }, \r\n    onCloseExtra: (ev) => (state, actions) => {\r\n      return {...state, popping:false}\r\n    }\r\n  }, \r\n  view: (state, actions) => {\r\n    return (\r\n      <div class=\"wq-Details\">\r\n        <div class={`wq--nav ${state.spShowNav ? 'wq-is-spshown' : ''}`}>\r\n          <div class=\"wq--tools\">\r\n            <IconButton icon={state.popping ? \"expand_less\" : \"expand_more\"} title={_T('Additional Menu')} onclick={state.popping ? actions.onCloseExtra : actions.onOpenExtra} />\r\n            <IconButton icon=\"file_copy\" title={_T('Duplicate')} onclick={actions.onDuplicate} disabled={!state.form} />\r\n            <IconButton icon=\"delete\" title={_T('Delete')} onclick={actions.onDelete} disabled={!state.form} />\r\n            <div class=\"wq--spacer\"></div>\r\n            <IconButton icon=\"arrow_forward\" title={_T('Close Nav')} onclick={actions.onHideNav} xclass=\"wq-for-close-nav\" appearance={state.form ? 'primary' : 'normal'} />\r\n          </div>\r\n          <div class={`wq-Menu ${state.popping ? 'wq-is-open' : ''}`}>\r\n            <button class=\"wq-MenuItem\" onclick={actions.onAddAuto} disabled={state.form && state.form.type == \"Product\"}><i class=\"material-icons\">flag</i> {_T('Auto Item')}</button>\r\n            <button class=\"wq-MenuItem\" onclick={actions.onAddGroup} disabled={state.form && state.form.type == \"Product\"}><i class=\"material-icons\">folder</i> {_T('Group')}</button>\r\n            <button class=\"wq-MenuItem\" onclick={actions.onAddProduct} disabled={!state.form || (state.form.type != \"Group\" && state.form.type != \"Product\")}><i class=\"material-icons\">description</i> {_T('Product Item')}</button>\r\n            <button class=\"wq-MenuItem\" onclick={actions.onAddPriceWatcher} disabled={state.form && state.form.type == \"Product\"}><i class=\"material-icons\">money</i> {_T('Price Watcher')}</button>\r\n            <button class=\"wq-MenuItem\" onclick={actions.onAddStop} disabled={state.form && state.form.type == \"Product\"}><i class=\"material-icons\">block</i> {_T('Stop')}</button>\r\n          </div>\r\n          <SortableList id=\"outer\" handle=\".wq--handle-outer\" group='outer' onSortStart={actions.onOuterSortStart} onSortEnd={actions.onOuterSortEnd} isRoot>\r\n            {state.items.map((item, i0) => {\r\n              if (item.type == \"Auto\") {\r\n                return (\r\n                  <div class={`wq-ListItem wq-for-auto ${state.path.length == 1 && state.path[0] == item.id ? 'wq-is-selected' : ''} ${(!state.sorting || state.sorting == \"outer\") ? '' : 'wq-is-undroppable'}`} id={`item-${i0}`}>\r\n                    <div class=\"wq--toggler wq-non-interactive\"><i class=\"material-icons\">arrow_drop_down</i></div>\r\n                    <div class=\"wq--main\" onclick={actions.onOuterSelect}>\r\n                      <i class=\"material-icons\">flag</i> {item.name}\r\n                    </div>\r\n                    <div class=\"wq--handle wq--handle-outer\"><i class=\"material-icons\">drag_handle</i></div>\r\n                  </div>\r\n                )\r\n              } else if (item.type == \"PriceWatcher\") {\r\n                return (\r\n                  <div class={`wq-ListItem wq-for-priceWatcher ${state.path.length == 1 && state.path[0] == item.id ? 'wq-is-selected' : ''} ${(!state.sorting || state.sorting == \"outer\") ? '' : 'wq-is-undroppable'}`} id={`item-${i0}`}>\r\n                    <div class=\"wq--toggler wq-non-interactive\"><i class=\"material-icons\">arrow_drop_down</i></div>\r\n                    <div class=\"wq--main\" onclick={actions.onOuterSelect}>\r\n                      <i class=\"material-icons\">money</i> {item.lower != null ? item.lower + ' ' + _T(findByProp('v', item.lowerIncluded ? 'lessEqual' : 'lessThan', priceCheckerEnum).l) + ' ' : ''}X{item.higher != null ? ' ' + _T(findByProp('v', item.higherIncluded ? 'lessEqual' : 'lessThan', priceCheckerEnum).l) + ' ' + item.higher : ''}\r\n                    </div>\r\n                    <div class=\"wq--handle wq--handle-outer\"><i class=\"material-icons\">drag_handle</i></div>\r\n                  </div>\r\n                )\r\n              } else if (item.type == \"Stop\") {\r\n                return (\r\n                  <div class={`wq-ListItem wq-for-stop ${state.path.length == 1 && state.path[0] == item.id ? 'wq-is-selected' : ''} ${(!state.sorting || state.sorting == \"outer\") ? '' : 'wq-is-undroppable'}`} id={`item-${i0}`}>\r\n                    <div class=\"wq--toggler wq-non-interactive\"><i class=\"material-icons\">arrow_drop_down</i></div>\r\n                    <div class=\"wq--main\" onclick={actions.onOuterSelect}>\r\n                      <i class=\"material-icons\">block</i> {item.message}\r\n                    </div>\r\n                    <div class=\"wq--handle wq--handle-outer\"><i class=\"material-icons\">drag_handle</i></div>\r\n                  </div>\r\n                )\r\n              } else if (item.type == \"Group\") {\r\n                return (\r\n                  <div>\r\n                    <div class={`wq-ListItem wq-for-group ${state.path.length == 1 && state.path[0] == item.id ? 'wq-is-selected' : ''} ${(!state.sorting || state.sorting == \"outer\") ? '' : 'wq-is-undroppable'} ${item.visible ? '' : 'wq-visibility-no'}`} id={`item-${i0}`}>\r\n                      <div class={`wq--toggler ${state.collapsing.hasOwnProperty(item.id) ? 'wq-is-collapsing' : ''}`} onclick={actions.onToggle}><i class=\"material-icons\">arrow_drop_down</i></div>\r\n                      <div class=\"wq--main\" onclick={actions.onOuterSelect}>\r\n                        <i class=\"material-icons\">folder</i> {item.name}\r\n                      </div>\r\n                      <div class=\"wq--handle wq--handle-outer\"><i class=\"material-icons\">drag_handle</i></div>\r\n                    </div>\r\n                    <SortableList id={`inner-${item.id}`} handle=\".wq--handle-inner\" group=\"inner\" onSortStart={actions.onInnerSortStart} onSortEnd={actions.onInnerSortEnd} collapsed={state.collapsing.hasOwnProperty(item.id)}>\r\n                      {item.products.map((product, i1) => {\r\n                        return (\r\n                          <div class={`wq-ListItem wq-for-product ${state.path.length == 2 && state.path[1] == product.id ? 'wq-is-selected' : ''} ${(!state.sorting || state.sorting == \"inner\") ? '' : 'wq-is-undroppable'} ${'wq-state-'+product.state}`} id={`product-${i0}-${i1}`}>\r\n                            <div class=\"wq--toggler wq-non-interactive\"><i class=\"material-icons\">arrow_drop_down</i></div>\r\n                            <div class=\"wq--main\" onclick={actions.onInnerSelect}>\r\n                              <i class=\"material-icons\">description</i> {product.name}\r\n                            </div>\r\n                            <div class=\"wq--handle wq--handle-inner\"><i class=\"material-icons\">drag_handle</i></div>\r\n                          </div>\r\n                        )\r\n                      })}\r\n                    </SortableList>\r\n                  </div>\r\n                )\r\n              }\r\n            })}\r\n          </SortableList>\r\n        </div>\r\n        <div class={`wq--form`}>\r\n          <div class=\"wq--lobe\">\r\n            <IconButton icon=\"arrow_back\" onclick={actions.onShowNav} title={_T('Open Nav')} />\r\n          </div>\r\n          {state.form && state.form.type == \"Auto\" ? (\r\n            <form novalidate key={`form-${state.form.id}`}>\r\n              <table class=\"form-table wq-x-narrow\">\r\n                <tbody>\r\n                  <Control label={_T('Type')} note={_T('Adds a fixed detail line.')}>\r\n                    <p>{_T('Auto Item')}</p>\r\n                  </Control>\r\n                  <Control label={_T('Name')} message={_T(state.messages['.name'])}>\r\n                    <input type=\"text\" name=\"name\" class=\"regular-text\" value={state.form.name} oninput={actions.onInput} onblur={actions.onAutoBlur} />\r\n                  </Control>\r\n                  <Control label={_T('Category')} message={_T(state.messages['.category'])} note={_T('Input here if you want to display a category name in a order detail.')}>\r\n                    <input type=\"text\" name=\"category\" class=\"regular-text\" value={state.form.category} oninput={actions.onInput} onblur={actions.onAutoBlur} />\r\n                  </Control>\r\n                  <Control label={_T('Price')} message={_T(state.messages['.price'])}>\r\n                    <input type=\"text\" name=\"price\" class=\"medium-text\" value={state.form.price} oninput={actions.onInput} onblur={actions.onAutoBlur} />\r\n                  </Control>\r\n                  <Control label={_T('Quantity')} message={_T(state.messages['.quantity'])}>\r\n                    <select name=\"quantity\" onchange={actions.onChangeValue}>\r\n                      <option value={-1} selected={state.form.quantity == -1}>{_T('Fixed To 1')}</option>\r\n                      {listQuantities(state.form.id, state.items).map((qi) => {\r\n                        return (\r\n                          <option value={qi.id} selected={state.form.quantity == qi.id}>{qi.name}</option>\r\n                        )\r\n                      })}\r\n                    </select>\r\n                  </Control>\r\n                  <Control label={_T('Tax Rate')} message={_T(state.messages['.taxRate'])} note={_T('The tax rate on common settings will be applied when you leave it blank.')}>\r\n                    <input type=\"text\" name=\"taxRate\" class=\"small-text\" value={state.form.taxRate} oninput={actions.onInput} onblur={actions.onAutoBlur} /> {_T('%')}\r\n                  </Control>\r\n                  <Control label={_T('Required Labels')} note={_T('Separete with \",\". This item is availble only if all labels listed are satisfied.')} message={_T(state.messages['.depends'])}>\r\n                    <input type=\"text\" name=\"depends\" class=\"regular-text\" value={state.form.depends} oninput={actions.onInput} onblur={actions.onAutoBlur} />\r\n                  </Control>\r\n                </tbody>\r\n              </table>\r\n              <p class=\"submit\">\r\n                <button type=\"button\" class=\"button button-primary\" onclick={actions.onAutoSettle}>{_T('Commit Changes')}</button>\r\n                <button type=\"button\" class=\"button\" onclick={actions.onDismiss}>{_T('Discard Changes')}</button>\r\n              </p>\r\n            </form>\r\n          ) : null}\r\n          {state.form && state.form.type == 'PriceWatcher' ? (\r\n            <form novalidate key={`form-${state.form.id}`}>\r\n              <table class=\"form-table wq-x-narrow\">\r\n                <tbody>\r\n                  <Control label={_T('Type')} note={_T('Monitors the estimated price and gives labels if the price is included in a spacified range.')}>\r\n                    <p>{_T('Price Watcher')}</p>\r\n                  </Control>\r\n                  <Control label={_T('Lower Limit Value')} message={_T(state.messages['.lower'])} note={_T('Leave this blank if there are no lower limit.')}>\r\n                    <input type=\"text\" name=\"lower\" class=\"medium-text\" value={state.form.lower} oninput={actions.onInput} onblur={actions.onPriceWatcherBlur} />\r\n                  </Control>\r\n                  <Control label={_T('Includes Lower Limit Value')} message={_T(state.messages['.lowerIncluded'])}>\r\n                    <fieldset>\r\n                      <label><input type=\"radio\" name=\"lowerIncluded\" value=\"true\" checked={state.form.lowerIncluded} onchange={actions.onChange} /><span>{_T('Include')}</span></label>\r\n                      <label><input type=\"radio\" name=\"lowerIncluded\" value=\"false\" checked={!state.form.lowerIncluded} onchange={actions.onChange} /><span>{_T(\"Don't Include\")}</span></label>\r\n                    </fieldset>\r\n                  </Control>\r\n                  <Control label={_T('Higher Limit Value')} message={_T(state.messages['.higher'])} note={_T('Leave this blank if there are no higher limit.')}>\r\n                    <input type=\"text\" name=\"higher\" class=\"medium-text\" value={state.form.higher} oninput={actions.onInput} onblur={actions.onPriceWatcherBlur} />\r\n                  </Control>\r\n                  <Control label={_T('Includes Higher Limit Value')} message={_T(state.messages['.higherIncluded'])}>\r\n                    <fieldset>\r\n                      <label><input type=\"radio\" name=\"higherIncluded\" value=\"true\" checked={state.form.higherIncluded} onchange={actions.onChange} /><span>{_T('Include')}</span></label>\r\n                      <label><input type=\"radio\" name=\"higherIncluded\" value=\"false\" checked={!state.form.higherIncluded} onchange={actions.onChange} /><span>{_T(\"Don't Include\")}</span></label>\r\n                    </fieldset>\r\n                  </Control>\r\n                    <Control label={_T('Labels')} message={_T(state.messages['.labels'])} note={_T('Separate with \",\". If the conditions are met, all the labels listed will be awarded.')}>\r\n                      <input type=\"text\" name=\"labels\" class=\"regular-text\" value={state.form.labels} oninput={actions.onInput} onblur={actions.onAutoBlur} />\r\n                    </Control>\r\n                </tbody>\r\n              </table>\r\n              <p class=\"submit\">\r\n                <button type=\"button\" class=\"button button-primary\" onclick={actions.onPriceWatcherSettle}>{_T('Commit Changes')}</button>\r\n                <button type=\"button\" class=\"button\" onclick={actions.onDismiss}>{_T('Discard Changes')}</button>\r\n              </p>\r\n            </form>\r\n          ) : null}\r\n          {state.form && state.form.type == \"Stop\" ? (\r\n            <form novalidate key={`form-${state.form.id}`}>\r\n              <table class=\"form-table wq-x-narrow\">\r\n                <tbody>\r\n                  <Control label={_T('Type')} note={_T('Stops form submission under certain conditions.')}>\r\n                    <p>{_T('Stop')}</p>\r\n                  </Control>\r\n                  <Control label={_T('Message')} message={_T(state.messages['.note'])} note={_T('Appears when the form submission was stopped.')}>\r\n                    <textarea name=\"message\" class=\"large-text\" rows=\"3\" value={state.form.message} oninput={actions.onInput} onblur={actions.onStopBlur}></textarea>\r\n                  </Control>\r\n                  <Control label={_T('Required Labels')} note={_T('Separete with \",\". Form submission is stopped if all labels listed are given.')} message={_T(state.messages['.depends'])}>\r\n                    <input type=\"text\" name=\"depends\" class=\"regular-text\" value={state.form.depends} oninput={actions.onInput} onblur={actions.onStopBlur} />\r\n                  </Control>\r\n                </tbody>\r\n              </table>\r\n              <p class=\"submit\">\r\n                <button type=\"button\" class=\"button button-primary\" onclick={actions.onStopSettle}>{_T('Commit Changes')}</button>\r\n                <button type=\"button\" class=\"button\" onclick={actions.onDismiss}>{_T('Discard Changes')}</button>\r\n              </p>\r\n            </form>\r\n          ) : null}\r\n          {state.form && state.form.type == \"Group\" ? (\r\n            <form novalidate key={`form-${state.form.id}`}>\r\n              <table class=\"form-table wq-x-narrow\">\r\n                <tbody>\r\n                  <Control label={_T('Type')} note={_T('Creates a group of products.')}>\r\n                    <p>{_T('Group')}</p>\r\n                  </Control>\r\n                  <Control label={_T('Image')} message={_T(state.messages['.image'])}>\r\n                    <ImageInput name=\"image\" src={state.form.image} onimageselect={actions.onImageSelect} />\r\n                  </Control>\r\n                  <Control label={_T('Name')} message={_T(state.messages['.name'])}>\r\n                    <input type=\"text\" name=\"name\" class=\"regular-text\" value={state.form.name} oninput={actions.onInput} onblur={actions.onGroupBlur} />\r\n                  </Control>\r\n                  <Control label={_T('Visibility')} message={_T(state.messages['.visible'])}>\r\n                    <fieldset>\r\n                      <label><input type=\"radio\" name=\"visible\" value=\"true\" checked={state.form.visible} onchange={actions.onChange} /><span>{_T('Visible')}</span></label>\r\n                      <label><input type=\"radio\" name=\"visible\" value=\"false\" checked={!state.form.visible} onchange={actions.onChange} /><span>{_T(\"Invisible\")}</span></label>\r\n                    </fieldset>\r\n                  </Control>\r\n                  <Control label={_T('Note')} message={_T(state.messages['.note'])} note={_T('You can write in HTML.')}>\r\n                    <textarea name=\"note\" class=\"large-text\" rows=\"3\" value={state.form.note} oninput={actions.onInput} onblur={actions.onGroupBlur}></textarea>\r\n                  </Control>\r\n                </tbody>\r\n              </table>\r\n              <p class=\"submit\">\r\n                <button type=\"button\" class=\"button button-primary\" onclick={actions.onGroupSettle}>{_T('Commit Changes')}</button>\r\n                <button type=\"button\" class=\"button\" onclick={actions.onDismiss}>{_T('Discard Changes')}</button>\r\n              </p>\r\n            </form>\r\n          ) : null}\r\n          {state.form && state.form.type == \"Product\" ? (\r\n            <form novalidate key={`form-${state.path[0]}-${state.path[1]}`}>\r\n              <table class=\"form-table wq-x-narrow\">\r\n                <tbody>\r\n                  <Control label={_T('Type')} note={_T('Adds a product that can be ordered with quantity.')}>\r\n                    <p>{_T('Product Item')}</p>\r\n                  </Control>\r\n                  <Control label={_T('Image')} message={_T(state.messages['.image'])}>\r\n                    <ImageInput name=\"image\" src={state.form.image} onimageselect={actions.onImageSelect} />\r\n                  </Control>\r\n                  <Control label={_T('Name')} message={_T(state.messages['.name'])}>\r\n                    <input type=\"text\" name=\"name\" class=\"regular-text\" value={state.form.name} oninput={actions.onInput} onblur={actions.onProductBlur} />\r\n                  </Control>\r\n                  <Control label={_T('State')} message={_T(state.messages['.state'])}>\r\n                    <fieldset>\r\n                      <label><input type=\"radio\" name=\"state\" value=\"effective\" checked={state.form.state == 'effective'} onchange={actions.onChangeValue} /><span>{_T('Effective')}</span></label>\r\n                      <label><input type=\"radio\" name=\"state\" value=\"disabled\" checked={state.form.state == 'disabled'} onchange={actions.onChangeValue} /><span>{_T(\"Disabled\")}</span></label>\r\n                      <label><input type=\"radio\" name=\"state\" value=\"hidden\" checked={state.form.state == 'hidden'} onchange={actions.onChangeValue} /><span>{_T(\"Hidden\")}</span></label>\r\n                    </fieldset>\r\n                  </Control>\r\n                  <Control label={_T('Note')} message={_T(state.messages['.note'])} note={_T('You can write in HTML.')}>\r\n                    <textarea name=\"note\" class=\"large-text\" rows=\"3\" value={state.form.note} oninput={actions.onInput} onblur={actions.onProductBlur}></textarea>\r\n                  </Control>\r\n                  <Control label={_T('Price')} message={_T(state.messages['.price'])}>\r\n                    <input type=\"text\" name=\"price\" class=\"medium-text\" value={state.form.price} oninput={actions.onInput} onblur={actions.onProductBlur} />\r\n                  </Control>\r\n                  <Control label={_T('Tax Rate')} message={_T(state.messages['.taxRate'])} note={_T('The tax rate on common settings will be applied when you leave it blank.')}>\r\n                    <input type=\"text\" name=\"taxRate\" class=\"small-text\" value={state.form.taxRate} oninput={actions.onInput} onblur={actions.onProductBlur} /> {_T('%')}\r\n                  </Control>\r\n                  <Control label={_T('Ribbons')} message={_T(state.messages['.doConfirm'])}>\r\n                    <fieldset>\r\n                      {['SALE', 'RECOMMENDED'].map((r) => (\r\n                        <label><input type=\"checkbox\" name={r} value={true} checked={state.form.ribbons.hasOwnProperty(r)} onchange={actions.onRibbonChange} /><span>{_T(r)}</span></label>\r\n                      ))}\r\n                    </fieldset>\r\n                  </Control>\r\n                </tbody>\r\n              </table>\r\n              <p class=\"submit\">\r\n                <button type=\"button\" class=\"button button-primary\" onclick={actions.onProductSettle}>{_T('Commit Changes')}</button>\r\n                <button type=\"button\" class=\"button\" onclick={actions.onDismiss}>{_T('Discard Changes')}</button>\r\n              </p>\r\n            </form>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// Attributes tab\r\nconst attributes = {\r\n  createInitialState: (form) => {\r\n    return {\r\n      items: form.attrItems, \r\n      form: null, \r\n      messages: {}, \r\n      sorting: null, \r\n      nextItemId: Math.max(0, ...form.attrItems.map(x => x.id)) + 1, \r\n      spShowNav: true, \r\n      popping: false\r\n    }\r\n  }, \r\n  actions: {\r\n    onShowNav: (ev) => (state, actions) => {\r\n      return {...state, spShowNav:true}\r\n    }, \r\n    onHideNav: (ev) => (state, actions) => {\r\n      return {...state, spShowNav:false}\r\n    }, \r\n    onDuplicate: (ev) => (state, actions) => {\r\n      const idx = findIndexByProp(\"id\", state.form.id, state.items)\r\n      const item = deepCopy(state.items[idx])\r\n      let nextItemId = state.nextItemId\r\n      item.id = nextItemId++\r\n      item.name = sprintf(_T('%s\\'s Copy'), item.name)\r\n      return {...state, nextItemId, items:linsert(state.items, idx + 1, item), form:item, messages:{}}\r\n    }, \r\n    onDelete: (ev) => (state, actions) => {\r\n      const idx = findIndexByProp(\"id\", state.form.id, state.items)\r\n      return {...state, items:lremove(state.items, idx), form:null, messages:{}}\r\n    }, \r\n    onAdd: (ev) => (state, actions) => {\r\n      const type = ev.currentTarget.value\r\n      const idx = (state.form) ? findIndexByProp('id', state.form.id, state.items) + 1 : 0\r\n      let nextItemId = state.nextItemId\r\n      const item = {id:nextItemId++, type, required:true, name:_T('New Input Field'), note:\"\"}\r\n      if (type == \"Name\" || type == \"Tel\") {\r\n        item.divided = false\r\n      }\r\n      if (type == \"Name\") {\r\n        item.pattern = 'none'\r\n      }\r\n      if (type == \"Email\") {\r\n        item.repeated = true\r\n      }\r\n      if (type == 'Address') {\r\n        item.autoFill = 'none'\r\n      }\r\n      if (type == \"Radio\" || type == \"Dropdown\" || type == \"MultiCheckbox\") {\r\n        item.options = _T('New Option')\r\n      }\r\n      if (type == \"Radio\" || type == \"Checkbox\" || type == 'Dropdown' || type == 'MultiCheckbox') {\r\n        item.initialValue = \"\";\r\n      }\r\n      if (type == \"Text\") {\r\n        item.multiline = false\r\n        item.size = \"normal\"\r\n        item.placeholder = ''\r\n      }\r\n      if (type == \"reCAPTCHA3\") {\r\n        delete item.required\r\n        delete item.name\r\n        delete item.note\r\n        item.siteKey = \"\"\r\n        item.secretKey = \"\"\r\n        item.action = \"order\"\r\n        item.threshold1 = 0.6\r\n        item.threshold2 = 0.2\r\n      }\r\n      return {...state, items:linsert(state.items, idx, item), nextItemId, form:item, messages:{}}\r\n    }, \r\n    onSortStart: ({id:_id, index}) => (state, actions) => {\r\n      return {...state, sorting:\"yes\"}\r\n    }, \r\n    onSortEnd: ({fromId, fromIndex, toId, toIndex}) => (state, actions) => {\r\n      return {...state, sorting:null, items:lmove(state.items, fromIndex, toIndex)}\r\n    }, \r\n    onSelect: (ev) => (state, actions) => {\r\n      const idx = ev.currentTarget.parentNode.id.split('-')[1]\r\n      const item = state.items[idx]\r\n      return {...state, form:item, messages:{}}\r\n    }, \r\n    onImageSelect: ({name, image}) => ({form, ...rest}, actions) => {\r\n      return {...rest, form:{...form, [name]:image ? image.url : null}}\r\n    }, \r\n    onInput: (ev) => ({form, ...rest}, actions) => {\r\n      return {...rest, form:{...form, [ev.currentTarget.name]:ev.currentTarget.value}}\r\n    }, \r\n    onBlur: (ev) => ({messages, ...rest}, actions) => {\r\n      const copy = deepCopy(rest.form)\r\n      const path = '.'+ev.currentTarget.name\r\n      const v = validate[rest.form.type]\r\n      v(copy)\r\n      messages = updateMessages(messages, path, v.errors)\r\n      return {messages, ...rest}\r\n    }, \r\n    onChange: (ev) => ({form, ...rest}, actions) => {\r\n      const value = ev.currentTarget.value == \"true\"\r\n      return {...rest, form:{...form, [ev.currentTarget.name]:value}}\r\n    }, \r\n    onChangeEnum: (ev) => ({form:form0, ...rest}, actions) => {\r\n      const name = ev.currentTarget.name\r\n      const value = ev.currentTarget.value\r\n      const form = {...form0, [ev.currentTarget.name]:value}\r\n      return {...rest, form}\r\n    }, \r\n    onSettle: (ev) => ({messages, ...rest}, actions) => {\r\n      const copy = deepCopy(rest.form)\r\n      const v = validate[rest.form.type]\r\n      if (! v(copy)) {\r\n        messages = createMessages(v.errors)\r\n        focusErrorInput(messages)\r\n        return {...rest, messages}\r\n      }\r\n      const idx = findIndexByProp(\"id\", rest.form.id, rest.items)\r\n      const items = lreplace(rest.items, idx, copy)\r\n      return {...rest, messages:{}, form:null, items, spShowNav:true}\r\n    }, \r\n    onDismiss: (ev) => (state, actions) => {\r\n      return {...state, messages:{}, form:null, spShowNav:true}\r\n    }, \r\n    onOpenExtra: (ev) => (state, actions) => {\r\n      return {...state, popping:true}\r\n    }, \r\n    onCloseExtra: (ev) => (state, actions) => {\r\n      return {...state, popping:false}\r\n    }\r\n  }, \r\n  nameMap: {\r\n    Name: 'Name', \r\n    Email: 'Mail Address', \r\n    Tel: 'Phone Number', \r\n    Address: 'Address', \r\n    Checkbox: 'Checkbox', \r\n    Radio: 'Radio Button', \r\n    Dropdown: 'Dropdown', \r\n    MultiCheckbox: 'Multiple Checkbox', \r\n    Text: 'Text', \r\n    reCAPTCHA3: 'reCAPTCHA v3'\r\n  }, \r\n  iconMap: {\r\n    Name: 'person', \r\n    Email: 'mail', \r\n    Tel: 'phone', \r\n    Address: 'my_location', \r\n    Checkbox: 'check_box', \r\n    Radio: 'radio_button_checked', \r\n    Dropdown: 'arrow_drop_down_circle', \r\n    MultiCheckbox: 'done_all', \r\n    Text: 'text_fields', \r\n    reCAPTCHA3: 'security'\r\n  }, \r\n  view: (state, actions) => {\r\n    const ns = attributes.nameMap\r\n    return (\r\n      <div class=\"wq-Details\" key=\"details\">\r\n        <div class={`wq--nav ${state.spShowNav ? 'wq-is-spshown' : ''}`}>\r\n          <div class=\"wq--tools\">\r\n            <IconButton icon={state.popping ? \"expand_less\" : \"expand_more\"} title={_T('Additional Menu')} onclick={state.popping ? actions.onCloseExtra : actions.onOpenExtra} />\r\n            <IconButton icon=\"file_copy\" title={_T('Duplicate')} onclick={actions.onDuplicate} disabled={!state.form} />\r\n            <IconButton icon=\"delete\" title={_T('Delete')} onclick={actions.onDelete} disabled={!state.form} />\r\n            <div class=\"wq--spacer\"></div>\r\n            <IconButton icon=\"arrow_forward\" title={_T('Close Nav')} onclick={actions.onHideNav} xclass=\"wq-for-close-nav\" appearance={state.form ? 'primary' : ''} />\r\n          </div>\r\n          <div class={`wq-Menu ${state.popping ? 'wq-is-open' : ''}`}>\r\n            <button class=\"wq-MenuItem\" onclick={actions.onAdd} value=\"Name\"><i class=\"material-icons\">person</i> {_T(ns.Name)}</button>\r\n            <button class=\"wq-MenuItem\" onclick={actions.onAdd} value=\"Email\"><i class=\"material-icons\">mail</i> {_T(ns.Email)}</button>\r\n            <button class=\"wq-MenuItem\" onclick={actions.onAdd} value=\"Tel\"><i class=\"material-icons\">phone</i> {_T(ns.Tel)}</button>\r\n            <button class=\"wq-MenuItem\" onclick={actions.onAdd} value=\"Address\"><i class=\"material-icons\">my_location</i> {_T(ns.Address)}</button>\r\n            <button class=\"wq-MenuItem\" onclick={actions.onAdd} value=\"Checkbox\"><i class=\"material-icons\">check_box</i> {_T(ns.Checkbox)}</button>\r\n            <button class=\"wq-MenuItem\" onclick={actions.onAdd} value=\"Radio\"><i class=\"material-icons\">radio_button_checked</i> {_T(ns.Radio)}</button>\r\n            <button class=\"wq-MenuItem\" onclick={actions.onAdd} value=\"Dropdown\"><i class=\"material-icons\">arrow_drop_down_circle</i> {_T(ns.Dropdown)}</button>\r\n            <button class=\"wq-MenuItem\" onclick={actions.onAdd} value=\"MultiCheckbox\"><i class=\"material-icons\">done_all</i> {_T(ns.MultiCheckbox)}</button>\r\n            <button class=\"wq-MenuItem\" onclick={actions.onAdd} value=\"Text\"><i class=\"material-icons\">text_fields</i> {_T(ns.Text)}</button>\r\n            <button class=\"wq-MenuItem\" onclick={actions.onAdd} value=\"reCAPTCHA3\"><i class=\"material-icons\">security</i> {_T(ns.reCAPTCHA3)}</button>\r\n          </div>\r\n          <SortableList id=\"attributes\" handle=\".wq--handle-attributes\" group=\"attributes\" onSortStart={actions.onSortStart} onSortEnd={actions.onSortEnd} isRoot>\r\n            {state.items.map((item, i0) => {\r\n              return (\r\n                <div class={`wq-ListItem wq-for-${item.type} ${state.form && state.form.id == item.id ? 'wq-is-selected' : ''}`} id={`attrItem-${i0}`}>\r\n                  <div class=\"wq--main\" onclick={actions.onSelect}>\r\n                    <i class=\"material-icons\">{attributes.iconMap[item.type]}</i> {item.type == \"reCAPTCHA3\" ? ns[item.type] : item.name}\r\n                  </div>\r\n                  <div class=\"wq--handle wq--handle-attributes\"><i class=\"material-icons\">drag_handle</i></div>\r\n                </div>\r\n              )\r\n            })}\r\n          </SortableList>\r\n        </div>\r\n        <div class={`wq--form`}>\r\n          <div class=\"wq--lobe\">\r\n            <IconButton icon=\"arrow_back\" onclick={actions.onShowNav} title={_T('Open Nav')} />\r\n          </div>\r\n          {state.form ? (\r\n            <form novalidate key={`form-${state.form.id}`}>\r\n              <table class=\"form-table wq-x-narrow\">\r\n                <tbody>\r\n                  <Control label={_T('Type')}>\r\n                    <p>{_T(ns[state.form.type])}</p>\r\n                  </Control>\r\n                  {state.form.type != \"reCAPTCHA3\" ? (\r\n                    <Control label={_T('Name')} message={_T(state.messages['.name'])}>\r\n                      <input type=\"text\" name=\"name\" class=\"regular-text\" value={state.form.name} oninput={actions.onInput} onblur={actions.onBlur} />\r\n                    </Control>\r\n                  ) : null}\r\n                  {state.form.type != \"reCAPTCHA3\" ? (\r\n                    <Control label={_T('Input Required')} message={_T(state.messages['.required'])}>\r\n                      <fieldset>\r\n                        <label><input type=\"radio\" name=\"required\" value=\"true\" checked={state.form.required} onchange={actions.onChange} /><span>{_T('Required')}</span></label>\r\n                        <label><input type=\"radio\" name=\"required\" value=\"false\" checked={!state.form.required} onchange={actions.onChange} /><span>{_T('Optional')}</span></label>\r\n                      </fieldset>\r\n                    </Control>\r\n                  ) : null}\r\n                  {state.form.type == \"Name\" || state.form.type == \"Tel\" ? (\r\n                    <Control label={_T('Split Input Field')} message={_T(state.messages['.divided'])}>\r\n                      <fieldset>\r\n                        <label><input type=\"radio\" name=\"divided\" value=\"true\" checked={state.form.divided} onchange={actions.onChange} /><span>{_T('Split')}</span></label>\r\n                        <label><input type=\"radio\" name=\"divided\" value=\"false\" checked={!state.form.divided} onchange={actions.onChange} /><span>{_T('Don\\'t Split')}</span></label>\r\n                      </fieldset>\r\n                    </Control>\r\n                  ): null}\r\n                  {state.form.type == \"Name\" ? (\r\n                    <Control label={_T('Input Restriction')} message={_T(state.messages['.pattern'])}>\r\n                      <fieldset>\r\n                        <label><input type=\"radio\" name=\"pattern\" value=\"none\" checked={state.form.pattern == \"none\"} onchange={actions.onChangeEnum} /><span>{_T('None')}</span></label>\r\n                        <label><input type=\"radio\" name=\"pattern\" value=\"hiragana\" checked={state.form.pattern == \"hiragana\"} onchange={actions.onChangeEnum} /><span>{_T('Japanese Hiragana')}</span></label>\r\n                        <label><input type=\"radio\" name=\"pattern\" value=\"katakana\" checked={state.form.pattern == \"katakana\"} onchange={actions.onChangeEnum} /><span>{_T('Japanese Katakana')}</span></label>\r\n                      </fieldset>\r\n                    </Control>\r\n                  ) : null}\r\n                  {state.form.type == \"Email\" ? (\r\n                    <Control label={_T('Confirmation Input')} message={_T(state.messages['.repeated'])} note={_T('Whether to have email address entered twice for confirmation.')}>\r\n                      <fieldset>\r\n                        <label><input type=\"radio\" name=\"repeated\" value={true} checked={state.form.repeated} onchange={actions.onChange} /><span>{_T('Confirm')}</span></label>\r\n                        <label><input type=\"radio\" name=\"repeated\" value={false} checked={!state.form.repeated} onchange={actions.onChange} /><span>{_T('Don\\'t Confirm')}</span></label>\r\n                      </fieldset>\r\n                    </Control>\r\n                  ) : null}\r\n                  {state.form.type == \"Address\" ? (\r\n                    <Control label={_T('Auto Completion')} message={_T(state.messages['.autoFill'])} note={_T('Choose a service to auto-complete address from zip code.')}>\r\n                      <fieldset>\r\n                        <label><input type=\"radio\" name=\"autoFill\" value=\"none\" checked={state.form.autoFill == \"none\"} onchange={actions.onChangeEnum} /><span>{_T('None')}</span></label>\r\n                        <label><input type=\"radio\" name=\"autoFill\" value=\"yubinbango\" checked={state.form.autoFill == 'yubinbango'} onchange={actions.onChangeEnum} /><span>{_T('Yubinbango (Japan)')}</span></label>\r\n                      </fieldset>\r\n                    </Control>\r\n                  ) : null}\r\n                  {state.form.type == \"Radio\" || state.form.type == \"Dropdown\" || state.form.type == \"MultiCheckbox\" ? (\r\n                    <Control label={_T('Options')} message={_T(state.messages['.options'])} note={_T('Separate them with \",\".')}>\r\n                      <input type=\"text\" name=\"options\" class=\"large-text\" value={state.form.options} oninput={actions.onInput} onblur={actions.onBlur} />\r\n                    </Control>\r\n                  ) : null}\r\n                  {state.form.type == \"Radio\" || state.form.type == \"Dropdown\" || state.form.type == \"MultiCheckbox\" ? (\r\n                    <Control label={_T('Initial Value')} message={_T(state.messages['.initialValue'])} note={state.form.type == \"MultiCheckbox\" ? _T('Separate them with \",\".') : ''}>\r\n                      <input type=\"text\" name=\"initialValue\" class=\"regular-text\" value={state.form.initialValue} oninput={actions.onInput} onblur={actions.onBlur} />\r\n                    </Control>\r\n                  ) : null}\r\n                  {state.form.type == \"Checkbox\" ? (\r\n                    <Control label={_T('Initial Value')} message={_T(state.messages['.initialValue'])}>\r\n                      <fieldset>\r\n                        <label><input type=\"radio\" name=\"initialValue\" value=\"\" checked={state.form.initialValue == \"\"} onchange={actions.onChangeEnum} /><span>{_T('Off')}</span></label>\r\n                        <label><input type=\"radio\" name=\"initialValue\" value=\"1\" checked={state.form.initialValue != \"\"} onchange={actions.onChangeEnum} /><span>{_T('On')}</span></label>\r\n                      </fieldset>\r\n                    </Control>\r\n                  ) : null}\r\n                  {state.form.type == \"Text\" ? (\r\n                    <Control label={_T('Number of Lines')} message={_T(state.messages['.multiline'])}>\r\n                      <fieldset>\r\n                        <label><input type=\"radio\" name=\"multiline\" value=\"true\" checked={state.form.multiline} onchange={actions.onChange} /><span>{_T('Multiple Lines')}</span></label>\r\n                        <label><input type=\"radio\" name=\"multiline\" value=\"false\" checked={!state.form.multiline} onchange={actions.onChange} /><span>{_T('1 Line')}</span></label>\r\n                      </fieldset>\r\n                    </Control>\r\n                  ) : null}\r\n                  {state.form.type == \"Text\" ? (\r\n                    <Control label={_T('Width of Input Field')} message={_T(state.messages['.size'])}>\r\n                      <fieldset>\r\n                        <label><input type=\"radio\" name=\"size\" value=\"nano\" checked={state.form.size == \"nano\"} onchange={actions.onChangeEnum} /><span>{_T('Nano')}</span></label> {_T('Up to 3 characters.')}<br />\r\n                        <label><input type=\"radio\" name=\"size\" value=\"mini\" checked={state.form.size == \"mini\"} onchange={actions.onChangeEnum} /><span>{_T('Mini')}</span></label> {_T('Up to 5 characters.')}<br />\r\n                        <label><input type=\"radio\" name=\"size\" value=\"small\" checked={state.form.size == \"small\"} onchange={actions.onChangeEnum} /><span>{_T('Small')}</span></label> {_T('Up to 8 characters.')}<br />\r\n                        <label><input type=\"radio\" name=\"size\" value=\"normal\" checked={state.form.size == \"normal\"} onchange={actions.onChangeEnum} /><span>{_T('Regular')}</span></label> {_T('Up to 13 characters.')}<br />\r\n                        <label><input type=\"radio\" name=\"size\" value=\"full\" checked={state.form.size == \"full\"} onchange={actions.onChangeEnum} /><span>{_T('Full')}</span></label> {_T('Full width')}\r\n                      </fieldset>\r\n                    </Control>\r\n                  ) : null}\r\n                  {state.form.type == \"Text\" ? (\r\n                    <Control label={_T('Placeholder')} message={_T(state.messages['.placeholder'])}>\r\n                      <input type=\"text\" name=\"placeholder\" class=\"regular-text\" value={state.form.placeholder} oninput={actions.onInput} onblur={actions.onBlur} />\r\n                    </Control>\r\n                  ) : null}\r\n                  {state.form.type != \"reCAPTCHA3\" ? (\r\n                    <Control label={_T('Note')} message={_T(state.messages['.note'])} note={_T('You can write in HTML.')}>\r\n                      <textarea name=\"note\" class=\"large-text\" rows=\"3\" value={state.form.note} oninput={actions.onInput} onblur={actions.onBlur}></textarea>\r\n                    </Control>\r\n                  ) : null}\r\n                  {state.form.type == \"reCAPTCHA3\" ? [(\r\n                    <Control label={_T('Site Key')} message={_T(state.messages['.siteKey'])}>\r\n                      <input type=\"text\" name=\"siteKey\" class=\"large-text\" value={state.form.siteKey} oninput={actions.onInput} onblur={actions.onBlur} />\r\n                    </Control>\r\n                  ), (\r\n                    <Control label={_T('Secret Key')} message={_T(state.messages['.secretKey'])}>\r\n                      <input type=\"text\" name=\"secretKey\" class=\"large-text\" value={state.form.secretKey} oninput={actions.onInput} onblur={actions.onBlur} />\r\n                    </Control>\r\n                  ), (\r\n                    <Control label={_T('Action')} message={_T(state.messages['.action'])} note={[_T(\"A string that identifies the user's action. Refer: \"), <a href=\"https://developers.google.com/recaptcha/docs/v3#actions\" target=\"_blank\">Actions</a>]}>\r\n                      <input type=\"text\" name=\"action\" class=\"medium-text\" value={state.form.action} oninput={actions.onInput} onblur={actions.onBlur} />\r\n                    </Control>\r\n                  ), (\r\n                    <Control label={_T('Soft-Pass Score')} message={_T(state.messages['threshold1'])} note={_T(\"If the score is lower than this value, AForms considers that the submission is somewhat unreliable and email notifications to administrators will be omitted.\")}>\r\n                      <select name=\"threshold1\" onchange={actions.onChangeEnum}>\r\n                        {[0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1].map(s => {\r\n                          return (\r\n                            <option value={s} selected={s == state.form.threshold1}>{s}</option>\r\n                          )\r\n                        })}\r\n                      </select>\r\n                    </Control>\r\n                  ), (\r\n                    <Control label={_T('Failure Score')} message={_T(state.messages['threshold2'])} note={_T(\"If the score is lower than this value, AForms blocks the submission and show an error to customer.\")}>\r\n                      <select name=\"threshold2\" onchange={actions.onChangeEnum}>\r\n                        {[0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1].map(s => {\r\n                          return (\r\n                            <option value={s} selected={s == state.form.threshold2}>{s}</option>\r\n                          )\r\n                        })}\r\n                      </select>\r\n                    </Control>\r\n                  )] : null}\r\n                </tbody>\r\n              </table>\r\n              <p class=\"submit\">\r\n                <button type=\"button\" class=\"button button-primary\" onclick={actions.onSettle}>{_T('Commit Changes')}</button>\r\n                <button type=\"button\" class=\"button\" onclick={actions.onDismiss}>{_T('Discard Changes')}</button>\r\n              </p>\r\n            </form>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// Mail tab\r\nconst mail = {\r\n  createInitialState: (form) => {\r\n    return {\r\n      mail: form.mail, \r\n      form: form.mail, \r\n      messages: {}\r\n    }\r\n  }, \r\n  actions: {\r\n    onInput: (ev) => ({form, ...rest}, actions) => {\r\n      return {...rest, form:{...form, [ev.currentTarget.name]:ev.currentTarget.value}}\r\n    }, \r\n    onBlur: (ev) => ({messages, ...rest}, actions) => {\r\n      const copy = deepCopy(rest.form)\r\n      const path = '.'+ev.currentTarget.name\r\n      const v = validate.Mail\r\n      v(copy)\r\n      messages = updateMessages(messages, path, v.errors)\r\n      return {messages, ...rest}\r\n    }, \r\n    onBoolChange: (ev) => ({form, ...rest}, actions) => {\r\n      form = {...form, [ev.currentTarget.name]:ev.currentTarget.checked}\r\n      return {...rest, form}\r\n    }, \r\n    onSettle: (ev) => ({messages, ...rest}, actions) => {\r\n      const copy = deepCopy(rest.form)\r\n      const v = validate.Mail\r\n      if (! v(copy)) {\r\n        messages = createMessages(v.errors)\r\n        focusErrorInput(v.errors)\r\n        return {...rest, messages}\r\n      }\r\n      window.requestAnimationFrame(() => allActions.showNotice('Changes committed. Be sure to save data before moving to another page.'))\r\n      return {...rest, messages:{}, mail:copy}\r\n    }, \r\n    onDismiss: (ev) => (state, actions) => {\r\n      return {...state, messages:{}, form:state.mail}\r\n    }\r\n  }, \r\n  view: (state, actions) => {\r\n    const form = state.form\r\n    return (\r\n      <form novalidate id=\"form-mail\" key=\"form-mail\">\r\n        <table class=\"form-table\">\r\n          <tbody>\r\n            <Control label={_T('From Address')} message={_T(state.messages['.fromAddress'])}>\r\n              <input type=\"text\" class=\"large-text\" name=\"fromAddress\" value={form.fromAddress} oninput={actions.onInput} onblur={actions.onBlur} />\r\n            </Control>\r\n            <Control label={_T('From Name')} message={_T(state.messages['.fromName'])}>\r\n              <input type=\"text\" class=\"regular-text\" name=\"fromName\" value={form.fromName} oninput={actions.onInput} onblur={actions.onBlur} />\r\n            </Control>\r\n            <Control label={_T('Set Return-Path')} note={_T('Uncheck this if you prefer the default behavior of WordPress.')}>\r\n              <fieldset>\r\n                <label><input type=\"checkbox\" name=\"alignReturnPath\" value=\"1\" checked={form.alignReturnPath} onchange={actions.onBoolChange} /> {_T('Set Return-Path to be the same as the From address')}</label>\r\n              </fieldset>\r\n            </Control>\r\n            <Control label={_T('Subject')} message={_T(state.messages['.subject'])}>\r\n              <input type=\"text\" class=\"large-text\" name=\"subject\" value={form.subject} oninput={actions.onInput} onblur={actions.onBlur} />\r\n            </Control>\r\n            <Control label={_T('Notify To')} message={_T(state.messages['.notifyTo'])} note={_T('You can also send a copy of the thank-you-mail to another address. Separate them with \",\" to specify multiple addresses.')}>\r\n              <input type=\"text\" class=\"large-text\" name=\"notifyTo\" value={form.notifyTo} oninput={actions.onInput} onblur={actions.onBlur} />\r\n            </Control>\r\n            <Control label={_T('Text Body')} message={_T(state.messages['.textBody'])}>\r\n              <p>{_T('You can insert the following data into the text body.')}</p>\r\n              <dl class=\"wq--definitions\">\r\n                <dt>{'{{id}}'}</dt><dd>{_T('Order id')}</dd>\r\n                <dt>{'{{details}}'}</dt><dd>{_T('Detail lines')}</dd>\r\n                <dt>{'{{total}}'}</dt><dd>{_T('Total; In case of tax-excluded notation, subtotal and tax are included.')}</dd>\r\n                <dt>{'{{attributes}}'}</dt><dd>{_T('Customer attributes')}</dd>\r\n                <dt>{'{{name}}'}</dt><dd>{_T('Customer name; Available only when using Name control.')}</dd>\r\n                <dt>{'{{email}}'}</dt><dd>{_T('Customer mail address; Available only when using MailAddress control.')}</dd>\r\n              </dl>\r\n              <textarea class=\"large-text\" rows=\"20\" name=\"textBody\" value={form.textBody} oninput={actions.onInput} onblur={actions.onBlur}></textarea>\r\n            </Control>\r\n          </tbody>\r\n        </table>\r\n        <p class=\"submit\">\r\n          <button type=\"button\" class=\"button button-primary\" onclick={actions.onSettle}>{_T('Commit Changes')}</button>\r\n          <button type=\"button\" class=\"button\" onclick={actions.onDismiss}>{_T('Discard Changes')}</button>\r\n        </p>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\n// whole page\r\nconst createInitialState = (form) => {\r\n  const rv = {\r\n    general: general.createInitialState(form), \r\n    details: details.createInitialState(form), \r\n    attributes: attributes.createInitialState(form), \r\n    mail: mail.createInitialState(form), \r\n    tab: 'general', \r\n    loading: false, \r\n    notification: null\r\n  }\r\n  return rv\r\n}\r\nconst actions = {\r\n  general: general.actions, \r\n  details: details.actions, \r\n  attributes: attributes.actions, \r\n  mail: mail.actions, \r\n  activate: (ev) => (state, actions) => {\r\n    const off = ev.currentTarget.href.lastIndexOf('#')\r\n    const tab = ev.currentTarget.href.slice(off + 1)\r\n    return {...state, tab}\r\n  }, \r\n  submit: (ev) => (state, actions) => {\r\n    document.getElementById('save-button').setAttribute('disabled', 'disabled');\r\n    const form = {\r\n      id: state.general.formId, \r\n      title: state.general.general.title, \r\n      navigator: state.general.general.navigator, \r\n      doConfirm: state.general.general.doConfirm, \r\n      thanksUrl: state.general.general.thanksUrl, \r\n      detailItems: state.details.items, \r\n      attrItems: state.attributes.items, \r\n      mail: state.mail.mail\r\n    }\r\n    submit(form, actions.submitK)\r\n    return {...state, loading:true}\r\n  }, \r\n  submitK: (resp) => (state, actions) => {\r\n    if (resp.form.id != state.general.formId) {\r\n      history.replaceState('', '', editUrl.replace('placeholder', resp.form.id))\r\n      const pu = pvUrl.replace('placeholder', resp.form.id)\r\n      document.getElementById('preview-link').href = pu\r\n    }\r\n    window.requestAnimationFrame(() => allActions.general.updateId(resp.form.id))\r\n    window.requestAnimationFrame(() => allActions.showNotice('Form saved.'))\r\n    document.getElementById('save-button').removeAttribute('disabled');\r\n    return {...state, loading:false}\r\n  }, \r\n  showNotice: (notification) => (state, actions) => {\r\n    scrollToTop();\r\n    return {...state, notification}\r\n  }, \r\n  hideNotice: (ev) => (state, actions) => {\r\n    return {...state, notification:null}\r\n  }\r\n}\r\nconst bind = (_el) => {\r\n  const target = document.getElementById('save-button');\r\n  target.addEventListener('click', allActions.submit)\r\n}\r\nconst view = (state, actions) => {\r\n  return (\r\n    <div oncreate={bind}>\r\n      {(state.notification) ? (\r\n        <div class=\"updated settings-error notice is-dismissible\">\r\n          <p><strong>{_T(state.notification)}</strong></p>\r\n          <button type=\"button\" class=\"notice-dismiss\" onclick={actions.hideNotice}><span class=\"screen-reader-text\">{_T('Dismiss this notice.')}</span></button>\r\n        </div>\r\n      ) : null}\r\n      <nav class=\"nav-tab-wrapper wp-clearfix\">\r\n        <a href=\"#general\" onclick={actions.activate} class={`nav-tab ${state.tab == 'general' ? 'nav-tab-active' : ''}`}>{_T('General')}</a>\r\n        <a href=\"#details\" onclick={actions.activate} class={`nav-tab ${state.tab == 'details' ? 'nav-tab-active' : ''}`}>{_T('Details')}</a>\r\n        <a href=\"#attributes\" onclick={actions.activate} class={`nav-tab ${state.tab == 'attributes' ? 'nav-tab-active' : ''}`}>{_T('Attributes')}</a>\r\n        <a href=\"#mail\" onclick={actions.activate} class={`nav-tab ${state.tab == 'mail' ? 'nav-tab-active' : ''}`}>{_T('Mail')}</a>\r\n      </nav>\r\n      {(state.tab == 'general') ? general.view(state.general, actions.general) : null}\r\n      {(state.tab == 'details') ? details.view(state.details, actions.details) : null}\r\n      {(state.tab == 'attributes') ? attributes.view(state.attributes, actions.attributes) : null}\r\n      {(state.tab == 'mail') ? mail.view(state.mail, actions.mail) : null}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst _T = translate(wqData.catalog);\r\nconst noimageUrl = wqData.noimageUrl;\r\nconst submitUrl = wqData.submitUrl;\r\nconst editUrl = wqData.editUrl;\r\nconst pvUrl = wqData.pvUrl;\r\nconst allActions = app(createInitialState(wqData.form), actions, view, document.getElementById('root'))\r\nconst validate = mapHash((_name, s) => {\r\n  return (new Ajv({coerceTypes: true, allErrors: true})).compile(s)\r\n}, wqData.schemas);  // General, Auto, Selector, Option, ...\r\n\r\n","\r\nimport {h} from 'hyperapp';\r\n\r\nexport const tnOnCreate = (el) => {\r\n  var tid = null\r\n  el.classList.add('wq-is-created')\r\n  window.setTimeout(() => {\r\n    el.classList.add('wq-is-run')\r\n    el.classList.remove('wq-is-created')\r\n    el.addEventListener('transitionend', () => {\r\n      el.classList.remove('wq-is-run')\r\n      window.clearTimeout(tid)\r\n    }, {once:true})\r\n    tid = window.setTimeout(() => {\r\n      el.classList.remove('wq-is-run')\r\n    }, 3000)\r\n  }, 50)\r\n}\r\n\r\nexport const tnOnRemove = (el, done) => {\r\n  var tid = null\r\n  el.classList.add('wq-is-run')\r\n  window.setTimeout(() => {\r\n    el.classList.add('wq-is-removed')\r\n    el.addEventListener('transitionend', () => {\r\n      try {\r\n        el.classList.remove('wq-is-run')\r\n        window.clearTimeout(tid)\r\n        done()\r\n      } catch (ex) {\r\n        // ignore\r\n      }\r\n    })\r\n  }, 50)\r\n  tid = window.setTimeout(() => {\r\n    try {\r\n      done()\r\n    } catch (ev) {\r\n      // ignore\r\n    }\r\n  }, 3000)\r\n}\r\n\r\nconst extractMessage = e => {\r\n  // 1\r\n  // \r\n  // anyOf\r\n  return e.message.indexOf('should match pattern') === 0 ? 'should match pattern' : \r\n         e.message === 'should match some schema in anyOf' ? null : \r\n         //e.message === 'should be equal to one of the allowed values' ? null : \r\n         e.message === 'should match exactly one schema in oneOf' ? null : e.message\r\n}\r\n\r\nexport const createMessages = (es, excludedPaths = []) => {\r\n  return es.reduce((ms, e) => {\r\n    if (excludedPaths.indexOf(e.dataPath) != -1) return ms\r\n    const msg = extractMessage(e)\r\n    if (msg === null) return ms\r\n    else return {...ms, [e.dataPath]:msg}\r\n  }, {})\r\n}\r\n\r\nexport const updateMessages = (ms, path, es) => {\r\n  const es2 = (es === null) ? [] : es.filter(e => e.dataPath == path)\r\n  if (es2.length == 0) {\r\n    // delete\r\n    const ms2 = {...ms}\r\n    delete ms2[path]\r\n    return ms2\r\n  } else {\r\n    // replace\r\n    return es.reduce((ms, e) => {\r\n      const msg = extractMessage(e)\r\n      if (msg === null) return ms\r\n      else return {...ms, [path]:msg}\r\n    }, ms)\r\n  }\r\n}\r\n\r\nconst br = {nodeName:'br', attributes:{}, children:[]}\r\n\r\nexport const strToVdom = (x) => {\r\n  const lines = x.split('\\n')\r\n  if (lines.length == 1) return lines[0]\r\n  \r\n  return lines.reduce((cur, line) => {\r\n    return (cur.length == 0) ? [line] : [...cur, br, line]\r\n  }, [])\r\n}\r\n\r\nexport const translate = (catalog) => (x) => {\r\n  if (typeof x == 'undefined') return null\r\n  if (catalog.hasOwnProperty(x)) {\r\n    return catalog[x]\r\n  } else {\r\n    console.log('TO TRANSLATE: ', x);\r\n    return x;\r\n  }\r\n}\r\n\r\nexport const deepCopy = (x) => JSON.parse(JSON.stringify(x))\r\n\r\nexport const Message = (props, children) => {\r\n  if (children.length == 0) return null\r\n  if (props.hasOwnProperty('id')) {\r\n    props.key = props.id\r\n  }\r\n  return (\r\n    <div class=\"wq-Message\" {...props}>{children}</div>\r\n  )\r\n}\r\n\r\nexport const focusErrorInput = (es) => {\r\n  let name = null\r\n  if (! Array.isArray(es)) {\r\n    const ks = Object.keys(es)\r\n    if (ks.length == 0) return;\r\n    name = ks[0].slice(1)\r\n  } else {\r\n    if (es.length == 0) return;\r\n    name = es[0].dataPath.slice(1)\r\n  }\r\n  const elems = document.getElementsByName(name);\r\n  if (elems.length == 0) return;\r\n  elems[0].focus();\r\n}\r\n\r\nexport const mapHash = (f, hash) => {\r\n  const rv = {}\r\n  for (let p in hash) {\r\n    rv[p] = f(p, hash[p])\r\n  }\r\n  return rv\r\n}\r\n\r\nexport const reduceHash = (f, cur, hash) => {\r\n  for (let key in hash) {\r\n    cur = f(cur, key, hash[key])\r\n  }\r\n  return cur\r\n}\r\n\r\nexport const branchNo = (name, sep) => {\r\n  const off = name.lastIndexOf(sep)\r\n  const fragment = name.slice(off + 1)\r\n  return parseInt(fragment)\r\n}\r\n\r\nexport const findByProp = (name, val, arr) => {\r\n  const len = arr.length\r\n  for (let i = 0; i < len; i++) {\r\n    if (arr[i][name] == val) return arr[i]\r\n  }\r\n  return undefined\r\n}\r\n\r\nexport const findIndexByProp = (name, val, arr) => {\r\n  const len = arr.length\r\n  for (let i = 0; i < len; i++) {\r\n    if (arr[i][name] == val) return i\r\n  }\r\n  return -1\r\n}\r\n\r\nexport const lmove = (arr, from, to) => {\r\n  const item = arr[from]\r\n  const arr2 = arr.filter((e, i) => i != from)\r\n  arr2.splice(to, 0, item)\r\n  return arr2\r\n}\r\n\r\nexport const linsert = (arr, idx, e) => {\r\n  const arr2 = arr.reduce((cur, e0, i) => {\r\n    if (i == idx) {\r\n      return [...cur, e, e0]\r\n    } else {\r\n      return [...cur, e0]\r\n    }\r\n  }, [])\r\n  if (arr2.length == idx) {\r\n    arr2.push(e)\r\n  }\r\n  return arr2\r\n}\r\n\r\nexport const lremove = (arr, from) => {\r\n  arr = arr.filter((e, i) => i != from)\r\n  return arr\r\n}\r\n\r\nexport const lreplace = (arr, idx, e) => {\r\n  return arr.map((e0, i) => (i == idx) ? e : e0)\r\n}\r\n\r\nexport const joinSet = (set, glue) => {\r\n  let rv = ''\r\n  let isTail = false\r\n  for (let key in set) {\r\n    if (isTail) rv += glue\r\n    rv += key\r\n    isTail = true\r\n  }\r\n  return rv\r\n}\r\n\r\nexport const scrollToTop = () => {\r\n  const c = document.documentElement.scrollTop || document.body.scrollTop;\r\n  if (c > 0) {\r\n    const diff = Math.max(c / 8, 4)\r\n    window.requestAnimationFrame(scrollToTop);\r\n    window.scrollTo(0, c - diff);\r\n  }\r\n};\r\n\r\nexport function sprintf(format) {\r\n  var args = arguments;\r\n  var offset = 1;\r\n  return format.replace(/%([0-9]\\$)?([^0-9])/g, function (match, f1, f2) {\r\n    if (f2 == '%') {\r\n      return '%';\r\n    } else if (f2 == 's') {\r\n      if (! f1) {\r\n        return args[offset++];\r\n      } else {\r\n        return args[f1.slice(0, 1)];\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nexport function hremove(hash, key) {\r\n  const copy = {...hash}\r\n  delete copy[key]\r\n  return copy\r\n}"],"names":["$4b669f0e4c4f10ed$export$dda1d9f60106f0e9","name","attributes","rest","children","length","arguments","push","node","pop","nodeName","key","module","exports","$fb31715753c5bc8f$var$Ajv","prototype","validate","schemaKeyRef","data","v","this","getSchema","Error","schemaObj","_addSchema","_compile","valid","$async","errors","compile","schema","_meta","undefined","addSchema","_skipValidation","Array","isArray","i","id","_getId","$fb31715753c5bc8f$var$checkUnique","$e6VvA","normalizeId","_schemas","addMetaSchema","skipValidation","validateSchema","throwOrLogError","$schema","_opts","defaultMeta","self","meta","$fb31715753c5bc8f$var$META_SCHEMA_ID","$fb31715753c5bc8f$var$defaultMeta","logger","warn","message","errorsText","error","keyRef","$fb31715753c5bc8f$var$_getSchemaObj","ref","res","call","root","baseId","$8qtJy","_fragments","$Tt2gM","fragment","$fb31715753c5bc8f$var$_getSchemaFragment","removeSchema","RegExp","$fb31715753c5bc8f$var$_removeAllSchemas","_refs","_cache","clear","del","cacheKey","serialize","addFormat","format","_formats","options","separator","dataVar","text","e","dataPath","slice","shouldAddSchema","cached","get","addUsedSchema","recursiveMeta","willValidate","localRefs","ids","put","compiling","callValidate","currentOpts","_metaOpts","_validate","result","apply","refs","refVal","compileAsync","parcelRequire","addKeyword","$jehFL","add","getKeyword","removeKeyword","remove","validateKeyword","ValidationError","$clpLk","Validation","MissingRefError","MissingRef","$dataMetaSchema","$1Doyj","$fb31715753c5bc8f$var$META_IGNORE_OPTIONS","$fb31715753c5bc8f$var$META_SUPPORT_DATA","opts","$ikQZx","copy","log","$fb31715753c5bc8f$var$noop","console","$fb31715753c5bc8f$var$setLogger","$dOlCA","cache","$cWUCN","_loadingSchemas","_compilations","RULES","$P9FPI","schemaId","$fb31715753c5bc8f$var$_get$IdOrId","$fb31715753c5bc8f$var$_getId","$fb31715753c5bc8f$var$_get$Id","$fb31715753c5bc8f$var$chooseGetId","loopRequired","Infinity","errorDataPath","_errorDataPathProperty","$dqJsY","metaOpts","$fb31715753c5bc8f$var$getMetaSchemaOptions","formats","$fb31715753c5bc8f$var$addInitialFormats","keywords","keyword","$fb31715753c5bc8f$var$addInitialKeywords","$dataSchema","$data","$id","metaSchema","$fb31715753c5bc8f$var$addDefaultMetaSchema","nullable","type","optsSchemas","schemas","$fb31715753c5bc8f$var$addInitialSchemas","regex","test","$6227d0ee2dabe59e$var$ucs2length","ucs2length","$6227d0ee2dabe59e$var$ValidationError","$6227d0ee2dabe59e$var$checkCompiling","index","$6227d0ee2dabe59e$var$compIndex","$6227d0ee2dabe59e$var$endCompiling","splice","c","$6227d0ee2dabe59e$var$patternCode","patterns","toQuotedString","$6227d0ee2dabe59e$var$defaultCode","$6227d0ee2dabe59e$var$refValCode","$6227d0ee2dabe59e$var$customRuleCode","$6227d0ee2dabe59e$var$vars","arr","statement","code","$6227d0ee2dabe59e$var$compile","schema1","localRefs1","baseId1","refVal1","patternsHash","defaults","defaultsHash","customRules","compilation","localCompile","cv","sourceCode","source","_schema","_root","isRoot","$6XnwV","isTop","schemaPath","errSchemaPath","errorPath","util","resolve","resolveRef","usePattern","useDefault","useCustomRule","processCode","Function","makeValidate","$b0mBv","url","_refVal","refCode","refIndex","resolvedRef","rootRefId","addLocalRef","localSchema","inlineRef","inlineRefs","refId","replaceLocalRef","removeLocalRef","inline","regexStr","value","valueStr","rule","parentSchema","it","deps","definition","dependencies","every","Object","hasOwnProperty","join","macro","$a45e3c2f1f45bab2$var$resolve","$a45e3c2f1f45bab2$var$inlineRef","$a45e3c2f1f45bab2$var$resolveSchema","p","$bZrpb","parse","refPath","$a45e3c2f1f45bab2$var$_getFullPath","$a45e3c2f1f45bab2$var$getFullPath","keys","$a45e3c2f1f45bab2$var$normalizeId","$a45e3c2f1f45bab2$var$resolveRecursive","$a45e3c2f1f45bab2$var$getJsonPointer","parsedRef","$a45e3c2f1f45bab2$var$resolveUrl","fullPath","baseIds","fullPaths","$6QPg9","allKeys","sch","jsonPtr","rootSchema","parentJsonPtr","parentKeyword","keyIndex","escapeFragment","$a45e3c2f1f45bab2$var$PREVENT_SCOPE_CHANGE","toHash","parts","split","part","unescapeFragment","$ref","$a45e3c2f1f45bab2$var$SIMPLE_INLINED","limit","$a45e3c2f1f45bab2$var$checkNoRef","$a45e3c2f1f45bab2$var$countKeys","item","count","normalize","$a45e3c2f1f45bab2$var$TRAILING_SLASH_HASH","replace","merge","sets","_key","xl","x","subexp","str","typeOf","o","toString","shift","toLowerCase","toUpperCase","buildExps","isIRI","ALPHA$$","DIGIT$$","HEXDIG$$","PCT_ENCODED$","SUB_DELIMS$$","RESERVED$$","SCHEME$","USERINFO$","UNRESERVED$$","DEC_OCTET_RELAXED$","H16$","LS32$","IPV4ADDRESS$","IPV6ADDRESS1$","IPV6ADDRESS2$","IPV6ADDRESS3$","IPV6ADDRESS4$","IPV6ADDRESS5$","IPV6ADDRESS6$","IPV6ADDRESS7$","IPV6ADDRESS8$","IPV6ADDRESS9$","ZONEID$","IPV6ADDRESS$","IP_LITERAL$","IPV6ADDRZ_RELAXED$","IPVFUTURE$","HOST$","REG_NAME$","PORT$","AUTHORITY$","PCHAR$","SEGMENT$","SEGMENT_NZ$","SEGMENT_NZ_NC$","PATH_ABEMPTY$","PATH_ABSOLUTE$","PATH_EMPTY$","QUERY$","PATH_NOSCHEME$","PATH_ROOTLESS$","IPRIVATE$$","FRAGMENT$","HIER_PART$","URI$","RELATIVE_PART$","RELATIVE$","NOT_SCHEME","NOT_USERINFO","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","NOT_QUERY","NOT_FRAGMENT","ESCAPE","UNRESERVED","OTHER_CHARS","PCT_ENCODED","IPV4ADDRESS","IPV6ADDRESS","URI_PROTOCOL","IRI_PROTOCOL","maxInt","base","regexPunycode","regexNonASCII","regexSeparators","overflow","floor","Math","stringFromCharCode","String","fromCharCode","RangeError","mapDomain","string","fn","labels","encoded","array","map","ucs2decode","output","counter","charCodeAt","extra","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","k","baseMinusTMin","decode","input","codePoint","inputLength","n","bias","basic","lastIndexOf","j","error$1","oldi","w","t","baseMinusT","out","fromCodePoint","encode","_step","Symbol","iterator","_iteratorNormalCompletion","_iterator","next","done","currentValue","basicLength","handledCPCount","m","_step2","_iteratorNormalCompletion2","_iterator2","handledCPCountPlusOne","_step3","_iteratorNormalCompletion3","_iterator3","q","qMinusT","punycode","SCHEMES","pctEncChar","chr","pctDecChars","newStr","il","parseInt","substr","c2","c3","_normalizeComponentEncoding","components","protocol","decodeUnreserved","decStr","match","scheme","userinfo","host","path","query","_stripLeadingZeros","_normalizeIPv4","matches","address","_normalizeIPv6","zone","reverse","last","first","firstFields","lastFields","isLastFieldIPv4Address","fieldCount","lastFieldsStart","fields","allZeroFields","longestZeroFields","reduce","acc","field","lastLongest","sort","a","b","newHost","newFirst","newLast","URI_PARSE","NO_MATCH_IS_UNDEFINED","uriString","iri","reference","port","isNaN","indexOf","schemeHandler","unicodeSupport","domainHost","_recomposeAuthority","uriTokens","_","$1","$2","RDS1","RDS2","RDS3","RDS5","removeDotSegments","im","s","authority","charAt","absolutePath","resolveComponents","relative","skipNormalization","target","tolerant","unescapeComponent","handler","secure","http","isSecure","wsComponents","resourceName","ws","O","VCHAR$$","NOT_LOCAL_PART","NOT_HFNAME","NOT_HFVALUE","mailtoComponents","to","unknownHeaders","headers","hfields","hfield","toAddrs","subject","body","addr","obj","setInterval","toAddr","atIdx","localPart","domain","URN_PARSE","urnComponents","nid","nss","urnScheme","uriComponents","UUID","uuidComponents","uuid","https","wss","mailto","urn","baseURI","relativeURI","schemelessOptions","assign","uri","uriA","uriB","equal","constructor","flags","valueOf","$d593334074ae51c3$var$checkDataType","dataType","strictNumbers","negate","EQUAL","AND","OK","NOT","checkDataType","checkDataTypes","dataTypes","types","$d593334074ae51c3$var$toHash","object","null","number","integer","coerceToTypes","optionCoerceTypes","$d593334074ae51c3$var$COERCE_TO_TYPES","getProperty","$d593334074ae51c3$var$getProperty","escapeQuotes","$d593334074ae51c3$var$escapeQuotes","varOccurences","varReplace","expr","schemaHasRules","rules","schemaHasRulesExcept","exceptKeyword","schemaUnknownRules","$d593334074ae51c3$var$toQuotedString","getPathExpr","currentPath","jsonPointers","isNumber","$d593334074ae51c3$var$joinPaths","getPath","prop","$d593334074ae51c3$var$escapeJsonPointer","getData","lvl","paths","up","jsonPointer","$d593334074ae51c3$var$JSON_POINTER","$d593334074ae51c3$var$RELATIVE_JSON_POINTER","segments","segment","$d593334074ae51c3$var$unescapeJsonPointer","decodeURIComponent","unescapeJsonPointer","encodeURIComponent","escapeJsonPointer","hash","$d593334074ae51c3$var$IDENTIFIER","$d593334074ae51c3$var$SINGLE_QUOTE","len","pos","$4fcf5c7c1e3ed796$var$traverse","cb","$4fcf5c7c1e3ed796$var$_traverse","pre","post","arrayKeywords","propsKeywords","skipKeywords","additionalItems","items","contains","additionalProperties","propertyNames","not","allOf","anyOf","oneOf","definitions","properties","patternProperties","default","enum","const","required","maximum","minimum","exclusiveMaximum","exclusiveMinimum","multipleOf","maxLength","minLength","pattern","maxItems","minItems","uniqueItems","maxProperties","minProperties","$8fcb6e0f602a6f70$var$MissingRefError","missingRef","missingSchema","$8fcb6e0f602a6f70$var$errorSubclass","Subclass","create","ajv","validation","cmp","f","cycles","aobj","bobj","seen","stringify","toJSON","isFinite","JSON","TypeError","seenIndex","$keyword","$ruleType","$refKeywords","all","strictKeywords","$unknownKwd","$keywordsMsg","async","$lvl","level","$dataLvl","dataLevel","$schemaPath","$errSchemaPath","$breakOnError","allErrors","$valid","$$outStack","createErrors","messages","verbose","__err","compositeRule","$top","rootId","dataPathArr","useDefaults","strictDefaults","$defaultMsg","$closingBraces1","$closingBraces2","$typeSchema","$typeIsArray","concat","extendRefs","$comment","coerceTypes","$coerceToTypes","$rulesGroup","$shouldUseGroup","$method","$dataType","$coerced","arr1","$type","$i","l1","$parentData","arr2","i2","l2","arr3","$propertyKey","i3","l3","$sch","$passData","arr4","l4","arr5","$rule","i5","l5","$shouldUseRule","$code","implements","impl","$ruleImplementsSomeKeyword","$96d6d3517709d594$var$Cache","$a0e0b76d1eda3687$var$DATE","$a0e0b76d1eda3687$var$DAYS","$a0e0b76d1eda3687$var$TIME","$a0e0b76d1eda3687$var$HOSTNAME","$a0e0b76d1eda3687$var$URI","$a0e0b76d1eda3687$var$URITEMPLATE","$a0e0b76d1eda3687$var$URL","$a0e0b76d1eda3687$var$UUID","$a0e0b76d1eda3687$var$JSON_POINTER","$a0e0b76d1eda3687$var$JSON_POINTER_URI_FRAGMENT","$a0e0b76d1eda3687$var$RELATIVE_JSON_POINTER","$a0e0b76d1eda3687$var$formats","mode","$a0e0b76d1eda3687$var$date","year","month","day","$a0e0b76d1eda3687$var$isLeapYear","$a0e0b76d1eda3687$var$time","full","hour","minute","second","timeZone","fast","date","time","email","hostname","ipv4","ipv6","$a0e0b76d1eda3687$var$regex","dateTime","$a0e0b76d1eda3687$var$DATE_TIME_SEPARATOR","$a0e0b76d1eda3687$var$NOT_URI_FRAGMENT","$a0e0b76d1eda3687$var$Z_ANCHOR","ALL","$099c4489420a7ed1$require$toHash","forEach","group","implKeywords","$5n8bn","custom","if","$refCode","$refVal","$message","missingRefs","$it","$nextValid","passContext","__callValidate","$closingBraces","$currentBaseId","$allSchemasEmpty","$errs","$wasComposite","$sch1","$isData","$idx","$dataNxt","$nextData","$nonEmptySchema","$schemaDeps","$propertyDeps","$ownProperties","ownProperties","$property","$deps","$currentErrorPath","$useData","$prop","$propertyPath","$missingProperty","$vSchema","$schemaValue","$unknownFormats","unknownFormats","$allowUnknown","$format","$isObject","$formatType","$formatRef","$thenSch","$elseSch","$thenPresent","$elsePresent","$ifClause","$additionalItems","$currErrSchemaPath","$isMax","$exclusiveKeyword","$schemaExcl","$isDataExcl","$op","$notOp","$errorKeyword","$schemaValueExcl","$exclusive","$exclType","$exclIsNumber","$opStr","$opExpr","unicode","multipleOfPrecision","$allErrorsOption","$prevValid","$passingSchemas","$key","$dataProperties","$schemaKeys","filter","notProto","$pProperties","$pPropertyKeys","$aProperties","$someProperties","$noAdditional","$additionalIsSchema","$removeAdditional","removeAdditional","$checkAdditional","$required","$requiredHash","i1","$pProperty","$additionalProperty","$useDefaults","$hasDefault","i4","$invalidName","$propertySch","$loopRequired","$itemType","$130c7a93e3f6ddb6$var$KEYWORDS","keywordsJsonPointers","$5141bb93f0e862d2$var$compileAsync","callback","loadSchema","loadMetaSchemaOf","then","_compileAsync","Promise","e1","$5141bb93f0e862d2$require$MissingRefError","added","schemaPromise","removePromise","loadMissingSchema","$dffd0890c3328923$var$IDENTIFIER","keyword1","definition1","_addRule","ruleGroup","rg","$1xIQ2","$dffd0890c3328923$var$validateKeyword","throwError","_validateKeyword","$h9Df1","$compile","$inline","$macro","$ruleValidate","$validateCode","$definition","$rDef","$validateSchema","$ruleErrs","$ruleErr","$asyncKeyword","statements","$parentDataProperty","def_callRuleValidate","modifying","def_customError","simpleTypes","$23sSB","$695b3d6025d5e530$var$ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","$695b3d6025d5e530$var$_objectSpread2","$695b3d6025d5e530$var$_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","$695b3d6025d5e530$var$_typeof","obj1","configurable","writable","$695b3d6025d5e530$var$_extends","$695b3d6025d5e530$var$_objectWithoutProperties","excluded","sourceKeys","$695b3d6025d5e530$var$_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","$695b3d6025d5e530$var$_toConsumableArray","$695b3d6025d5e530$var$_arrayLikeToArray","$695b3d6025d5e530$var$_arrayWithoutHoles","iter","from","$695b3d6025d5e530$var$_iterableToArray","minLen","$695b3d6025d5e530$var$_unsupportedIterableToArray","$695b3d6025d5e530$var$_nonIterableSpread","$695b3d6025d5e530$var$userAgent","window","navigator","userAgent","$695b3d6025d5e530$var$IE11OrLess","$695b3d6025d5e530$var$Edge","$695b3d6025d5e530$var$FireFox","$695b3d6025d5e530$var$Safari","$695b3d6025d5e530$var$IOS","$695b3d6025d5e530$var$ChromeForAndroid","$695b3d6025d5e530$var$captureMode","capture","passive","$695b3d6025d5e530$var$on","el","event","addEventListener","$695b3d6025d5e530$var$off","removeEventListener","$695b3d6025d5e530$var$matches","selector","substring","msMatchesSelector","webkitMatchesSelector","$695b3d6025d5e530$var$getParentOrHost","document","nodeType","parentNode","$695b3d6025d5e530$var$closest","ctx","includeCTX","$695b3d6025d5e530$var$_throttleTimeout","$695b3d6025d5e530$var$R_SPACE","$695b3d6025d5e530$var$toggleClass","state","classList","className","$695b3d6025d5e530$var$css","val","style","defaultView","getComputedStyle","currentStyle","$695b3d6025d5e530$var$matrix","selfOnly","appliedTransforms","transform","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","$695b3d6025d5e530$var$find","tagName","list","getElementsByTagName","$695b3d6025d5e530$var$getWindowScrollingElement","scrollingElement","documentElement","$695b3d6025d5e530$var$getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","container","getBoundingClientRect","elRect","top","left","bottom","right","height","width","innerHeight","innerWidth","containerRect","elMatrix","scaleX","scaleY","d","$695b3d6025d5e530$var$isScrolledPast","elSide","parentSide","parent","$695b3d6025d5e530$var$getParentAutoScrollElement","elSideVal","parentSideVal","$695b3d6025d5e530$var$getChild","childNum","includeDragEl","currentChild","display","$695b3d6025d5e530$export$31b3ca70d8f57423","ghost","dragged","draggable","$695b3d6025d5e530$var$lastChild","lastElementChild","previousElementSibling","$695b3d6025d5e530$var$index","clone","$695b3d6025d5e530$var$getRelativeScrollOffset","offsetLeft","offsetTop","winScroller","scrollLeft","scrollTop","includeSelf","elem","gotSelf","clientWidth","scrollWidth","clientHeight","scrollHeight","elemCSS","overflowX","overflowY","$695b3d6025d5e530$var$isRectEqual","rect1","rect2","round","$695b3d6025d5e530$var$throttle","ms","args","_this","setTimeout","$695b3d6025d5e530$var$scrollBy","y","$695b3d6025d5e530$var$clone","Polymer","$","jQuery","Zepto","dom","cloneNode","$695b3d6025d5e530$var$setRect","rect","$695b3d6025d5e530$var$unsetRect","$695b3d6025d5e530$var$expando","Date","getTime","$695b3d6025d5e530$var$AnimationStateManager","animationCallbackId","animationStates","captureAnimationState","animation","child","fromRect","thisAnimationDuration","childMatrix","addAnimationState","removeAnimationState","Number","$695b3d6025d5e530$var$indexOfObject","animateAll","clearTimeout","animating","animationTime","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","sqrt","pow","$695b3d6025d5e530$var$calculateRealTime","animate","max","animationResetTimer","currentRect","duration","translateX","translateY","animatingX","animatingY","forRepaintDummy","offsetWidth","$695b3d6025d5e530$var$repaint","easing","animated","$695b3d6025d5e530$var$plugins","$695b3d6025d5e530$var$defaults","initializeByDefault","$695b3d6025d5e530$var$PluginManager","mount","plugin","option","pluginName","pluginEvent","eventName","sortable","evt","eventCanceled","cancel","eventNameGlobal","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","$695b3d6025d5e530$var$dispatchEvent","_ref","rootEl","targetEl","cloneEl","toEl","fromEl","oldIndex","newIndex","oldDraggableIndex","newDraggableIndex","originalEvent","putSortable","extraEventProperties","onName","CustomEvent","createEvent","initEvent","bubbles","cancelable","pullMode","lastPutMode","allEventProperties","dispatchEvent","$695b3d6025d5e530$var$_excluded","$695b3d6025d5e530$var$pluginEvent","bind","dragEl","$695b3d6025d5e530$var$dragEl","parentEl","$695b3d6025d5e530$var$parentEl","ghostEl","$695b3d6025d5e530$var$ghostEl","$695b3d6025d5e530$var$rootEl","nextEl","$695b3d6025d5e530$var$nextEl","lastDownEl","$695b3d6025d5e530$var$lastDownEl","$695b3d6025d5e530$var$cloneEl","cloneHidden","$695b3d6025d5e530$var$cloneHidden","dragStarted","$695b3d6025d5e530$var$moved","$695b3d6025d5e530$var$putSortable","activeSortable","active","$695b3d6025d5e530$var$oldIndex","$695b3d6025d5e530$var$oldDraggableIndex","$695b3d6025d5e530$var$newIndex","$695b3d6025d5e530$var$newDraggableIndex","hideGhostForTarget","$695b3d6025d5e530$var$_hideGhostForTarget","unhideGhostForTarget","$695b3d6025d5e530$var$_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","$695b3d6025d5e530$var$_dispatchEvent","info","$695b3d6025d5e530$var$activeGroup","$695b3d6025d5e530$var$tapEvt","$695b3d6025d5e530$var$touchEvt","$695b3d6025d5e530$var$lastDx","$695b3d6025d5e530$var$lastDy","$695b3d6025d5e530$var$tapDistanceLeft","$695b3d6025d5e530$var$tapDistanceTop","$695b3d6025d5e530$var$lastTarget","$695b3d6025d5e530$var$lastDirection","$695b3d6025d5e530$var$targetMoveDistance","$695b3d6025d5e530$var$ghostRelativeParent","$695b3d6025d5e530$var$awaitingDragStarted","$695b3d6025d5e530$var$ignoreNextClick","$695b3d6025d5e530$var$sortables","$695b3d6025d5e530$var$pastFirstInvertThresh","$695b3d6025d5e530$var$isCircumstantialInvert","$695b3d6025d5e530$var$ghostRelativeParentInitialScroll","$695b3d6025d5e530$var$_silent","$695b3d6025d5e530$var$savedInputChecked","$695b3d6025d5e530$var$documentExists","$695b3d6025d5e530$var$PositionGhostAbsolutely","$695b3d6025d5e530$var$CSSFloatProperty","$695b3d6025d5e530$var$supportDraggable","createElement","$695b3d6025d5e530$var$supportCssPointerEvents","cssText","pointerEvents","$695b3d6025d5e530$var$_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","touchingSideChild2","$695b3d6025d5e530$var$_prepareGroup","toFn","pull","sameGroup","otherGroup","originalGroup","checkPull","checkPut","revertClone","preventDefault","stopPropagation","stopImmediatePropagation","$695b3d6025d5e530$var$nearestEmptyInsertDetectEvent","touches","nearest","clientX","clientY","some","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","ret","_onDragOver","$695b3d6025d5e530$var$_checkOutsideTargetEl","_isOutsideThisEl","disabled","store","handle","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","ghostClass","chosenClass","dragClass","ignore","preventOnFilter","setData","dataTransfer","textContent","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","$695b3d6025d5e530$var$_onMove","dragRect","targetRect","willInsertAfter","retVal","onMoveFn","onMove","draggedRect","related","relatedRect","$695b3d6025d5e530$var$_disableDraggable","$695b3d6025d5e530$var$_unsilent","$695b3d6025d5e530$var$_generateId","src","href","sum","$695b3d6025d5e530$var$_nextTick","$695b3d6025d5e530$var$_cancelNextTick","_getDirection","touch","pointerType","originalTarget","shadowRoot","composedPath","inputs","idx","checked","$695b3d6025d5e530$var$_saveInputCheckedState","button","isContentEditable","criteria","trim","_prepareDragStart","dragStartFn","ownerDocument","nextSibling","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","abs","_onTouchMove","_onDragStart","selection","empty","getSelection","removeAllRanges","err","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","ghostMatrix","relativeScrollOffset","dx","dy","cssMatrix","appendChild","_hideClone","cloneId","insertBefore","_loopId","effectAllowed","_dragStartId","revert","vertical","target1","isOwner","canSort","fromSortable","completedFired","dragOverEvent","_ignoreWhileAnimating","completed","elLastChild","spacer","$695b3d6025d5e530$var$_ghostIsLast","changed","$695b3d6025d5e530$var$_ghostIsFirst","firstChild","targetBeforeFirstSwap","sibling","differentLevel","differentRowCol","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","$695b3d6025d5e530$var$_dragElInRowColumn","side1","scrolledPastTop","scrollBefore","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","$695b3d6025d5e530$var$_getInsertDirection","$695b3d6025d5e530$var$_getSwapDirection","dragIndex","nextElementSibling","after1","moveVector","axis","after","insertion","_showClone","_offMoveEvents","_offUpEvents","clearInterval","removeChild","save","handleEvent","dropEffect","$695b3d6025d5e530$var$_globalDragOver","toArray","order","getAttribute","useAnimation","set","closest","destroy","el1","querySelectorAll","removeAttribute","utils","on","off","css","find","is","extend","dst","throttle","toggleClass","nextTick","cancelNextTick","detectDirection","getChild","element","_len","plugins","version","$695b3d6025d5e530$var$scrollEl","$695b3d6025d5e530$var$scrollRootEl","$695b3d6025d5e530$var$lastAutoScrollX","$695b3d6025d5e530$var$lastAutoScrollY","$695b3d6025d5e530$var$touchEvt$1","$695b3d6025d5e530$var$pointerElemChangedInterval","$695b3d6025d5e530$var$autoScrolls","$695b3d6025d5e530$var$scrolling","$695b3d6025d5e530$var$clearAutoScrolls","autoScroll","pid","$695b3d6025d5e530$var$clearPointerElemChangedInterval","$695b3d6025d5e530$var$lastSwapEl","$695b3d6025d5e530$var$autoScroll","isFallback","scroll","scrollCustomFn","sens","scrollSensitivity","speed","scrollSpeed","scrollThisInstance","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","bubbleScroll","$695b3d6025d5e530$var$drop","toSortable","changedTouches","onSpill","$695b3d6025d5e530$var$Revert","$695b3d6025d5e530$var$Remove","$695b3d6025d5e530$export$bdb5f0a1b77546f4","Swap","swapClass","dragStart","dragOverValid","_ref2","swap","prevSwapEl","drop","_ref3","n1","n2","p1","p2","isEqualNode","$695b3d6025d5e530$var$swapNodes","nulling","swapItem","startIndex","_ref4","parentSortable","$695b3d6025d5e530$var$lastMultiDragSelect","$695b3d6025d5e530$var$multiDragSortable","$695b3d6025d5e530$var$dragEl$1","$695b3d6025d5e530$var$clonesFromRect","$695b3d6025d5e530$var$clonesHidden","$695b3d6025d5e530$var$multiDragElements","$695b3d6025d5e530$var$multiDragClones","$695b3d6025d5e530$var$initialFolding","$695b3d6025d5e530$var$folding","$695b3d6025d5e530$var$dragStarted","$695b3d6025d5e530$export$18e5d2a5d1df842d","MultiDrag","_deselectMultiDrag","_checkKeyDown","_checkKeyUp","selectedClass","multiDragKey","multiDragElement","multiDragKeyDown","isMultiDrag","delayStartGlobal","delayEnded","setupClone","sortableIndex","$695b3d6025d5e530$var$insertMultiDragClones","showClone","hideClone","_ref5","dragStartGlobal","_ref6","multiDrag","_ref7","_this2","$695b3d6025d5e530$var$removeMultiDragElements","dragOver","_ref8","_ref9","clonesInserted","$695b3d6025d5e530$var$insertMultiDragElements","dragOverCompleted","_ref10","dragRectAbsolute","clonesHiddenBefore","dragOverAnimationCapture","_ref11","dragMatrix","dragOverAnimationComplete","_ref12","originalEvt","shiftKey","lastIndex","currentIndex","multiDragIndex","update","nullingGlobal","destroyGlobal","select","deselect","_this3","oldIndicies","newIndicies","clones","elementsInserted","AutoScroll","forceAutoScrollFallback","_handleAutoScroll","_handleFallbackAutoScroll","dragOverBubble","ogElemScroller","newElem","$695b3d6025d5e530$export$2e2bcd8739ae039","$cbfe5faf5ba5bc17$var$_ajv","$cbfe5faf5ba5bc17$var$_interopRequireDefault","$cbfe5faf5ba5bc17$var$_sortablejs","$744fb6ff3d472aff$var$_objectSpread","offset","f1","f2","tid","once","ex","ev","extractMessage","es","excludedPaths","msg","$744fb6ff3d472aff$var$_defineProperty","ms2","br","lines","cur","line","$744fb6ff3d472aff$var$_toConsumableArray","catalog","props","$744fb6ff3d472aff$var$_extends","class","ks","elems","getElementsByName","focus","rv","sep","e0","glue","isTail","scrollToTop","diff","requestAnimationFrame","scrollTo","form","SortableList","onSortStart","onSortEnd","_ref2$collapsed","collapsed","_ref2$isRoot","_instantiateSortable","$cbfe5faf5ba5bc17$var$_objectWithoutProperties","$cbfe5faf5ba5bc17$var$_excluded","instance","marker","effectiveOptions","$cbfe5faf5ba5bc17$var$_objectSpread","onStart","onEnd","fromId","fromIndex","toId","toIndex","oncreate","Sortable","onremove","ondestroy","instantiateSortable","Image","_ref3$scaling","scaling","_ref3$alt","alt","backgroundImage","ImageInput","onimageselect","$cbfe5faf5ba5bc17$var$Image","noimageUrl","onclick","modal","wp","media","title","_T","library","multiple","image","open","selectImage","Control","label","_ref5$key","note","scope","$744fb6ff3d472aff$exports","Message","IconButton","icon","_ref6$appearance","appearance","_ref6$disabled","_ref6$xclass","xclass","$cbfe5faf5ba5bc17$var$_excluded2","$cbfe5faf5ba5bc17$var$_extends","general","createInitialState","doConfirm","thanksUrl","formId","actions","onchange","$cbfe5faf5ba5bc17$var$_excluded3","currentTarget","onenumchange","$cbfe5faf5ba5bc17$var$_excluded4","$cbfe5faf5ba5bc17$var$_defineProperty","oninput","$cbfe5faf5ba5bc17$var$_excluded5","onblur","$cbfe5faf5ba5bc17$var$_excluded6","deepCopy","General","updateMessages","onSettle","$cbfe5faf5ba5bc17$var$_excluded7","allActions","showNotice","createMessages","focusErrorInput","onDismiss","updateId","view","novalidate","$cbfe5faf5ba5bc17$var$Control","readonly","priceCheckerEnum","l","details","collapsing","detailItems","sorting","nextItemId","$cbfe5faf5ba5bc17$var$_toConsumableArray","nextProductId","products","spShowNav","popping","onShowNav","onHideNav","onDuplicate","findIndexByProp","sprintf","product","linsert","idx0","idx1","lreplace","onDelete","lremove","onAddAuto","category","price","taxRate","depends","quantity","onAddGroup","visible","onAddProduct","ribbons","onAddPriceWatcher","lower","lowerIncluded","higher","higherIncluded","onAddStop","onOuterSortStart","onOuterSortEnd","_ref13","lmove","onInnerSortStart","_ref14","onInnerSortEnd","_ref15","branchNo","fromGroup","toGroup","onOuterSelect","onInnerSelect","indice","onToggle","_ref16","$cbfe5faf5ba5bc17$var$_excluded8","onImageSelect","_ref17","_ref18","$cbfe5faf5ba5bc17$var$_excluded9","onInput","_ref19","$cbfe5faf5ba5bc17$var$_excluded10","onGroupBlur","_ref20","$cbfe5faf5ba5bc17$var$_excluded11","Group","onAutoBlur","_ref21","$cbfe5faf5ba5bc17$var$_excluded12","Auto","onProductBlur","_ref22","$cbfe5faf5ba5bc17$var$_excluded13","Product","onPriceWatcherBlur","_ref23","$cbfe5faf5ba5bc17$var$_excluded14","PriceWatcher","onStopBlur","_ref24","$cbfe5faf5ba5bc17$var$_excluded15","Stop","onChange","_ref25","$cbfe5faf5ba5bc17$var$_excluded16","onChangeValue","_ref26","$cbfe5faf5ba5bc17$var$_excluded17","onRibbonChange","_ref27","$cbfe5faf5ba5bc17$var$_excluded18","onGroupSettle","_ref28","$cbfe5faf5ba5bc17$var$_excluded19","validator","onAutoSettle","_ref29","$cbfe5faf5ba5bc17$var$_excluded20","onProductSettle","_ref30","$cbfe5faf5ba5bc17$var$_excluded21","onPriceWatcherSettle","_ref31","$cbfe5faf5ba5bc17$var$_excluded22","onStopSettle","_ref32","$cbfe5faf5ba5bc17$var$_excluded23","onOpenExtra","onCloseExtra","$cbfe5faf5ba5bc17$var$IconButton","$cbfe5faf5ba5bc17$var$SortableList","i0","findByProp","selected","qi","rows","$cbfe5faf5ba5bc17$var$ImageInput","r","attrItems","onAdd","divided","repeated","autoFill","initialValue","multiline","size","placeholder","siteKey","secretKey","action","threshold1","threshold2","_ref33","_ref34","onSelect","_ref35","_ref36","$cbfe5faf5ba5bc17$var$_excluded24","_ref37","$cbfe5faf5ba5bc17$var$_excluded25","onBlur","_ref38","$cbfe5faf5ba5bc17$var$_excluded26","_ref39","$cbfe5faf5ba5bc17$var$_excluded27","onChangeEnum","_ref40","form0","$cbfe5faf5ba5bc17$var$_excluded28","_ref41","$cbfe5faf5ba5bc17$var$_excluded29","nameMap","Name","Email","Tel","Address","Checkbox","Radio","Dropdown","MultiCheckbox","Text","reCAPTCHA3","iconMap","ns","mail","_ref42","$cbfe5faf5ba5bc17$var$_excluded30","_ref43","$cbfe5faf5ba5bc17$var$_excluded31","Mail","onBoolChange","_ref44","$cbfe5faf5ba5bc17$var$_excluded32","_ref45","$cbfe5faf5ba5bc17$var$_excluded33","fromAddress","fromName","alignReturnPath","notifyTo","textBody","activate","tab","submit","getElementById","setAttribute","submitUrl","ajax","contentType","success","response","submitK","loading","resp","history","replaceState","editUrl","pu","pvUrl","notification","hideNotice","_el","translate","wqData","state1","actions1","skipRender","rootElement","oldNode1","recycleElement","element1","childNodes","nodeValue","lifecycle","isRecycling","globalState","wiredActions","wireStateToActions","getPartialState","scheduleRender","setPartialState","resolveNode","render","patch","getKey","eventListener","events","updateAttribute","oldValue","isSvg","setProperty","createTextNode","createElementNS","removeChildren","removeElement","oldNode","newElement","oldAttributes","onupdate","updateElement","oldKeyed","newKeyed","oldElements","oldChildren","oldKey","newKey","keyedNode","mapHash","_name","Ajv"],"version":3,"file":"admin_form.js.map"}